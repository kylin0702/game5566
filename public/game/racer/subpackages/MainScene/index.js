window.__require=function e(t,i,n){function a(s,r){if(!i[s]){if(!t[s]){var c=s.split("/");if(c=c[c.length-1],!t[c]){var h="function"==typeof __require&&__require;if(!r&&h)return h(c,!0);if(o)return o(c,!0);throw new Error("Cannot find module '"+s+"'")}}var d=i[s]={exports:{}};t[s][0].call(d.exports,function(e){return a(t[s][1][e]||e)},d,d.exports,e,t,i,n)}return i[s].exports}for(var o="function"==typeof __require&&__require,s=0;s<n.length;s++)a(n[s]);return a}({Achievement:[function(e,t,i){"use strict";cc._RF.push(t,"06f73xtltRLsropYyZpQQW/","Achievement");var n=r(e("banner")),a=r(e("ChanneConfig")),o=r(e("List")),s=r(e("ListItem"));function r(e){return e&&e.__esModule?e:{default:e}}var c=a.default.channelId,h=e("GameDataCenter").getInstance();cc.Class({extends:cc.Component,properties:{achieveList:o.default,gainModelPrefab:cc.Prefab,itemList:cc.Node},onLoad:function(){var e=h.getAchievementData();this.achieveList.numItems=e.length,this.node.getChildByName("btn_close").active=!1,this.schedule(function(){this.node.getChildByName("btn_close").active=!0},2)},start:function(){},onListVRender:function(e,t){var i=h.getAchievementData()[t];e.getComponent(s.default).setAchieveItem(i),e.on("onGainModel",this.onGainModel,this)},onGainModel:function(e,t){this.itemId=t,e?cc.loader.loadRes("award/card_1",cc.SpriteFrame,function(e,t){if(!e){var i=cc.instantiate(this.gainModelPrefab);i.getComponent("gainModel").setData(4,t,1,null,!0),i.on("onClose",this.showGainAnimation,this),this.node.addChild(i)}}.bind(this)):this.showGainAnimation()},showGainAnimation:function(){for(var e=void 0,t=0;t<this.itemList.children.length;t++){var i=this.itemList.children[t].getComponent(s.default);i.itemData.index==this.itemId&&(e=i)}e.node.runAction(cc.sequence(cc.moveTo(.7,cc.v2(-(this.itemList.width+e.node.width),e.node.y)).easing(cc.easeBackIn()),cc.callFunc(function(){h._userGameData.achievementArr[e.itemData.id-1]=!0,h.saveData(),this.itemList.removeChild(e.node),this.itemList.getComponent(cc.Layout).updateLayout();var t=h.getAchievementData();this.achieveList.numItems=t.length},this)))},onClose:function(){cc.audioComponent.play("button"),this.node.emit("onClose"),this.node.destroy()},onEnable:function(){-1==h.newGuidelinesCount&&c==a.default.toutiao&&n.default.show("main")},onDisable:function(){c==a.default.toutiao&&(n.default.hide(),-1==h.newGuidelinesCount&&1!=h.rankLevel&&window.InterstitialAd.createInterstitialAdByAdId("main"))}}),cc._RF.pop()},{ChanneConfig:void 0,GameDataCenter:"GameDataCenter",List:"List",ListItem:"ListItem",banner:void 0}],AddCoin:[function(e,t,i){"use strict";cc._RF.push(t,"e2dachl4JpCrqaX1nQJagtq","AddCoin");var n=c(e("buttonConfig")),a=c(e("share")),o=c(e("videoAd")),s=c(e("statistics")),r=c(e("../sdk/banner"));function c(e){return e&&e.__esModule?e:{default:e}}var h=e("GameDataCenter").getInstance();cc.Class({extends:cc.Component,properties:{getSprite:cc.Sprite,getVideoSpriteFrame:cc.SpriteFrame,countLabel:cc.Label},start:function(){"share"!=n.default.getState("mianfeijinbi",0)&&(this.getSprite.spriteFrame=this.getVideoSpriteFrame),this.countLabel.string="("+h.addCoinCount+"/3)"},onGet:function(){h.addCoinCount<3?(s.default.setSceneEvent("\u4e3b\u573a\u666f","\u70b9\u51fb","\u4e3b\u754c\u9762-\u66f4\u591a\u91d1\u5e01-\u9886\u53d6"),"share"==n.default.getState("mianfeijinbi",0)?a.default.shareToSociety({shareType:1,buttonKey:"mianfeijinbi"},this.getCoin.bind(this)):o.default.show("mianfeijinbi",this.getCoin.bind(this))):cc.toast.show("\u91d1\u5e01\u9886\u53d6\u5b8c\u6bd5\uff0c\u8bf7\u660e\u5929\u518d\u6765\u9886\u53d6\uff01",1)},getCoin:function(){n.default.getState("mianfeijinbi",1),h.totalCoins+=2e3,h.addCoinCount++,this.countLabel.string="("+h.addCoinCount+"/3)",h.saveData(),cc.toast.show("\u606d\u559c\u83b7\u5f972000\u91d1\u5e01\uff01",1)},onClose:function(){this.node.parent.active=!1,this.node.parent.destroy()},onEnable:function(){n.default.isSceneOpen("shengjibanner")&&r.default.show("main")},onDisable:function(){r.default.hide()}}),cc._RF.pop()},{"../sdk/banner":void 0,GameDataCenter:"GameDataCenter",buttonConfig:void 0,share:void 0,statistics:void 0,videoAd:void 0}],AddDesktop:[function(e,t,i){"use strict";cc._RF.push(t,"4cf3521VeVB84WpqBGbICEQ","AddDesktop");var n=function(e){return e&&e.__esModule?e:{default:e}}(e("login"));var a=e("GameDataCenter").getInstance();cc.Class({extends:cc.Component,properties:{},start:function(){},onGet:function(){cc.audioComponent.play("button"),1023==window.wxBanner.scene?(a.totalCoins=a.totalCoins+5e3,a.isAddDesktop=!0,a.saveData(),cc.toast.show("\u83b7\u5f97\u91d1\u5e015000",1),this.node.destroy()):cc.toast.show("\u8bf7\u6309\u6307\u793a\u64cd\u4f5c\u65b9\u53ef\u83b7\u53d6\u5956\u52b1",1)},onClose:function(){cc.audioComponent.play("button"),this.node.destroy()},onEnable:function(){this.loginIsShow=n.default.hideLogin()},onDisable:function(){this.loginIsShow&&n.default.showLogin()}}),cc._RF.pop()},{GameDataCenter:"GameDataCenter",login:void 0}],AmusementGame:[function(e,t,i){"use strict";cc._RF.push(t,"3549bU5JUZAFL2fKL50Gcuy","AmusementGame");var n=e("GameDataCenter").getInstance(),a=[1,1.5,1,1],o=[1e3,1e3,1e3,1e3],s=[5e3,5e3,5e3,5e3],r=[10,2,25,25],c=[20,3,50,50];cc.Class({extends:cc.Component,properties:{titleLabel:cc.Label,taskLabel:cc.RichText,tipsNode:cc.Node,entryFreeLabel:cc.Label,getAwardLabel:cc.Label,inventoryPrefab:cc.Prefab,entryIcon:cc.Sprite,awardIcon:cc.Sprite,diamondSprite:cc.SpriteFrame},onLoad:function(){if(2==this.sceneType||3==this.sceneType){this.tipsNode.active=!0;var e=cc.gameConfig.gameString.amusementGameTips;this.tipsNode.getComponent(cc.Label).string=e.replace("X",2==this.sceneType?"\u91d1\u6761":"\u94bb\u77f3")}else this.tipsNode.active=!1;this.titleLabel.string=cc.gameConfig.config.amusementGameMode[this.sceneType],this.showAmusementTaskName(),this.entryFreeLabel.string=o[this.sceneType],this.getAwardLabel.string=s[this.sceneType]},start:function(){},setSceneData:function(e){this.sceneType=e},showAmusementTaskName:function(){var e=void 0,t=c[this.sceneType];switch(this.sceneType){case 0:e=cc.gameConfig.gameString.modeAmusementOverTakeTask,t+=r[this.sceneType]*n._userGameData.amusementCountArr[this.sceneType].win;break;case 1:e=cc.gameConfig.gameString.modeAmusementHitVehicleTask,t+=r[this.sceneType]*n._userGameData.amusementCountArr[this.sceneType].win;break;case 2:e=cc.gameConfig.gameString.modeAmusementGetBullionsTask,t+=r[this.sceneType]*n._userGameData.amusementCountArr[this.sceneType].win;break;case 3:e=cc.gameConfig.gameString.modeAmusementGetDiamondsTask,t+=r[this.sceneType]*n._userGameData.amusementCountArr[this.sceneType].win}var i=new RegExp("X","g"),a=e.replace(i,t);this.taskLabel.string=a},onInventory:function(){cc.audioComponent.play("button"),this.openInventory()},openInventory:function(){var e=cc.instantiate(this.inventoryPrefab);this.node.addChild(e)},onClose:function(){cc.audioComponent.play("button"),this.node.destroy()},onStartGame:function(){if(cc.audioComponent.play("button"),n.totalCoins<o[this.sceneType])return cc.toast.show(cc.gameConfig.gameString.coins_not_enough,1),void cc.uiCenter.showMoreCoins();cc.loading.loadScene("GameScene",{level:n._userGameData.amusementCountArr[this.sceneType].win,daojuList:n.getGameDaoJuList(),isAmusement:!0,amusementType:this.sceneType,tryProps:this.tryProps,circle:1,raceDist:a[this.sceneType]},!0)},onEnable:function(){-1==n.newGuidelinesCount&&channelId==ChanneConfig.toutiao&&banner.show("main")},onDisable:function(){channelId==ChanneConfig.toutiao&&(banner.hide(),-1==n.newGuidelinesCount&&1!=n.rankLevel&&window.InterstitialAd.createInterstitialAdByAdId("main"))}}),cc._RF.pop()},{GameDataCenter:"GameDataCenter"}],AudioBtn:[function(e,t,i){"use strict";cc._RF.push(t,"7c03cA6Xd9G65ZdG+pNAJyR","AudioBtn"),cc.Class({extends:cc.Component,properties:{audioON:cc.SpriteFrame,audioOff:cc.SpriteFrame,audioSprite:cc.Sprite},onLoad:function(){},start:function(){cc.audioComponent.isAudioOn()?this.audioSprite.spriteFrame=this.audioON:this.audioSprite.spriteFrame=this.audioOff,cc.audioComponent.node.on("setAudioOn",this.setAudioOn,this)},setAudioOn:function(){cc.audioComponent.isAudioOn()?this.audioSprite.spriteFrame=this.audioON:this.audioSprite.spriteFrame=this.audioOff},onAudio:function(){cc.audioComponent.setAudioOn(!cc.audioComponent.isAudioOn())}}),cc._RF.pop()},{}],AudioComponent:[function(e,t,i){"use strict";cc._RF.push(t,"e8f2d6hB8ZGMb4dUrK4x+9F","AudioComponent");var n=e("GameDataCenter").getInstance(),a=cc.Class({extends:cc.Component,statics:{instance:null,getInstance:function(){return null==a.instance&&(a.instance=new a),a.instance}},properties:{button:{default:[],type:cc.AudioClip},gameBGMusic:{default:null,type:cc.AudioClip},mainBGMusic:{default:null,type:cc.AudioClip},isGame:!1,mainBGMusicVolume:1,gameBGMusicVolume:1},onLoad:function(){null==cc.audioComponent&&(cc.audioComponent=this,cc.game.isPersistRootNode(this.node)||cc.game.addPersistRootNode(this.node))},onDestroy:function(){cc.audioEngine.uncacheAll()},start:function(){cc.audioEngine.setEffectsVolume(.5)},ctor:function(){this._isAudioOn=n.audioOn},isAudioOn:function(){return this._isAudioOn},setAudioOn:function(e){this._isAudioOn=e,this._isAudioOn?this.resumeMusic():(this.pauseMusic(),this.stopAllEffects()),this.node.emit("setAudioOn",this._isAudioOn)},playGameBGMusic:function(e){this._isAudioOn&&!cc.audioEngine.isMusicPlaying()&&(this._gameBGMusicID=cc.audioEngine.playMusic(this.gameBGMusic,!0),cc.audioEngine.setVolume(this._gameBGMusicID,this.gameBGMusicVolume),e&&cc.audioEngine.setCurrentTime(this._gameBGMusicID,e))},playMainBGMusic:function(e){this._isAudioOn&&!cc.audioEngine.isMusicPlaying()&&(this._mainBGMusicID=cc.audioEngine.playMusic(this.mainBGMusic,!0),cc.audioEngine.setVolume(this._mainBGMusicID,this.mainBGMusicVolume),e&&cc.audioEngine.setCurrentTime(this._mainBGMusicID,e))},playMusic:function(e,t){if(this._isAudioOn)return cc.audioEngine.playMusic(e,t)},playEffect:function(e,t){if(this._isAudioOn)return cc.audioEngine.playEffect(e,t)},stopEffect:function(e){e&&cc.audioEngine.stopEffect(e)},playNormalButtonClick:function(){var e=Math.floor(Math.random()*this.button.length);this._isAudioOn&&cc.audioEngine.playEffect(this.button[e])},play:function(e){if(this._isAudioOn)for(var t=0;t<this.button.length;t++)if(this.button[t].name==e){cc.audioEngine.playEffect(this.button[t]);break}},pauseMusic:function(){if(cc.audioEngine.isMusicPlaying()){var e=this.isGame?this._gameBGMusicID:this._mainBGMusicID;this.musicCurrentTime=cc.audioEngine.getCurrentTime(e),cc.audioEngine.pauseMusic()}},resumeMusic:function(){this._isAudioOn&&!cc.audioEngine.isMusicPlaying()&&(this.isGame?this.playGameBGMusic(this.musicCurrentTime):this.playMainBGMusic(this.musicCurrentTime))},stopMusic:function(){cc.audioEngine.stopMusic()},pauseAll:function(){cc.audioEngine.pauseAll()},resumeAll:function(){cc.audioEngine.resumeAll()},stopAll:function(){cc.audioEngine.stopAll()},pauseAllEffects:function(){cc.audioEngine.pauseAllEffects()},resumeAllEffects:function(){cc.audioEngine.resumeAllEffects()},stopAllEffects:function(){cc.audioEngine.stopAllEffects()}});cc._RF.pop()},{GameDataCenter:"GameDataCenter"}],BikeShop:[function(e,t,i){"use strict";cc._RF.push(t,"c9374WikO1Cb698jjlqqvyC","BikeShop");var n=r(e("buttonConfig")),a=r(e("share")),o=r(e("videoAd")),s=r(e("statistics"));r(e("banner"));function r(e){return e&&e.__esModule?e:{default:e}}r(e("ChanneConfig")).default.channelId;var c=e("TabPanel"),h=e("GameDataCenter").getInstance();e("Star");cc.Class({extends:c,properties:{_path:"bike/bike",gainPrefab:cc.Prefab,cardPrefab:cc.Prefab,fragmentNode:cc.Node,composeNode:cc.Node},showIcon:function(e,t){cc.log("\u663e\u793a\u56fe\u7247",e),this._bikeId=this._idx=e;var i=this.node.getChildByName("show");i.getChildByName("equipment").active=e==h.curUseBike,i.getChildByName("not_sale").active=!t.buyed&&(2==t.gainType||3==t.gainType);var n=this,a=t.buyed?this._path+e:"bike/bike_black_"+e;i&&cc.loader.loadRes(a,cc.SpriteFrame,function(t,a){if(!t){if(i.isValid)i.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=a,n.showIconName(e);n.refreshDescription()}})},showIconName:function(e){var t=this;cc.loader.loadRes("bike/bike_name_"+e,cc.SpriteFrame,function(e,i){e||(t.node.getChildByName("show").getChildByName("bikeName").getComponent(cc.Sprite).spriteFrame=i)})},refreshDescription:function(){for(var e=this.node.getChildByName("msg"),t=0;t<e.children.length;t++){var i="",n="";switch(t){case 0:i="maxSpeed",n="upgradeMaxSpeed";break;case 1:i="accRate",n="upgradeAccRate";break;case 2:i="maxSteer",n="upgradeMaxSteer";break;case 3:i="steerRate",n="upgradeSteerRate"}var a=this.getBikeUpgradeData(this._bikeId+1,i,n,t),o=303*Number(a.totalPercent),s=h.getBikeUpgrade(this._idx);e.children[t].getChildByName("purple").active=s[t]>0,e.children[t].getChildByName("purple").width=o,e.children[t].getChildByName("red").width=o*Number(a.currentPercent),e.children[t].getChildByName("value").active=!0;var r=0==t?Math.floor(10*a.curVal)/10:1==t?a.curVal:Math.floor(a.curVal);e.children[t].getChildByName("value").getComponent(cc.Label).string=r+""}},setBuyButtonState:function(){if(this.buyNode.active&&(this.buyBtn.getComponent(cc.Button).interactable||this.discountBtn.getComponent(cc.Button).interactable)&&this._idx>=0&&this._idx<=h.getTotalBikeCount()-1){this.discountBtn.getChildByName("discountLabel").getComponent(cc.Label).string="";var e=h.getBikeDataSort(this._idx),t=h.getBikeDiscountCount(this._idx);if(t?(i=Math.floor(parseInt(e.cost)*parseFloat(e.saleDiscount[t-1])),e.discountCount=t,e.discountCost=i):i=e.cost,0==e.buyed){var i=e.discountCount?parseInt(e.discountCost):parseInt(e.cost),n=!e.discountCount||e.discountCount<e.saleDiscount.length;parseFloat(e.saleDiscount[e.discountCount-1]);if(n){var a,o=e.discountCount||0;(a=0==o?-1*(100-Math.floor(100*e.saleDiscount[0])):-1*Math.floor(100*parseFloat(e.saleDiscount[o-1])-100*parseFloat(e.saleDiscount[o])))<0?this.setDisCountBtnState(!0,a):this.setDisCountBtnState(!1)}else this.setDisCountBtnState(!1);this.buyBtn.getComponent(cc.Button).interactable=!0}else this.buyNode.active=!1}},onBuy:function(e){cc.audioComponent.play("button"),s.default.setSceneEvent("\u8d5b\u8f66\u5546\u57ce","\u70b9\u51fb","\u5546\u57ce-\u8f66\u8d2d\u4e70");var t,i=h.getBikeDataSort(this._idx),n=h.getBikeDiscountCount(this._idx);if(n?(t=Math.floor(parseInt(i.cost)*parseFloat(i.saleDiscount[n-1])),i.discountCount=n,i.discountCost=t):t=i.cost,i.buyed)cc.toast.show(cc.gameConfig.gameString.hadBuyed,1);else{var a;if(i.discountCount&&i.discountCount>0){if(a=i.discountCost,0==i.gainType){if(!(h.totalCoins>=a))return cc.toast.show(cc.gameConfig.gameString.coins_not_enough,1),void cc.uiCenter.showMoreCoins();h.totalCoins-=a}else if(1==i.gainType){if(!(h.totalDiamonds>=a))return cc.toast.show(cc.gameConfig.gameString.diamonds_not_enough,1),void cc.uiCenter.showMoreDiamonds();h.totalDiamonds-=a}}else if(a=i.cost,0==i.gainType){if(!(h.totalCoins>=a))return cc.toast.show(cc.gameConfig.gameString.coins_not_enough,1),void cc.uiCenter.showMoreCoins();h.totalCoins-=a}else if(1==i.gainType){if(!(h.totalDiamonds>=a))return cc.toast.show(cc.gameConfig.gameString.diamonds_not_enough,1),void cc.uiCenter.showMoreDiamonds();h.totalDiamonds-=a}h._userGameData.bikeUpgrade[this._idx].buyed=!0,h.curUseBike=this._idx,h.saveData(),this.showGainModel(),cc.toast.show(cc.gameConfig.gameString.buy_success,1)}},onDiscount:function(){cc.audioComponent.play("button"),s.default.setSceneEvent("\u8d5b\u8f66\u5546\u57ce","\u70b9\u51fb","\u5546\u57ce-\u8f66\u780d\u4ef7");var e=function(){var e,t=h.getBikeDataSort(this._idx),i=h.getBikeDiscountCount(this._idx);i?(e=Math.floor(parseInt(t.cost)*parseFloat(t.saleDiscount[i-1])),t.discountCount=i,t.discountCost=e):e=t.cost;var n=t.discountCount||0,a=Math.floor(parseInt(t.cost)*parseFloat(t.saleDiscount[n]));t.discountCost=a,this.buyNode.getChildByName("price").getChildByName("layout").getChildByName("price").getComponent(cc.Label).string=a,this.discountBtn.getChildByName("discountLabel").getComponent(cc.Label).string="",t.discountCount?t.discountCount++:t.discountCount=1,t.discountCount==t.saleDiscount.length&&(this.discountBtn.getComponent(cc.Button).interactable=!1,this.discountBtn.getComponent(cc.Animation).stop());var o=100*parseFloat(t.saleDiscount[n]);cc.toast.show(cc.gameConfig.gameString.discount_success+":"+o+"%",1),h.userGameData.bikeDiscountArr[this._idx]+=1,h.lastDiscountEveryday=new Date,h.saveData(),this.setBuyButtonState()}.bind(this);"share"==n.default.getState("goumaisaiche",0)?a.default.shareToSociety({shareType:1,buttonKey:"goumaisaiche"},e):o.default.show("goumaisaiche",e)},onComposeCard:function(){cc.audioComponent.play("button");var e=h.getBikeDataSort(this._idx);h.userGameData.bikeUpgrade[this._idx].buyed=!0;for(var t=e.cost,i=new cc.NodePool,n=[],a=this.fragmentNode.parent.convertToWorldSpaceAR(this.fragmentNode.position),o=this.composeNode.getChildByName("card").convertToNodeSpaceAR(a),s=this.fragmentNode.getChildByName("icon").getComponent(cc.Sprite).spriteFrame,r=0;r<t;++r){var c=cc.instantiate(this.cardPrefab);i.put(c)}this.composeNode.active=!0,this.composeNode.getChildByName("not").active=!0;var d,u=cc.instantiate(this.cardPrefab),l=cc.callFunc(function(){u.setScale(.3,.3),u.setPosition(o),u.getComponent("CardItem").setComposeCard(s),d=u.getComponent("CardItem").lightNode}),f=cc.spawn(cc.scaleTo(.5,1.2,1.2),cc.moveTo(.5,0,0)),p=cc.callFunc(function(){d.opacity=255,d.runAction(cc.fadeOut(.3))},this),m=cc.callFunc(function(){for(var e=this,a=0;a<t;a++){var r=null;(r=i.size()>0?i.get():cc.instantiate(this.cardPrefab)).setScale(.3),r.setPosition(o),r.getComponent("CardItem").setComposeCard(s),this.composeNode.getChildByName("card").addChild(r),n.push(r)}n.forEach(function(n,a){n.runAction(cc.sequence(cc.delayTime(.1*a),cc.spawn(cc.moveTo(.5,u.position),cc.scaleTo(.5,1.2,1.2)),p,cc.callFunc(function(){cc.audioComponent.play("compose_card"),i.put(n),i.size()>=t&&e.scheduleOnce(function(){u.getComponent(cc.Animation).play("composeCard"),u.getComponent(cc.Animation).on("finished",this.showGainModel,this)},1)})))})},this),g=cc.sequence(l,f,m);u.setPosition(cc.v2(0,-u.height)),this.composeNode.getChildByName("card").addChild(u),u.runAction(g)},onShowCard:function(){cc.audioComponent.play("button");var e,t=this.fragmentNode.parent.convertToWorldSpaceAR(this.fragmentNode.position),i=this.composeNode.getChildByName("card").convertToNodeSpaceAR(t),n=this.fragmentNode.getChildByName("icon").getComponent(cc.Sprite).spriteFrame;this.composeNode.active=!0,this.composeNode.getChildByName("not").active=!0,this.showCardNode=cc.instantiate(this.cardPrefab);var a=cc.callFunc(function(){this.showCardNode.setScale(.3,.3),this.showCardNode.setPosition(i),this.showCardNode.getComponent("CardItem").setComposeCard(n),e=this.showCardNode.getComponent("CardItem").lightNode},this),o=cc.spawn(cc.scaleTo(.5,1.2,1.2),cc.moveTo(.5,0,0)),s=cc.callFunc(function(){e.runAction(cc.sequence(cc.fadeIn(.3),cc.callFunc(function(){e.getComponent(cc.Animation).play(),this.isShowCar=!1},this)))},this),r=cc.sequence(a,o,s);this.composeNode.getChildByName("card").addChild(this.showCardNode),this.showCardNode.runAction(r)},onCloseCard:function(){if(!this.isShowCar){cc.audioComponent.play("button");var e=this.fragmentNode.parent.convertToWorldSpaceAR(this.fragmentNode.position),t=this.composeNode.getChildByName("card").convertToNodeSpaceAR(e),i=this.showCardNode.getComponent("CardItem").lightNode,n=cc.spawn(cc.scaleTo(.5,.3,.3),cc.moveTo(.5,t)),a=cc.fadeOut(.3),o=cc.callFunc(function(){this.isShowCar=!0,i.runAction(cc.fadeOut(.3)),this.composeNode.getChildByName("not").active=!1},this),s=cc.callFunc(function(){this.composeNode.getChildByName("card").removeAllChildren(),this.composeNode.active=!1,this.showCardNode=null},this),r=cc.sequence(o,n,a,s);this.showCardNode.runAction(r)}},goToGame:function(){this.node.emit("GoToGame")},showGainModel:function(){this.composeNode.active=!1;var e=cc.instantiate(this.gainPrefab);h._userGameData.bikeUpgrade[this._idx].buyed=!0,h.saveData(),e.getComponent("gainModel").setData(0,this._path,this._idx,-1),e.on("onMap",this.goToGame,this),this.node.parent.addChild(e),cc.audioComponent.play("gain_card"),this.updateBikeDetails(this._idx),this.setButtonTips()},onLoad:function(){this.updateBikeDetails(0),this.composeNode.active=!1,this.isControl=!1},start:function(){cc.log("bike"),this.node.getChildByName("show").on(cc.Node.EventType.TOUCH_MOVE,this.onControlMove,this),this.node.getChildByName("show").on(cc.Node.EventType.TOUCH_END,this.onControlEnd,this),this.node.getChildByName("show").on(cc.Node.EventType.TOUCH_CANCEL,this.onControlEnd,this)},onControlEnd:function(){this.isControl=!1},onControlMove:function(e){this.isControl||(this.isControl=!0,e.touch.getStartLocation().x-e.touch._point.x>0?this.onNext():this.onPrev())},updateBikeDetails:function(e){var t,i=h.getBikeDataSort(e),n=h.getBikeDiscountCount(e);n?(t=Math.floor(parseInt(i.cost)*parseFloat(i.saleDiscount[n-1])),i.discountCount=n,i.discountCost=t):t=i.cost,this.showIcon(e,i),this.setChangeButton(e,h.getTotalBikeCount()-1),this.setBottomButton(0,i.gainType,i.buyed,t,i.fragment,this._idx),this.setBuyButtonState(),cc.log("this.buyNode.active",this.buyNode.active)},onPrev:function(e){cc.audioComponent.play("button");var t=h.getBikeIdSortArr();if(t&&t.length>0)for(var i=0;i<t.length;i++)if(t[i]==this._idx&&i>0)return void this.updateBikeDetails(t[i-1])},onNext:function(e){cc.audioComponent.play("button");var t=h.getBikeIdSortArr();if(t&&t.length>0)for(var i=0;i<t.length;i++)if(t[i]==this._idx&&i<t.length-1)return void this.updateBikeDetails(t[i+1])}}),cc._RF.pop()},{ChanneConfig:void 0,GameDataCenter:"GameDataCenter",Star:"Star",TabPanel:"TabPanel",banner:void 0,buttonConfig:void 0,share:void 0,statistics:void 0,videoAd:void 0}],BoxAward:[function(e,t,i){"use strict";cc._RF.push(t,"828c42gcARGpaoXwzamdCY7","BoxAward");var n=r(e("banner")),a=(r(e("login")),r(e("ChanneConfig"))),o=r(e("statistics")),s=r(e("buttonConfig"));function r(e){return e&&e.__esModule?e:{default:e}}a.default.channelId;cc.Class({extends:cc.Component,properties:{progressBar:cc.ProgressBar,ani:cc.Animation,getAwardButtonNode:cc.Node,playNode:cc.Node},onLoad:function(){this.playNode.active=this.getAwardButtonNode.active=!1,this.getAwardButtonNode.active=!0},show:function(e){0==e?this.scheduleOnce(function(){this.getAwardButtonNode.active=!0},1.5):this.playNode.active=!0},start:function(){this.progress=0,this.progressBar.progress=this.progress,this.schedule(this.downBar,.1)},onGetAward:function(){s.default.isSceneOpen("bannerAdPos")?this.scheduleOnce(this.getAward,.5+.5*Math.random()):this.getAward()},getAward:function(){var e=this;this.isOnClose||(this.isOnClose=!0,Math.random()>.5?this.scheduleOnce(function(){e.node.emit("onClose",!0),e.node.active=!1,e.node.destroy(),o.default.setSceneEvent("\u751f\u6daf\u6311\u6218\u6e38\u620f\u7ed3\u7b97\u795e\u79d8\u5b9d\u7bb1","\u70b9\u51fb","\u751f\u6daf\u6311\u6218-\u795e\u79d8\u5b9d\u7bb1-\u6253\u5f00")},.5+.5*Math.random()):(this.node.emit("onClose",!0),this.node.active=!1,this.node.destroy(),o.default.setSceneEvent("\u751f\u6daf\u6311\u6218\u6e38\u620f\u7ed3\u7b97\u795e\u79d8\u5b9d\u7bb1","\u70b9\u51fb","\u751f\u6daf\u6311\u6218-\u795e\u79d8\u5b9d\u7bb1-\u6253\u5f00")))},downBar:function(){this.progress>0&&(this.progress=this.progress-.025,this.progressBar.progress=this.progress)},onBox:function(){cc.audioComponent.play("button"),this.progress=this.progress+(this.progress<.3?.09:this.progress<.6?.075:this.progress<.8?.065:.05),this.progressBar.progress=this.progress,this.ani.play("box"),this.progress>.7+.2*Math.random()&&(this.node.emit("onClose",!0),this.node.active=!1,this.node.destroy())},onClose:function(){cc.audioComponent.play("button"),this.node.emit("onClose",!1),this.node.active=!1,this.node.destroy()},onDestroy:function(){},onEnable:function(){n.default.hide()},onDisable:function(){n.default.show("main")}}),cc._RF.pop()},{ChanneConfig:void 0,banner:void 0,buttonConfig:void 0,login:void 0,statistics:void 0}],1:[function(e,t,i){var n=i;n.bignum=e("bn.js"),n.define=e("./asn1/api").define,n.base=e("./asn1/base"),n.constants=e("./asn1/constants"),n.decoders=e("./asn1/decoders"),n.encoders=e("./asn1/encoders")},{"./asn1/api":2,"./asn1/base":4,"./asn1/constants":8,"./asn1/decoders":10,"./asn1/encoders":13,"bn.js":16}],2:[function(e,t,i){var n=e("../asn1"),a=e("inherits");function o(e,t){this.name=e,this.body=t,this.decoders={},this.encoders={}}i.define=function(e,t){return new o(e,t)},o.prototype._createNamed=function(t){var i;try{i=e("vm").runInThisContext("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch(e){i=function(e){this._initNamed(e)}}return a(i,t),i.prototype._initNamed=function(e){t.call(this,e)},new i(this)},o.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(n.decoders[e])),this.decoders[e]},o.prototype.decode=function(e,t,i){return this._getDecoder(t).decode(e,i)},o.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(n.encoders[e])),this.encoders[e]},o.prototype.encode=function(e,t,i){return this._getEncoder(t).encode(e,i)}},{"../asn1":1,inherits:101,vm:161}],3:[function(e,t,i){var n=e("inherits"),a=e("../base").Reporter,o=e("buffer").Buffer;function s(e,t){a.call(this,t),o.isBuffer(e)?(this.base=e,this.offset=0,this.length=e.length):this.error("Input not Buffer")}function r(e,t){if(Array.isArray(e))this.length=0,this.value=e.map(function(e){return e instanceof r||(e=new r(e,t)),this.length+=e.length,e},this);else if("number"==typeof e){if(!(0<=e&&e<=255))return t.error("non-byte EncoderBuffer value");this.value=e,this.length=1}else if("string"==typeof e)this.value=e,this.length=o.byteLength(e);else{if(!o.isBuffer(e))return t.error("Unsupported type: "+typeof e);this.value=e,this.length=e.length}}n(s,a),i.DecoderBuffer=s,s.prototype.save=function(){return{offset:this.offset,reporter:a.prototype.save.call(this)}},s.prototype.restore=function(e){var t=new s(this.base);return t.offset=e.offset,t.length=this.offset,this.offset=e.offset,a.prototype.restore.call(this,e.reporter),t},s.prototype.isEmpty=function(){return this.offset===this.length},s.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")},s.prototype.skip=function(e,t){if(!(this.offset+e<=this.length))return this.error(t||"DecoderBuffer overrun");var i=new s(this.base);return i._reporterState=this._reporterState,i.offset=this.offset,i.length=this.offset+e,this.offset+=e,i},s.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)},i.EncoderBuffer=r,r.prototype.join=function(e,t){return e||(e=new o(this.length)),t||(t=0),0===this.length?e:(Array.isArray(this.value)?this.value.forEach(function(i){i.join(e,t),t+=i.length}):("number"==typeof this.value?e[t]=this.value:"string"==typeof this.value?e.write(this.value,t):o.isBuffer(this.value)&&this.value.copy(e,t),t+=this.length),e)}},{"../base":4,buffer:47,inherits:101}],4:[function(e,t,i){var n=i;n.Reporter=e("./reporter").Reporter,n.DecoderBuffer=e("./buffer").DecoderBuffer,n.EncoderBuffer=e("./buffer").EncoderBuffer,n.Node=e("./node")},{"./buffer":3,"./node":5,"./reporter":6}],5:[function(e,t,i){var n=e("../base").Reporter,a=e("../base").EncoderBuffer,o=e("../base").DecoderBuffer,s=e("minimalistic-assert"),r=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],c=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(r);function h(e,t){var i={};this._baseState=i,i.enc=e,i.parent=t||null,i.children=null,i.tag=null,i.args=null,i.reverseArgs=null,i.choice=null,i.optional=!1,i.any=!1,i.obj=!1,i.use=null,i.useDecoder=null,i.key=null,i.default=null,i.explicit=null,i.implicit=null,i.contains=null,i.parent||(i.children=[],this._wrap())}t.exports=h;var d=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];h.prototype.clone=function(){var e=this._baseState,t={};d.forEach(function(i){t[i]=e[i]});var i=new this.constructor(t.parent);return i._baseState=t,i},h.prototype._wrap=function(){var e=this._baseState;c.forEach(function(t){this[t]=function(){var i=new this.constructor(this);return e.children.push(i),i[t].apply(i,arguments)}},this)},h.prototype._init=function(e){var t=this._baseState;s(null===t.parent),e.call(this),t.children=t.children.filter(function(e){return e._baseState.parent===this},this),s.equal(t.children.length,1,"Root node can have only one child")},h.prototype._useArgs=function(e){var t=this._baseState,i=e.filter(function(e){return e instanceof this.constructor},this);e=e.filter(function(e){return!(e instanceof this.constructor)},this),0!==i.length&&(s(null===t.children),t.children=i,i.forEach(function(e){e._baseState.parent=this},this)),0!==e.length&&(s(null===t.args),t.args=e,t.reverseArgs=e.map(function(e){if("object"!=typeof e||e.constructor!==Object)return e;var t={};return Object.keys(e).forEach(function(i){i==(0|i)&&(i|=0);var n=e[i];t[n]=i}),t}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(e){h.prototype[e]=function(){var t=this._baseState;throw new Error(e+" not implemented for encoding: "+t.enc)}}),r.forEach(function(e){h.prototype[e]=function(){var t=this._baseState,i=Array.prototype.slice.call(arguments);return s(null===t.tag),t.tag=e,this._useArgs(i),this}}),h.prototype.use=function(e){s(e);var t=this._baseState;return s(null===t.use),t.use=e,this},h.prototype.optional=function(){return this._baseState.optional=!0,this},h.prototype.def=function(e){var t=this._baseState;return s(null===t.default),t.default=e,t.optional=!0,this},h.prototype.explicit=function(e){var t=this._baseState;return s(null===t.explicit&&null===t.implicit),t.explicit=e,this},h.prototype.implicit=function(e){var t=this._baseState;return s(null===t.explicit&&null===t.implicit),t.implicit=e,this},h.prototype.obj=function(){var e=this._baseState,t=Array.prototype.slice.call(arguments);return e.obj=!0,0!==t.length&&this._useArgs(t),this},h.prototype.key=function(e){var t=this._baseState;return s(null===t.key),t.key=e,this},h.prototype.any=function(){return this._baseState.any=!0,this},h.prototype.choice=function(e){var t=this._baseState;return s(null===t.choice),t.choice=e,this._useArgs(Object.keys(e).map(function(t){return e[t]})),this},h.prototype.contains=function(e){var t=this._baseState;return s(null===t.use),t.contains=e,this},h.prototype._decode=function(e,t){var i=this._baseState;if(null===i.parent)return e.wrapResult(i.children[0]._decode(e,t));var n,a=i.default,s=!0,r=null;if(null!==i.key&&(r=e.enterKey(i.key)),i.optional){var c=null;if(null!==i.explicit?c=i.explicit:null!==i.implicit?c=i.implicit:null!==i.tag&&(c=i.tag),null!==c||i.any){if(s=this._peekTag(e,c,i.any),e.isError(s))return s}else{var h=e.save();try{null===i.choice?this._decodeGeneric(i.tag,e,t):this._decodeChoice(e,t),s=!0}catch(e){s=!1}e.restore(h)}}if(i.obj&&s&&(n=e.enterObject()),s){if(null!==i.explicit){var d=this._decodeTag(e,i.explicit);if(e.isError(d))return d;e=d}var u=e.offset;if(null===i.use&&null===i.choice){if(i.any)h=e.save();var l=this._decodeTag(e,null!==i.implicit?i.implicit:i.tag,i.any);if(e.isError(l))return l;i.any?a=e.raw(h):e=l}if(t&&t.track&&null!==i.tag&&t.track(e.path(),u,e.length,"tagged"),t&&t.track&&null!==i.tag&&t.track(e.path(),e.offset,e.length,"content"),a=i.any?a:null===i.choice?this._decodeGeneric(i.tag,e,t):this._decodeChoice(e,t),e.isError(a))return a;if(i.any||null!==i.choice||null===i.children||i.children.forEach(function(i){i._decode(e,t)}),i.contains&&("octstr"===i.tag||"bitstr"===i.tag)){var f=new o(a);a=this._getUse(i.contains,e._reporterState.obj)._decode(f,t)}}return i.obj&&s&&(a=e.leaveObject(n)),null===i.key||null===a&&!0!==s?null!==r&&e.exitKey(r):e.leaveKey(r,i.key,a),a},h.prototype._decodeGeneric=function(e,t,i){var n=this._baseState;return"seq"===e||"set"===e?null:"seqof"===e||"setof"===e?this._decodeList(t,e,n.args[0],i):/str$/.test(e)?this._decodeStr(t,e,i):"objid"===e&&n.args?this._decodeObjid(t,n.args[0],n.args[1],i):"objid"===e?this._decodeObjid(t,null,null,i):"gentime"===e||"utctime"===e?this._decodeTime(t,e,i):"null_"===e?this._decodeNull(t,i):"bool"===e?this._decodeBool(t,i):"objDesc"===e?this._decodeStr(t,e,i):"int"===e||"enum"===e?this._decodeInt(t,n.args&&n.args[0],i):null!==n.use?this._getUse(n.use,t._reporterState.obj)._decode(t,i):t.error("unknown tag: "+e)},h.prototype._getUse=function(e,t){var i=this._baseState;return i.useDecoder=this._use(e,t),s(null===i.useDecoder._baseState.parent),i.useDecoder=i.useDecoder._baseState.children[0],i.implicit!==i.useDecoder._baseState.implicit&&(i.useDecoder=i.useDecoder.clone(),i.useDecoder._baseState.implicit=i.implicit),i.useDecoder},h.prototype._decodeChoice=function(e,t){var i=this._baseState,n=null,a=!1;return Object.keys(i.choice).some(function(o){var s=e.save(),r=i.choice[o];try{var c=r._decode(e,t);if(e.isError(c))return!1;n={type:o,value:c},a=!0}catch(t){return e.restore(s),!1}return!0},this),a?n:e.error("Choice not matched")},h.prototype._createEncoderBuffer=function(e){return new a(e,this.reporter)},h.prototype._encode=function(e,t,i){var n=this._baseState;if(null===n.default||n.default!==e){var a=this._encodeValue(e,t,i);if(void 0!==a&&!this._skipDefault(a,t,i))return a}},h.prototype._encodeValue=function(e,t,i){var a=this._baseState;if(null===a.parent)return a.children[0]._encode(e,t||new n);var o=null;if(this.reporter=t,a.optional&&void 0===e){if(null===a.default)return;e=a.default}var s=null,r=!1;if(a.any)o=this._createEncoderBuffer(e);else if(a.choice)o=this._encodeChoice(e,t);else if(a.contains)s=this._getUse(a.contains,i)._encode(e,t),r=!0;else if(a.children)s=a.children.map(function(i){if("null_"===i._baseState.tag)return i._encode(null,t,e);if(null===i._baseState.key)return t.error("Child should have a key");var n=t.enterKey(i._baseState.key);if("object"!=typeof e)return t.error("Child expected, but input is not object");var a=i._encode(e[i._baseState.key],t,e);return t.leaveKey(n),a},this).filter(function(e){return e}),s=this._createEncoderBuffer(s);else if("seqof"===a.tag||"setof"===a.tag){if(!a.args||1!==a.args.length)return t.error("Too many args for : "+a.tag);if(!Array.isArray(e))return t.error("seqof/setof, but data is not Array");var c=this.clone();c._baseState.implicit=null,s=this._createEncoderBuffer(e.map(function(i){var n=this._baseState;return this._getUse(n.args[0],e)._encode(i,t)},c))}else null!==a.use?o=this._getUse(a.use,i)._encode(e,t):(s=this._encodePrimitive(a.tag,e),r=!0);if(!a.any&&null===a.choice){var h=null!==a.implicit?a.implicit:a.tag,d=null===a.implicit?"universal":"context";null===h?null===a.use&&t.error("Tag could be omitted only for .use()"):null===a.use&&(o=this._encodeComposite(h,r,d,s))}return null!==a.explicit&&(o=this._encodeComposite(a.explicit,!1,"context",o)),o},h.prototype._encodeChoice=function(e,t){var i=this._baseState,n=i.choice[e.type];return n||s(!1,e.type+" not found in "+JSON.stringify(Object.keys(i.choice))),n._encode(e.value,t)},h.prototype._encodePrimitive=function(e,t){var i=this._baseState;if(/str$/.test(e))return this._encodeStr(t,e);if("objid"===e&&i.args)return this._encodeObjid(t,i.reverseArgs[0],i.args[1]);if("objid"===e)return this._encodeObjid(t,null,null);if("gentime"===e||"utctime"===e)return this._encodeTime(t,e);if("null_"===e)return this._encodeNull();if("int"===e||"enum"===e)return this._encodeInt(t,i.args&&i.reverseArgs[0]);if("bool"===e)return this._encodeBool(t);if("objDesc"===e)return this._encodeStr(t,e);throw new Error("Unsupported tag: "+e)},h.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)},h.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(e)}},{"../base":4,"minimalistic-assert":105}],6:[function(e,t,i){var n=e("inherits");function a(e){this._reporterState={obj:null,path:[],options:e||{},errors:[]}}function o(e,t){this.path=e,this.rethrow(t)}i.Reporter=a,a.prototype.isError=function(e){return e instanceof o},a.prototype.save=function(){var e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}},a.prototype.restore=function(e){var t=this._reporterState;t.obj=e.obj,t.path=t.path.slice(0,e.pathLen)},a.prototype.enterKey=function(e){return this._reporterState.path.push(e)},a.prototype.exitKey=function(e){var t=this._reporterState;t.path=t.path.slice(0,e-1)},a.prototype.leaveKey=function(e,t,i){var n=this._reporterState;this.exitKey(e),null!==n.obj&&(n.obj[t]=i)},a.prototype.path=function(){return this._reporterState.path.join("/")},a.prototype.enterObject=function(){var e=this._reporterState,t=e.obj;return e.obj={},t},a.prototype.leaveObject=function(e){var t=this._reporterState,i=t.obj;return t.obj=e,i},a.prototype.error=function(e){var t,i=this._reporterState,n=e instanceof o;if(t=n?e:new o(i.path.map(function(e){return"["+JSON.stringify(e)+"]"}).join(""),e.message||e,e.stack),!i.options.partial)throw t;return n||i.errors.push(t),t},a.prototype.wrapResult=function(e){var t=this._reporterState;return t.options.partial?{result:this.isError(e)?null:e,errors:t.errors}:e},n(o,Error),o.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,o),!this.stack)try{throw new Error(this.message)}catch(e){this.stack=e.stack}return this}},{inherits:101}],7:[function(e,t,i){var n=e("../constants");i.tagClass={0:"universal",1:"application",2:"context",3:"private"},i.tagClassByName=n._reverse(i.tagClass),i.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},i.tagByName=n._reverse(i.tag)},{"../constants":8}],8:[function(e,t,i){var n=i;n._reverse=function(e){var t={};return Object.keys(e).forEach(function(i){(0|i)==i&&(i|=0);var n=e[i];t[n]=i}),t},n.der=e("./der")},{"./der":7}],9:[function(e,t,i){var n=e("inherits"),a=e("../../asn1"),o=a.base,s=a.bignum,r=a.constants.der;function c(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new h,this.tree._init(e.body)}function h(e){o.Node.call(this,"der",e)}function d(e,t){var i=e.readUInt8(t);if(e.isError(i))return i;var n=r.tagClass[i>>6],a=0==(32&i);if(31==(31&i)){var o=i;for(i=0;128==(128&o);){if(o=e.readUInt8(t),e.isError(o))return o;i<<=7,i|=127&o}}else i&=31;return{cls:n,primitive:a,tag:i,tagStr:r.tag[i]}}function u(e,t,i){var n=e.readUInt8(i);if(e.isError(n))return n;if(!t&&128===n)return null;if(0==(128&n))return n;var a=127&n;if(a>4)return e.error("length octect is too long");n=0;for(var o=0;o<a;o++){n<<=8;var s=e.readUInt8(i);if(e.isError(s))return s;n|=s}return n}t.exports=c,c.prototype.decode=function(e,t){return e instanceof o.DecoderBuffer||(e=new o.DecoderBuffer(e,t)),this.tree._decode(e,t)},n(h,o.Node),h.prototype._peekTag=function(e,t,i){if(e.isEmpty())return!1;var n=e.save(),a=d(e,'Failed to peek tag: "'+t+'"');return e.isError(a)?a:(e.restore(n),a.tag===t||a.tagStr===t||a.tagStr+"of"===t||i)},h.prototype._decodeTag=function(e,t,i){var n=d(e,'Failed to decode tag of "'+t+'"');if(e.isError(n))return n;var a=u(e,n.primitive,'Failed to get length of "'+t+'"');if(e.isError(a))return a;if(!i&&n.tag!==t&&n.tagStr!==t&&n.tagStr+"of"!==t)return e.error('Failed to match tag: "'+t+'"');if(n.primitive||null!==a)return e.skip(a,'Failed to match body of: "'+t+'"');var o=e.save(),s=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(s)?s:(a=e.offset-o.offset,e.restore(o),e.skip(a,'Failed to match body of: "'+t+'"'))},h.prototype._skipUntilEnd=function(e,t){for(;;){var i=d(e,t);if(e.isError(i))return i;var n,a=u(e,i.primitive,t);if(e.isError(a))return a;if(n=i.primitive||null!==a?e.skip(a):this._skipUntilEnd(e,t),e.isError(n))return n;if("end"===i.tagStr)break}},h.prototype._decodeList=function(e,t,i,n){for(var a=[];!e.isEmpty();){var o=this._peekTag(e,"end");if(e.isError(o))return o;var s=i.decode(e,"der",n);if(e.isError(s)&&o)break;a.push(s)}return a},h.prototype._decodeStr=function(e,t){if("bitstr"===t){var i=e.readUInt8();return e.isError(i)?i:{unused:i,data:e.raw()}}if("bmpstr"===t){var n=e.raw();if(n.length%2==1)return e.error("Decoding of string type: bmpstr length mismatch");for(var a="",o=0;o<n.length/2;o++)a+=String.fromCharCode(n.readUInt16BE(2*o));return a}if("numstr"===t){var s=e.raw().toString("ascii");return this._isNumstr(s)?s:e.error("Decoding of string type: numstr unsupported characters")}if("octstr"===t)return e.raw();if("objDesc"===t)return e.raw();if("printstr"===t){var r=e.raw().toString("ascii");return this._isPrintstr(r)?r:e.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(t)?e.raw().toString():e.error("Decoding of string type: "+t+" unsupported")},h.prototype._decodeObjid=function(e,t,i){for(var n,a=[],o=0;!e.isEmpty();){var s=e.readUInt8();o<<=7,o|=127&s,0==(128&s)&&(a.push(o),o=0)}128&s&&a.push(o);var r=a[0]/40|0,c=a[0]%40;if(n=i?a:[r,c].concat(a.slice(1)),t){var h=t[n.join(" ")];void 0===h&&(h=t[n.join(".")]),void 0!==h&&(n=h)}return n},h.prototype._decodeTime=function(e,t){var i=e.raw().toString();if("gentime"===t)var n=0|i.slice(0,4),a=0|i.slice(4,6),o=0|i.slice(6,8),s=0|i.slice(8,10),r=0|i.slice(10,12),c=0|i.slice(12,14);else{if("utctime"!==t)return e.error("Decoding "+t+" time is not supported yet");n=0|i.slice(0,2),a=0|i.slice(2,4),o=0|i.slice(4,6),s=0|i.slice(6,8),r=0|i.slice(8,10),c=0|i.slice(10,12);n=n<70?2e3+n:1900+n}return Date.UTC(n,a-1,o,s,r,c,0)},h.prototype._decodeNull=function(e){return null},h.prototype._decodeBool=function(e){var t=e.readUInt8();return e.isError(t)?t:0!==t},h.prototype._decodeInt=function(e,t){var i=e.raw(),n=new s(i);return t&&(n=t[n.toString(10)]||n),n},h.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getDecoder("der").tree}},{"../../asn1":1,inherits:101}],10:[function(e,t,i){var n=i;n.der=e("./der"),n.pem=e("./pem")},{"./der":9,"./pem":11}],11:[function(e,t,i){var n=e("inherits"),a=e("buffer").Buffer,o=e("./der");function s(e){o.call(this,e),this.enc="pem"}n(s,o),t.exports=s,s.prototype.decode=function(e,t){for(var i=e.toString().split(/[\r\n]+/g),n=t.label.toUpperCase(),s=/^-----(BEGIN|END) ([^-]+)-----$/,r=-1,c=-1,h=0;h<i.length;h++){var d=i[h].match(s);if(null!==d&&d[2]===n){if(-1!==r){if("END"!==d[1])break;c=h;break}if("BEGIN"!==d[1])break;r=h}}if(-1===r||-1===c)throw new Error("PEM section not found for: "+n);var u=i.slice(r+1,c).join("");u.replace(/[^a-z0-9\+\/=]+/gi,"");var l=new a(u,"base64");return o.prototype.decode.call(this,l,t)}},{"./der":9,buffer:47,inherits:101}],12:[function(e,t,i){var n=e("inherits"),a=e("buffer").Buffer,o=e("../../asn1"),s=o.base,r=o.constants.der;function c(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new h,this.tree._init(e.body)}function h(e){s.Node.call(this,"der",e)}function d(e){return e<10?"0"+e:e}function u(e,t,i,n){var a;if("seqof"===e?e="seq":"setof"===e&&(e="set"),r.tagByName.hasOwnProperty(e))a=r.tagByName[e];else{if("number"!=typeof e||(0|e)!==e)return n.error("Unknown tag: "+e);a=e}return a>=31?n.error("Multi-octet tag encoding unsupported"):(t||(a|=32),a|=r.tagClassByName[i||"universal"]<<6)}t.exports=c,c.prototype.encode=function(e,t){return this.tree._encode(e,t).join()},n(h,s.Node),h.prototype._encodeComposite=function(e,t,i,n){var o,s=u(e,t,i,this.reporter);if(n.length<128)return(o=new a(2))[0]=s,o[1]=n.length,this._createEncoderBuffer([o,n]);for(var r=1,c=n.length;c>=256;c>>=8)r++;(o=new a(2+r))[0]=s,o[1]=128|r;c=1+r;for(var h=n.length;h>0;c--,h>>=8)o[c]=255&h;return this._createEncoderBuffer([o,n])},h.prototype._encodeStr=function(e,t){if("bitstr"===t)return this._createEncoderBuffer([0|e.unused,e.data]);if("bmpstr"===t){for(var i=new a(2*e.length),n=0;n<e.length;n++)i.writeUInt16BE(e.charCodeAt(n),2*n);return this._createEncoderBuffer(i)}return"numstr"===t?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===t?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(t)?this._createEncoderBuffer(e):"objDesc"===t?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+t+" unsupported")},h.prototype._encodeObjid=function(e,t,i){if("string"==typeof e){if(!t)return this.reporter.error("string objid given, but no values map found");if(!t.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=t[e].split(/[\s\.]+/g);for(var n=0;n<e.length;n++)e[n]|=0}else if(Array.isArray(e)){e=e.slice();for(n=0;n<e.length;n++)e[n]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!i){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,40*e[0]+e[1])}var o=0;for(n=0;n<e.length;n++){var s=e[n];for(o++;s>=128;s>>=7)o++}var r=new a(o),c=r.length-1;for(n=e.length-1;n>=0;n--){s=e[n];for(r[c--]=127&s;(s>>=7)>0;)r[c--]=128|127&s}return this._createEncoderBuffer(r)},h.prototype._encodeTime=function(e,t){var i,n=new Date(e);return"gentime"===t?i=[d(n.getFullYear()),d(n.getUTCMonth()+1),d(n.getUTCDate()),d(n.getUTCHours()),d(n.getUTCMinutes()),d(n.getUTCSeconds()),"Z"].join(""):"utctime"===t?i=[d(n.getFullYear()%100),d(n.getUTCMonth()+1),d(n.getUTCDate()),d(n.getUTCHours()),d(n.getUTCMinutes()),d(n.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+t+" time is not supported yet"),this._encodeStr(i,"octstr")},h.prototype._encodeNull=function(){return this._createEncoderBuffer("")},h.prototype._encodeInt=function(e,t){if("string"==typeof e){if(!t)return this.reporter.error("String int or enum given, but no values map");if(!t.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=t[e]}if("number"!=typeof e&&!a.isBuffer(e)){var i=e.toArray();!e.sign&&128&i[0]&&i.unshift(0),e=new a(i)}if(a.isBuffer(e)){var n=e.length;0===e.length&&n++;var o=new a(n);return e.copy(o),0===e.length&&(o[0]=0),this._createEncoderBuffer(o)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);n=1;for(var s=e;s>=256;s>>=8)n++;for(s=(o=new Array(n)).length-1;s>=0;s--)o[s]=255&e,e>>=8;return 128&o[0]&&o.unshift(0),this._createEncoderBuffer(new a(o))},h.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)},h.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getEncoder("der").tree},h.prototype._skipDefault=function(e,t,i){var n,a=this._baseState;if(null===a.default)return!1;var o=e.join();if(void 0===a.defaultBuffer&&(a.defaultBuffer=this._encodeValue(a.default,t,i).join()),o.length!==a.defaultBuffer.length)return!1;for(n=0;n<o.length;n++)if(o[n]!==a.defaultBuffer[n])return!1;return!0}},{"../../asn1":1,buffer:47,inherits:101}],13:[function(e,t,i){var n=i;n.der=e("./der"),n.pem=e("./pem")},{"./der":12,"./pem":14}],14:[function(e,t,i){var n=e("inherits"),a=e("./der");function o(e){a.call(this,e),this.enc="pem"}n(o,a),t.exports=o,o.prototype.encode=function(e,t){for(var i=a.prototype.encode.call(this,e).toString("base64"),n=["-----BEGIN "+t.label+"-----"],o=0;o<i.length;o+=64)n.push(i.slice(o,o+64));return n.push("-----END "+t.label+"-----"),n.join("\n")}},{"./der":12,inherits:101}],15:[function(e,t,i){"use strict";i.byteLength=function(e){var t=h(e),i=t[0],n=t[1];return 3*(i+n)/4-n},i.toByteArray=function(e){var t,i,n=h(e),s=n[0],r=n[1],c=new o(d(e,s,r)),u=0,l=r>0?s-4:s;for(i=0;i<l;i+=4)t=a[e.charCodeAt(i)]<<18|a[e.charCodeAt(i+1)]<<12|a[e.charCodeAt(i+2)]<<6|a[e.charCodeAt(i+3)],c[u++]=t>>16&255,c[u++]=t>>8&255,c[u++]=255&t;2===r&&(t=a[e.charCodeAt(i)]<<2|a[e.charCodeAt(i+1)]>>4,c[u++]=255&t);1===r&&(t=a[e.charCodeAt(i)]<<10|a[e.charCodeAt(i+1)]<<4|a[e.charCodeAt(i+2)]>>2,c[u++]=t>>8&255,c[u++]=255&t);return c},i.fromByteArray=function(e){for(var t,i=e.length,a=i%3,o=[],s=0,r=i-a;s<r;s+=16383)o.push(l(e,s,s+16383>r?r:s+16383));1===a?(t=e[i-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===a&&(t=(e[i-2]<<8)+e[i-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return o.join("")};for(var n=[],a=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=0,c=s.length;r<c;++r)n[r]=s[r],a[s.charCodeAt(r)]=r;function h(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=e.indexOf("=");return-1===i&&(i=t),[i,i===t?0:4-i%4]}function d(e,t,i){return 3*(t+i)/4-i}function u(e){return n[e>>18&63]+n[e>>12&63]+n[e>>6&63]+n[63&e]}function l(e,t,i){for(var n,a=[],o=t;o<i;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),a.push(u(n));return a.join("")}a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},{}],16:[function(e,t,i){(function(t,i){"use strict";function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function a(e,t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}function o(e,t,i){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(i=t,t=10),this._init(e||0,t||10,i||"be"))}var s;"object"==typeof t?t.exports=o:i.BN=o,o.BN=o,o.wordSize=26;try{s=e("buffer").Buffer}catch(e){}function r(e,t,i){for(var n=0,a=Math.min(e.length,i),o=t;o<a;o++){var s=e.charCodeAt(o)-48;n<<=4,n|=s>=49&&s<=54?s-49+10:s>=17&&s<=22?s-17+10:15&s}return n}function c(e,t,i,n){for(var a=0,o=Math.min(e.length,i),s=t;s<o;s++){var r=e.charCodeAt(s)-48;a*=n,a+=r>=49?r-49+10:r>=17?r-17+10:r}return a}o.isBN=function(e){return e instanceof o||null!==e&&"object"==typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,i){if("number"==typeof e)return this._initNumber(e,t,i);if("object"==typeof e)return this._initArray(e,t,i);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var a=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&a++,16===t?this._parseHex(e,a):this._parseBase(e,t,a),"-"===e[0]&&(this.negative=1),this.strip(),"le"===i&&this._initArray(this.toArray(),t,i)},o.prototype._initNumber=function(e,t,i){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===i&&this._initArray(this.toArray(),t,i)},o.prototype._initArray=function(e,t,i){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var a=0;a<this.length;a++)this.words[a]=0;var o,s,r=0;if("be"===i)for(a=e.length-1,o=0;a>=0;a-=3)s=e[a]|e[a-1]<<8|e[a-2]<<16,this.words[o]|=s<<r&67108863,this.words[o+1]=s>>>26-r&67108863,(r+=24)>=26&&(r-=26,o++);else if("le"===i)for(a=0,o=0;a<e.length;a+=3)s=e[a]|e[a+1]<<8|e[a+2]<<16,this.words[o]|=s<<r&67108863,this.words[o+1]=s>>>26-r&67108863,(r+=24)>=26&&(r-=26,o++);return this.strip()},o.prototype._parseHex=function(e,t){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var n,a,o=0;for(i=e.length-6,n=0;i>=t;i-=6)a=r(e,i,i+6),this.words[n]|=a<<o&67108863,this.words[n+1]|=a>>>26-o&4194303,(o+=24)>=26&&(o-=26,n++);i+6!==t&&(a=r(e,t,i+6),this.words[n]|=a<<o&67108863,this.words[n+1]|=a>>>26-o&4194303),this.strip()},o.prototype._parseBase=function(e,t,i){this.words=[0],this.length=1;for(var n=0,a=1;a<=67108863;a*=t)n++;n--,a=a/t|0;for(var o=e.length-i,s=o%n,r=Math.min(o,o-s)+i,h=0,d=i;d<r;d+=n)h=c(e,d,d+n,t),this.imuln(a),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(0!==s){var u=1;for(h=c(e,d,e.length,t),d=0;d<s;d++)u*=t;this.imuln(u),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],u=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function l(e){for(var t=new Array(e.bitLength()),i=0;i<t.length;i++){var n=i/26|0,a=i%26;t[i]=(e.words[n]&1<<a)>>>a}return t}function f(e,t,i){i.negative=t.negative^e.negative;var n=e.length+t.length|0;i.length=n,n=n-1|0;var a=0|e.words[0],o=0|t.words[0],s=a*o,r=67108863&s,c=s/67108864|0;i.words[0]=r;for(var h=1;h<n;h++){for(var d=c>>>26,u=67108863&c,l=Math.min(h,t.length-1),f=Math.max(0,h-e.length+1);f<=l;f++){var p=h-f|0;d+=(s=(a=0|e.words[p])*(o=0|t.words[f])+u)/67108864|0,u=67108863&s}i.words[h]=0|u,c=0|d}return 0!==c?i.words[h]=0|c:i.length--,i.strip()}o.prototype.toString=function(e,t){var i;if(e=e||10,t=0|t||1,16===e||"hex"===e){i="";for(var a=0,o=0,s=0;s<this.length;s++){var r=this.words[s],c=(16777215&(r<<a|o)).toString(16);i=0!==(o=r>>>24-a&16777215)||s!==this.length-1?h[6-c.length]+c+i:c+i,(a+=2)>=26&&(a-=26,s--)}for(0!==o&&(i=o.toString(16)+i);i.length%t!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}if(e===(0|e)&&e>=2&&e<=36){var l=d[e],f=u[e];i="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(f).toString(e);i=(p=p.idivn(f)).isZero()?m+i:h[l-m.length]+m+i}for(this.isZero()&&(i="0"+i);i.length%t!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(e,t){return n(void 0!==s),this.toArrayLike(s,e,t)},o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,i){var a=this.byteLength(),o=i||Math.max(1,a);n(a<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0"),this.strip();var s,r,c="le"===t,h=new e(o),d=this.clone();if(c){for(r=0;!d.isZero();r++)s=d.andln(255),d.iushrn(8),h[r]=s;for(;r<o;r++)h[r]=0}else{for(r=0;r<o-a;r++)h[r]=0;for(r=0;!d.isZero();r++)s=d.andln(255),d.iushrn(8),h[o-r-1]=s}return h},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,i=0;return t>=4096&&(i+=13,t>>>=13),t>=64&&(i+=7,t>>>=7),t>=8&&(i+=4,t>>>=4),t>=2&&(i+=2,t>>>=2),i+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,i=0;return 0==(8191&t)&&(i+=13,t>>>=13),0==(127&t)&&(i+=7,t>>>=7),0==(15&t)&&(i+=4,t>>>=4),0==(3&t)&&(i+=2,t>>>=2),0==(1&t)&&i++,i},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var i=this._zeroBits(this.words[t]);if(e+=i,26!==i)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},o.prototype.ior=function(e){return n(0==(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var i=0;i<t.length;i++)this.words[i]=this.words[i]&e.words[i];return this.length=t.length,this.strip()},o.prototype.iand=function(e){return n(0==(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,i;this.length>e.length?(t=this,i=e):(t=e,i=this);for(var n=0;n<i.length;n++)this.words[n]=t.words[n]^i.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},o.prototype.ixor=function(e){return n(0==(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),i=e%26;this._expand(t),i>0&&t--;for(var a=0;a<t;a++)this.words[a]=67108863&~this.words[a];return i>0&&(this.words[a]=~this.words[a]&67108863>>26-i),this.strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var i=e/26|0,a=e%26;return this._expand(i+1),this.words[i]=t?this.words[i]|1<<a:this.words[i]&~(1<<a),this.strip()},o.prototype.iadd=function(e){var t,i,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(i=this,n=e):(i=e,n=this);for(var a=0,o=0;o<n.length;o++)t=(0|i.words[o])+(0|n.words[o])+a,this.words[o]=67108863&t,a=t>>>26;for(;0!==a&&o<i.length;o++)t=(0|i.words[o])+a,this.words[o]=67108863&t,a=t>>>26;if(this.length=i.length,0!==a)this.words[this.length]=a,this.length++;else if(i!==this)for(;o<i.length;o++)this.words[o]=i.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var i,n,a=this.cmp(e);if(0===a)return this.negative=0,this.length=1,this.words[0]=0,this;a>0?(i=this,n=e):(i=e,n=this);for(var o=0,s=0;s<n.length;s++)o=(t=(0|i.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&t;for(;0!==o&&s<i.length;s++)o=(t=(0|i.words[s])+o)>>26,this.words[s]=67108863&t;if(0===o&&s<i.length&&i!==this)for(;s<i.length;s++)this.words[s]=i.words[s];return this.length=Math.max(this.length,s),i!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var p=function(e,t,i){var n,a,o,s=e.words,r=t.words,c=i.words,h=0,d=0|s[0],u=8191&d,l=d>>>13,f=0|s[1],p=8191&f,m=f>>>13,g=0|s[2],b=8191&g,v=g>>>13,y=0|s[3],C=8191&y,_=y>>>13,w=0|s[4],S=8191&w,B=w>>>13,k=0|s[5],D=8191&k,N=k>>>13,A=0|s[6],I=8191&A,M=A>>>13,T=0|s[7],G=8191&T,x=T>>>13,L=0|s[8],E=8191&L,R=L>>>13,P=0|s[9],F=8191&P,U=P>>>13,j=0|r[0],O=8191&j,z=j>>>13,q=0|r[1],V=8191&q,H=q>>>13,K=0|r[2],J=8191&K,W=K>>>13,X=0|r[3],Y=8191&X,Z=X>>>13,Q=0|r[4],$=8191&Q,ee=Q>>>13,te=0|r[5],ie=8191&te,ne=te>>>13,ae=0|r[6],oe=8191&ae,se=ae>>>13,re=0|r[7],ce=8191&re,he=re>>>13,de=0|r[8],ue=8191&de,le=de>>>13,fe=0|r[9],pe=8191&fe,me=fe>>>13;i.negative=e.negative^t.negative,i.length=19;var ge=(h+(n=Math.imul(u,O))|0)+((8191&(a=(a=Math.imul(u,z))+Math.imul(l,O)|0))<<13)|0;h=((o=Math.imul(l,z))+(a>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(p,O),a=(a=Math.imul(p,z))+Math.imul(m,O)|0,o=Math.imul(m,z);var be=(h+(n=n+Math.imul(u,V)|0)|0)+((8191&(a=(a=a+Math.imul(u,H)|0)+Math.imul(l,V)|0))<<13)|0;h=((o=o+Math.imul(l,H)|0)+(a>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(b,O),a=(a=Math.imul(b,z))+Math.imul(v,O)|0,o=Math.imul(v,z),n=n+Math.imul(p,V)|0,a=(a=a+Math.imul(p,H)|0)+Math.imul(m,V)|0,o=o+Math.imul(m,H)|0;var ve=(h+(n=n+Math.imul(u,J)|0)|0)+((8191&(a=(a=a+Math.imul(u,W)|0)+Math.imul(l,J)|0))<<13)|0;h=((o=o+Math.imul(l,W)|0)+(a>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(C,O),a=(a=Math.imul(C,z))+Math.imul(_,O)|0,o=Math.imul(_,z),n=n+Math.imul(b,V)|0,a=(a=a+Math.imul(b,H)|0)+Math.imul(v,V)|0,o=o+Math.imul(v,H)|0,n=n+Math.imul(p,J)|0,a=(a=a+Math.imul(p,W)|0)+Math.imul(m,J)|0,o=o+Math.imul(m,W)|0;var ye=(h+(n=n+Math.imul(u,Y)|0)|0)+((8191&(a=(a=a+Math.imul(u,Z)|0)+Math.imul(l,Y)|0))<<13)|0;h=((o=o+Math.imul(l,Z)|0)+(a>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(S,O),a=(a=Math.imul(S,z))+Math.imul(B,O)|0,o=Math.imul(B,z),n=n+Math.imul(C,V)|0,a=(a=a+Math.imul(C,H)|0)+Math.imul(_,V)|0,o=o+Math.imul(_,H)|0,n=n+Math.imul(b,J)|0,a=(a=a+Math.imul(b,W)|0)+Math.imul(v,J)|0,o=o+Math.imul(v,W)|0,n=n+Math.imul(p,Y)|0,a=(a=a+Math.imul(p,Z)|0)+Math.imul(m,Y)|0,o=o+Math.imul(m,Z)|0;var Ce=(h+(n=n+Math.imul(u,$)|0)|0)+((8191&(a=(a=a+Math.imul(u,ee)|0)+Math.imul(l,$)|0))<<13)|0;h=((o=o+Math.imul(l,ee)|0)+(a>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(D,O),a=(a=Math.imul(D,z))+Math.imul(N,O)|0,o=Math.imul(N,z),n=n+Math.imul(S,V)|0,a=(a=a+Math.imul(S,H)|0)+Math.imul(B,V)|0,o=o+Math.imul(B,H)|0,n=n+Math.imul(C,J)|0,a=(a=a+Math.imul(C,W)|0)+Math.imul(_,J)|0,o=o+Math.imul(_,W)|0,n=n+Math.imul(b,Y)|0,a=(a=a+Math.imul(b,Z)|0)+Math.imul(v,Y)|0,o=o+Math.imul(v,Z)|0,n=n+Math.imul(p,$)|0,a=(a=a+Math.imul(p,ee)|0)+Math.imul(m,$)|0,o=o+Math.imul(m,ee)|0;var _e=(h+(n=n+Math.imul(u,ie)|0)|0)+((8191&(a=(a=a+Math.imul(u,ne)|0)+Math.imul(l,ie)|0))<<13)|0;h=((o=o+Math.imul(l,ne)|0)+(a>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(I,O),a=(a=Math.imul(I,z))+Math.imul(M,O)|0,o=Math.imul(M,z),n=n+Math.imul(D,V)|0,a=(a=a+Math.imul(D,H)|0)+Math.imul(N,V)|0,o=o+Math.imul(N,H)|0,n=n+Math.imul(S,J)|0,a=(a=a+Math.imul(S,W)|0)+Math.imul(B,J)|0,o=o+Math.imul(B,W)|0,n=n+Math.imul(C,Y)|0,a=(a=a+Math.imul(C,Z)|0)+Math.imul(_,Y)|0,o=o+Math.imul(_,Z)|0,n=n+Math.imul(b,$)|0,a=(a=a+Math.imul(b,ee)|0)+Math.imul(v,$)|0,o=o+Math.imul(v,ee)|0,n=n+Math.imul(p,ie)|0,a=(a=a+Math.imul(p,ne)|0)+Math.imul(m,ie)|0,o=o+Math.imul(m,ne)|0;var we=(h+(n=n+Math.imul(u,oe)|0)|0)+((8191&(a=(a=a+Math.imul(u,se)|0)+Math.imul(l,oe)|0))<<13)|0;h=((o=o+Math.imul(l,se)|0)+(a>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(G,O),a=(a=Math.imul(G,z))+Math.imul(x,O)|0,o=Math.imul(x,z),n=n+Math.imul(I,V)|0,a=(a=a+Math.imul(I,H)|0)+Math.imul(M,V)|0,o=o+Math.imul(M,H)|0,n=n+Math.imul(D,J)|0,a=(a=a+Math.imul(D,W)|0)+Math.imul(N,J)|0,o=o+Math.imul(N,W)|0,n=n+Math.imul(S,Y)|0,a=(a=a+Math.imul(S,Z)|0)+Math.imul(B,Y)|0,o=o+Math.imul(B,Z)|0,n=n+Math.imul(C,$)|0,a=(a=a+Math.imul(C,ee)|0)+Math.imul(_,$)|0,o=o+Math.imul(_,ee)|0,n=n+Math.imul(b,ie)|0,a=(a=a+Math.imul(b,ne)|0)+Math.imul(v,ie)|0,o=o+Math.imul(v,ne)|0,n=n+Math.imul(p,oe)|0,a=(a=a+Math.imul(p,se)|0)+Math.imul(m,oe)|0,o=o+Math.imul(m,se)|0;var Se=(h+(n=n+Math.imul(u,ce)|0)|0)+((8191&(a=(a=a+Math.imul(u,he)|0)+Math.imul(l,ce)|0))<<13)|0;h=((o=o+Math.imul(l,he)|0)+(a>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(E,O),a=(a=Math.imul(E,z))+Math.imul(R,O)|0,o=Math.imul(R,z),n=n+Math.imul(G,V)|0,a=(a=a+Math.imul(G,H)|0)+Math.imul(x,V)|0,o=o+Math.imul(x,H)|0,n=n+Math.imul(I,J)|0,a=(a=a+Math.imul(I,W)|0)+Math.imul(M,J)|0,o=o+Math.imul(M,W)|0,n=n+Math.imul(D,Y)|0,a=(a=a+Math.imul(D,Z)|0)+Math.imul(N,Y)|0,o=o+Math.imul(N,Z)|0,n=n+Math.imul(S,$)|0,a=(a=a+Math.imul(S,ee)|0)+Math.imul(B,$)|0,o=o+Math.imul(B,ee)|0,n=n+Math.imul(C,ie)|0,a=(a=a+Math.imul(C,ne)|0)+Math.imul(_,ie)|0,o=o+Math.imul(_,ne)|0,n=n+Math.imul(b,oe)|0,a=(a=a+Math.imul(b,se)|0)+Math.imul(v,oe)|0,o=o+Math.imul(v,se)|0,n=n+Math.imul(p,ce)|0,a=(a=a+Math.imul(p,he)|0)+Math.imul(m,ce)|0,o=o+Math.imul(m,he)|0;var Be=(h+(n=n+Math.imul(u,ue)|0)|0)+((8191&(a=(a=a+Math.imul(u,le)|0)+Math.imul(l,ue)|0))<<13)|0;h=((o=o+Math.imul(l,le)|0)+(a>>>13)|0)+(Be>>>26)|0,Be&=67108863,n=Math.imul(F,O),a=(a=Math.imul(F,z))+Math.imul(U,O)|0,o=Math.imul(U,z),n=n+Math.imul(E,V)|0,a=(a=a+Math.imul(E,H)|0)+Math.imul(R,V)|0,o=o+Math.imul(R,H)|0,n=n+Math.imul(G,J)|0,a=(a=a+Math.imul(G,W)|0)+Math.imul(x,J)|0,o=o+Math.imul(x,W)|0,n=n+Math.imul(I,Y)|0,a=(a=a+Math.imul(I,Z)|0)+Math.imul(M,Y)|0,o=o+Math.imul(M,Z)|0,n=n+Math.imul(D,$)|0,a=(a=a+Math.imul(D,ee)|0)+Math.imul(N,$)|0,o=o+Math.imul(N,ee)|0,n=n+Math.imul(S,ie)|0,a=(a=a+Math.imul(S,ne)|0)+Math.imul(B,ie)|0,o=o+Math.imul(B,ne)|0,n=n+Math.imul(C,oe)|0,a=(a=a+Math.imul(C,se)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,se)|0,n=n+Math.imul(b,ce)|0,a=(a=a+Math.imul(b,he)|0)+Math.imul(v,ce)|0,o=o+Math.imul(v,he)|0,n=n+Math.imul(p,ue)|0,a=(a=a+Math.imul(p,le)|0)+Math.imul(m,ue)|0,o=o+Math.imul(m,le)|0;var ke=(h+(n=n+Math.imul(u,pe)|0)|0)+((8191&(a=(a=a+Math.imul(u,me)|0)+Math.imul(l,pe)|0))<<13)|0;h=((o=o+Math.imul(l,me)|0)+(a>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(F,V),a=(a=Math.imul(F,H))+Math.imul(U,V)|0,o=Math.imul(U,H),n=n+Math.imul(E,J)|0,a=(a=a+Math.imul(E,W)|0)+Math.imul(R,J)|0,o=o+Math.imul(R,W)|0,n=n+Math.imul(G,Y)|0,a=(a=a+Math.imul(G,Z)|0)+Math.imul(x,Y)|0,o=o+Math.imul(x,Z)|0,n=n+Math.imul(I,$)|0,a=(a=a+Math.imul(I,ee)|0)+Math.imul(M,$)|0,o=o+Math.imul(M,ee)|0,n=n+Math.imul(D,ie)|0,a=(a=a+Math.imul(D,ne)|0)+Math.imul(N,ie)|0,o=o+Math.imul(N,ne)|0,n=n+Math.imul(S,oe)|0,a=(a=a+Math.imul(S,se)|0)+Math.imul(B,oe)|0,o=o+Math.imul(B,se)|0,n=n+Math.imul(C,ce)|0,a=(a=a+Math.imul(C,he)|0)+Math.imul(_,ce)|0,o=o+Math.imul(_,he)|0,n=n+Math.imul(b,ue)|0,a=(a=a+Math.imul(b,le)|0)+Math.imul(v,ue)|0,o=o+Math.imul(v,le)|0;var De=(h+(n=n+Math.imul(p,pe)|0)|0)+((8191&(a=(a=a+Math.imul(p,me)|0)+Math.imul(m,pe)|0))<<13)|0;h=((o=o+Math.imul(m,me)|0)+(a>>>13)|0)+(De>>>26)|0,De&=67108863,n=Math.imul(F,J),a=(a=Math.imul(F,W))+Math.imul(U,J)|0,o=Math.imul(U,W),n=n+Math.imul(E,Y)|0,a=(a=a+Math.imul(E,Z)|0)+Math.imul(R,Y)|0,o=o+Math.imul(R,Z)|0,n=n+Math.imul(G,$)|0,a=(a=a+Math.imul(G,ee)|0)+Math.imul(x,$)|0,o=o+Math.imul(x,ee)|0,n=n+Math.imul(I,ie)|0,a=(a=a+Math.imul(I,ne)|0)+Math.imul(M,ie)|0,o=o+Math.imul(M,ne)|0,n=n+Math.imul(D,oe)|0,a=(a=a+Math.imul(D,se)|0)+Math.imul(N,oe)|0,o=o+Math.imul(N,se)|0,n=n+Math.imul(S,ce)|0,a=(a=a+Math.imul(S,he)|0)+Math.imul(B,ce)|0,o=o+Math.imul(B,he)|0,n=n+Math.imul(C,ue)|0,a=(a=a+Math.imul(C,le)|0)+Math.imul(_,ue)|0,o=o+Math.imul(_,le)|0;var Ne=(h+(n=n+Math.imul(b,pe)|0)|0)+((8191&(a=(a=a+Math.imul(b,me)|0)+Math.imul(v,pe)|0))<<13)|0;h=((o=o+Math.imul(v,me)|0)+(a>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,n=Math.imul(F,Y),a=(a=Math.imul(F,Z))+Math.imul(U,Y)|0,o=Math.imul(U,Z),n=n+Math.imul(E,$)|0,a=(a=a+Math.imul(E,ee)|0)+Math.imul(R,$)|0,o=o+Math.imul(R,ee)|0,n=n+Math.imul(G,ie)|0,a=(a=a+Math.imul(G,ne)|0)+Math.imul(x,ie)|0,o=o+Math.imul(x,ne)|0,n=n+Math.imul(I,oe)|0,a=(a=a+Math.imul(I,se)|0)+Math.imul(M,oe)|0,o=o+Math.imul(M,se)|0,n=n+Math.imul(D,ce)|0,a=(a=a+Math.imul(D,he)|0)+Math.imul(N,ce)|0,o=o+Math.imul(N,he)|0,n=n+Math.imul(S,ue)|0,a=(a=a+Math.imul(S,le)|0)+Math.imul(B,ue)|0,o=o+Math.imul(B,le)|0;var Ae=(h+(n=n+Math.imul(C,pe)|0)|0)+((8191&(a=(a=a+Math.imul(C,me)|0)+Math.imul(_,pe)|0))<<13)|0;h=((o=o+Math.imul(_,me)|0)+(a>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(F,$),a=(a=Math.imul(F,ee))+Math.imul(U,$)|0,o=Math.imul(U,ee),n=n+Math.imul(E,ie)|0,a=(a=a+Math.imul(E,ne)|0)+Math.imul(R,ie)|0,o=o+Math.imul(R,ne)|0,n=n+Math.imul(G,oe)|0,a=(a=a+Math.imul(G,se)|0)+Math.imul(x,oe)|0,o=o+Math.imul(x,se)|0,n=n+Math.imul(I,ce)|0,a=(a=a+Math.imul(I,he)|0)+Math.imul(M,ce)|0,o=o+Math.imul(M,he)|0,n=n+Math.imul(D,ue)|0,a=(a=a+Math.imul(D,le)|0)+Math.imul(N,ue)|0,o=o+Math.imul(N,le)|0;var Ie=(h+(n=n+Math.imul(S,pe)|0)|0)+((8191&(a=(a=a+Math.imul(S,me)|0)+Math.imul(B,pe)|0))<<13)|0;h=((o=o+Math.imul(B,me)|0)+(a>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(F,ie),a=(a=Math.imul(F,ne))+Math.imul(U,ie)|0,o=Math.imul(U,ne),n=n+Math.imul(E,oe)|0,a=(a=a+Math.imul(E,se)|0)+Math.imul(R,oe)|0,o=o+Math.imul(R,se)|0,n=n+Math.imul(G,ce)|0,a=(a=a+Math.imul(G,he)|0)+Math.imul(x,ce)|0,o=o+Math.imul(x,he)|0,n=n+Math.imul(I,ue)|0,a=(a=a+Math.imul(I,le)|0)+Math.imul(M,ue)|0,o=o+Math.imul(M,le)|0;var Me=(h+(n=n+Math.imul(D,pe)|0)|0)+((8191&(a=(a=a+Math.imul(D,me)|0)+Math.imul(N,pe)|0))<<13)|0;h=((o=o+Math.imul(N,me)|0)+(a>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(F,oe),a=(a=Math.imul(F,se))+Math.imul(U,oe)|0,o=Math.imul(U,se),n=n+Math.imul(E,ce)|0,a=(a=a+Math.imul(E,he)|0)+Math.imul(R,ce)|0,o=o+Math.imul(R,he)|0,n=n+Math.imul(G,ue)|0,a=(a=a+Math.imul(G,le)|0)+Math.imul(x,ue)|0,o=o+Math.imul(x,le)|0;var Te=(h+(n=n+Math.imul(I,pe)|0)|0)+((8191&(a=(a=a+Math.imul(I,me)|0)+Math.imul(M,pe)|0))<<13)|0;h=((o=o+Math.imul(M,me)|0)+(a>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(F,ce),a=(a=Math.imul(F,he))+Math.imul(U,ce)|0,o=Math.imul(U,he),n=n+Math.imul(E,ue)|0,a=(a=a+Math.imul(E,le)|0)+Math.imul(R,ue)|0,o=o+Math.imul(R,le)|0;var Ge=(h+(n=n+Math.imul(G,pe)|0)|0)+((8191&(a=(a=a+Math.imul(G,me)|0)+Math.imul(x,pe)|0))<<13)|0;h=((o=o+Math.imul(x,me)|0)+(a>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,n=Math.imul(F,ue),a=(a=Math.imul(F,le))+Math.imul(U,ue)|0,o=Math.imul(U,le);var xe=(h+(n=n+Math.imul(E,pe)|0)|0)+((8191&(a=(a=a+Math.imul(E,me)|0)+Math.imul(R,pe)|0))<<13)|0;h=((o=o+Math.imul(R,me)|0)+(a>>>13)|0)+(xe>>>26)|0,xe&=67108863;var Le=(h+(n=Math.imul(F,pe))|0)+((8191&(a=(a=Math.imul(F,me))+Math.imul(U,pe)|0))<<13)|0;return h=((o=Math.imul(U,me))+(a>>>13)|0)+(Le>>>26)|0,Le&=67108863,c[0]=ge,c[1]=be,c[2]=ve,c[3]=ye,c[4]=Ce,c[5]=_e,c[6]=we,c[7]=Se,c[8]=Be,c[9]=ke,c[10]=De,c[11]=Ne,c[12]=Ae,c[13]=Ie,c[14]=Me,c[15]=Te,c[16]=Ge,c[17]=xe,c[18]=Le,0!==h&&(c[19]=h,i.length++),i};function m(e,t,i){i.negative=t.negative^e.negative,i.length=e.length+t.length;for(var n=0,a=0,o=0;o<i.length-1;o++){var s=a;a=0;for(var r=67108863&n,c=Math.min(o,t.length-1),h=Math.max(0,o-e.length+1);h<=c;h++){var d=o-h,u=(0|e.words[d])*(0|t.words[h]),l=67108863&u;r=67108863&(l=l+r|0),a+=(s=(s=s+(u/67108864|0)|0)+(l>>>26)|0)>>>26,s&=67108863}i.words[o]=r,n=s,s=a}return 0!==n?i.words[o]=n:i.length--,i.strip()}function g(e,t,i){return(new b).mulp(e,t,i)}function b(e,t){this.x=e,this.y=t}Math.imul||(p=f),o.prototype.mulTo=function(e,t){var i=this.length+e.length;return 10===this.length&&10===e.length?p(this,e,t):i<63?f(this,e,t):i<1024?m(this,e,t):g(this,e,t)},b.prototype.makeRBT=function(e){for(var t=new Array(e),i=o.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,i,e);return t},b.prototype.revBin=function(e,t,i){if(0===e||e===i-1)return e;for(var n=0,a=0;a<t;a++)n|=(1&e)<<t-a-1,e>>=1;return n},b.prototype.permute=function(e,t,i,n,a,o){for(var s=0;s<o;s++)n[s]=t[e[s]],a[s]=i[e[s]]},b.prototype.transform=function(e,t,i,n,a,o){this.permute(o,e,t,i,n,a);for(var s=1;s<a;s<<=1)for(var r=s<<1,c=Math.cos(2*Math.PI/r),h=Math.sin(2*Math.PI/r),d=0;d<a;d+=r)for(var u=c,l=h,f=0;f<s;f++){var p=i[d+f],m=n[d+f],g=i[d+f+s],b=n[d+f+s],v=u*g-l*b;b=u*b+l*g,g=v,i[d+f]=p+g,n[d+f]=m+b,i[d+f+s]=p-g,n[d+f+s]=m-b,f!==r&&(v=c*u-h*l,l=c*l+h*u,u=v)}},b.prototype.guessLen13b=function(e,t){var i=1|Math.max(t,e),n=1&i,a=0;for(i=i/2|0;i;i>>>=1)a++;return 1<<a+1+n},b.prototype.conjugate=function(e,t,i){if(!(i<=1))for(var n=0;n<i/2;n++){var a=e[n];e[n]=e[i-n-1],e[i-n-1]=a,a=t[n],t[n]=-t[i-n-1],t[i-n-1]=-a}},b.prototype.normalize13b=function(e,t){for(var i=0,n=0;n<t/2;n++){var a=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+i;e[n]=67108863&a,i=a<67108864?0:a/67108864|0}return e},b.prototype.convert13b=function(e,t,i,a){for(var o=0,s=0;s<t;s++)o+=0|e[s],i[2*s]=8191&o,o>>>=13,i[2*s+1]=8191&o,o>>>=13;for(s=2*t;s<a;++s)i[s]=0;n(0===o),n(0==(-8192&o))},b.prototype.stub=function(e){for(var t=new Array(e),i=0;i<e;i++)t[i]=0;return t},b.prototype.mulp=function(e,t,i){var n=2*this.guessLen13b(e.length,t.length),a=this.makeRBT(n),o=this.stub(n),s=new Array(n),r=new Array(n),c=new Array(n),h=new Array(n),d=new Array(n),u=new Array(n),l=i.words;l.length=n,this.convert13b(e.words,e.length,s,n),this.convert13b(t.words,t.length,h,n),this.transform(s,o,r,c,n,a),this.transform(h,o,d,u,n,a);for(var f=0;f<n;f++){var p=r[f]*d[f]-c[f]*u[f];c[f]=r[f]*u[f]+c[f]*d[f],r[f]=p}return this.conjugate(r,c,n),this.transform(r,c,l,o,n,a),this.conjugate(l,o,n),this.normalize13b(l,n),i.negative=e.negative^t.negative,i.length=e.length+t.length,i.strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),g(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){n("number"==typeof e),n(e<67108864);for(var t=0,i=0;i<this.length;i++){var a=(0|this.words[i])*e,o=(67108863&a)+(67108863&t);t>>=26,t+=a/67108864|0,t+=o>>>26,this.words[i]=67108863&o}return 0!==t&&(this.words[i]=t,this.length++),this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=l(e);if(0===t.length)return new o(1);for(var i=this,n=0;n<t.length&&0===t[n];n++,i=i.sqr());if(++n<t.length)for(var a=i.sqr();n<t.length;n++,a=a.sqr())0!==t[n]&&(i=i.mul(a));return i},o.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,i=e%26,a=(e-i)/26,o=67108863>>>26-i<<26-i;if(0!==i){var s=0;for(t=0;t<this.length;t++){var r=this.words[t]&o,c=(0|this.words[t])-r<<i;this.words[t]=c|s,s=r>>>26-i}s&&(this.words[t]=s,this.length++)}if(0!==a){for(t=this.length-1;t>=0;t--)this.words[t+a]=this.words[t];for(t=0;t<a;t++)this.words[t]=0;this.length+=a}return this.strip()},o.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,i){var a;n("number"==typeof e&&e>=0),a=t?(t-t%26)/26:0;var o=e%26,s=Math.min((e-o)/26,this.length),r=67108863^67108863>>>o<<o,c=i;if(a-=s,a=Math.max(0,a),c){for(var h=0;h<s;h++)c.words[h]=this.words[h];c.length=s}if(0===s);else if(this.length>s)for(this.length-=s,h=0;h<this.length;h++)this.words[h]=this.words[h+s];else this.words[0]=0,this.length=1;var d=0;for(h=this.length-1;h>=0&&(0!==d||h>=a);h--){var u=0|this.words[h];this.words[h]=d<<26-o|u>>>o,d=u&r}return c&&0!==d&&(c.words[c.length++]=d),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(e,t,i){return n(0===this.negative),this.iushrn(e,t,i)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,i=(e-t)/26,a=1<<t;return!(this.length<=i)&&!!(this.words[i]&a)},o.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,i=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=i)return this;if(0!==t&&i++,this.length=Math.min(i,this.length),0!==t){var a=67108863^67108863>>>t<<t;this.words[this.length-1]&=a}return this.strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,i){var a,o,s=e.length+i;this._expand(s);var r=0;for(a=0;a<e.length;a++){o=(0|this.words[a+i])+r;var c=(0|e.words[a])*t;r=((o-=67108863&c)>>26)-(c/67108864|0),this.words[a+i]=67108863&o}for(;a<this.length-i;a++)r=(o=(0|this.words[a+i])+r)>>26,this.words[a+i]=67108863&o;if(0===r)return this.strip();for(n(-1===r),r=0,a=0;a<this.length;a++)r=(o=-(0|this.words[a])+r)>>26,this.words[a]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(e,t){var i=(this.length,e.length),n=this.clone(),a=e,s=0|a.words[a.length-1];0!==(i=26-this._countBits(s))&&(a=a.ushln(i),n.iushln(i),s=0|a.words[a.length-1]);var r,c=n.length-a.length;if("mod"!==t){(r=new o(null)).length=c+1,r.words=new Array(r.length);for(var h=0;h<r.length;h++)r.words[h]=0}var d=n.clone()._ishlnsubmul(a,1,c);0===d.negative&&(n=d,r&&(r.words[c]=1));for(var u=c-1;u>=0;u--){var l=67108864*(0|n.words[a.length+u])+(0|n.words[a.length+u-1]);for(l=Math.min(l/s|0,67108863),n._ishlnsubmul(a,l,u);0!==n.negative;)l--,n.negative=0,n._ishlnsubmul(a,1,u),n.isZero()||(n.negative^=1);r&&(r.words[u]=l)}return r&&r.strip(),n.strip(),"div"!==t&&0!==i&&n.iushrn(i),{div:r||null,mod:n}},o.prototype.divmod=function(e,t,i){return n(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(r=this.neg().divmod(e,t),"mod"!==t&&(a=r.div.neg()),"div"!==t&&(s=r.mod.neg(),i&&0!==s.negative&&s.iadd(e)),{div:a,mod:s}):0===this.negative&&0!==e.negative?(r=this.divmod(e.neg(),t),"mod"!==t&&(a=r.div.neg()),{div:a,mod:r.mod}):0!=(this.negative&e.negative)?(r=this.neg().divmod(e.neg(),t),"div"!==t&&(s=r.mod.neg(),i&&0!==s.negative&&s.isub(e)),{div:r.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modn(e.words[0]))}:this._wordDiv(e,t);var a,s,r},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var i=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),a=e.andln(1),o=i.cmp(n);return o<0||1===a&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modn=function(e){n(e<=67108863);for(var t=(1<<26)%e,i=0,a=this.length-1;a>=0;a--)i=(t*i+(0|this.words[a]))%e;return i},o.prototype.idivn=function(e){n(e<=67108863);for(var t=0,i=this.length-1;i>=0;i--){var a=(0|this.words[i])+67108864*t;this.words[i]=a/e|0,t=a%e}return this.strip()},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,i=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var a=new o(1),s=new o(0),r=new o(0),c=new o(1),h=0;t.isEven()&&i.isEven();)t.iushrn(1),i.iushrn(1),++h;for(var d=i.clone(),u=t.clone();!t.isZero();){for(var l=0,f=1;0==(t.words[0]&f)&&l<26;++l,f<<=1);if(l>0)for(t.iushrn(l);l-- >0;)(a.isOdd()||s.isOdd())&&(a.iadd(d),s.isub(u)),a.iushrn(1),s.iushrn(1);for(var p=0,m=1;0==(i.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(i.iushrn(p);p-- >0;)(r.isOdd()||c.isOdd())&&(r.iadd(d),c.isub(u)),r.iushrn(1),c.iushrn(1);t.cmp(i)>=0?(t.isub(i),a.isub(r),s.isub(c)):(i.isub(t),r.isub(a),c.isub(s))}return{a:r,b:c,gcd:i.iushln(h)}},o.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,i=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var a,s=new o(1),r=new o(0),c=i.clone();t.cmpn(1)>0&&i.cmpn(1)>0;){for(var h=0,d=1;0==(t.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(t.iushrn(h);h-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);for(var u=0,l=1;0==(i.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(i.iushrn(u);u-- >0;)r.isOdd()&&r.iadd(c),r.iushrn(1);t.cmp(i)>=0?(t.isub(i),s.isub(r)):(i.isub(t),r.isub(s))}return(a=0===t.cmpn(1)?s:r).cmpn(0)<0&&a.iadd(e),a},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),i=e.clone();t.negative=0,i.negative=0;for(var n=0;t.isEven()&&i.isEven();n++)t.iushrn(1),i.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;i.isEven();)i.iushrn(1);var a=t.cmp(i);if(a<0){var o=t;t=i,i=o}else if(0===a||0===i.cmpn(1))break;t.isub(i)}return i.iushln(n)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,i=(e-t)/26,a=1<<t;if(this.length<=i)return this._expand(i+1),this.words[i]|=a,this;for(var o=a,s=i;0!==o&&s<this.length;s++){var r=0|this.words[s];o=(r+=o)>>>26,r&=67108863,this.words[s]=r}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,i=e<0;if(0!==this.negative&&!i)return-1;if(0===this.negative&&i)return 1;if(this.strip(),this.length>1)t=1;else{i&&(e=-e),n(e<=67108863,"Number is too big");var a=0|this.words[0];t=a===e?0:a<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,i=this.length-1;i>=0;i--){var n=0|this.words[i],a=0|e.words[i];if(n!==a){n<a?t=-1:n>a&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new B(e)},o.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var v={k256:null,p224:null,p192:null,p25519:null};function y(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function C(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function _(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function S(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function B(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function k(e){B.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},y.prototype.ireduce=function(e){var t,i=e;do{this.split(i,this.tmp),t=(i=(i=this.imulK(i)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:i.ucmp(this.p);return 0===n?(i.words[0]=0,i.length=1):n>0?i.isub(this.p):i.strip(),i},y.prototype.split=function(e,t){e.iushrn(this.n,0,t)},y.prototype.imulK=function(e){return e.imul(this.k)},a(C,y),C.prototype.split=function(e,t){for(var i=Math.min(e.length,9),n=0;n<i;n++)t.words[n]=e.words[n];if(t.length=i,e.length<=9)return e.words[0]=0,void(e.length=1);var a=e.words[9];for(t.words[t.length++]=4194303&a,n=10;n<e.length;n++){var o=0|e.words[n];e.words[n-10]=(4194303&o)<<4|a>>>22,a=o}a>>>=22,e.words[n-10]=a,0===a&&e.length>10?e.length-=10:e.length-=9},C.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,i=0;i<e.length;i++){var n=0|e.words[i];t+=977*n,e.words[i]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},a(_,y),a(w,y),a(S,y),S.prototype.imulK=function(e){for(var t=0,i=0;i<e.length;i++){var n=19*(0|e.words[i])+t,a=67108863&n;n>>>=26,e.words[i]=a,t=n}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(v[e])return v[e];var t;if("k256"===e)t=new C;else if("p224"===e)t=new _;else if("p192"===e)t=new w;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new S}return v[e]=t,t},B.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},B.prototype._verify2=function(e,t){n(0==(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},B.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},B.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},B.prototype.add=function(e,t){this._verify2(e,t);var i=e.add(t);return i.cmp(this.m)>=0&&i.isub(this.m),i._forceRed(this)},B.prototype.iadd=function(e,t){this._verify2(e,t);var i=e.iadd(t);return i.cmp(this.m)>=0&&i.isub(this.m),i},B.prototype.sub=function(e,t){this._verify2(e,t);var i=e.sub(t);return i.cmpn(0)<0&&i.iadd(this.m),i._forceRed(this)},B.prototype.isub=function(e,t){this._verify2(e,t);var i=e.isub(t);return i.cmpn(0)<0&&i.iadd(this.m),i},B.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},B.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},B.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},B.prototype.isqr=function(e){return this.imul(e,e.clone())},B.prototype.sqr=function(e){return this.mul(e,e)},B.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var i=this.m.add(new o(1)).iushrn(2);return this.pow(e,i)}for(var a=this.m.subn(1),s=0;!a.isZero()&&0===a.andln(1);)s++,a.iushrn(1);n(!a.isZero());var r=new o(1).toRed(this),c=r.redNeg(),h=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new o(2*d*d).toRed(this);0!==this.pow(d,h).cmp(c);)d.redIAdd(c);for(var u=this.pow(d,a),l=this.pow(e,a.addn(1).iushrn(1)),f=this.pow(e,a),p=s;0!==f.cmp(r);){for(var m=f,g=0;0!==m.cmp(r);g++)m=m.redSqr();n(g<p);var b=this.pow(u,new o(1).iushln(p-g-1));l=l.redMul(b),u=b.redSqr(),f=f.redMul(u),p=g}return l},B.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},B.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var i=new Array(16);i[0]=new o(1).toRed(this),i[1]=e;for(var n=2;n<i.length;n++)i[n]=this.mul(i[n-1],e);var a=i[0],s=0,r=0,c=t.bitLength()%26;for(0===c&&(c=26),n=t.length-1;n>=0;n--){for(var h=t.words[n],d=c-1;d>=0;d--){var u=h>>d&1;a!==i[0]&&(a=this.sqr(a)),0!==u||0!==s?(s<<=1,s|=u,(4===++r||0===n&&0===d)&&(a=this.mul(a,i[s]),r=0,s=0)):r=0}c=26}return a},B.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},B.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new k(e)},a(k,B),k.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},k.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},k.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var i=e.imul(t),n=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),a=i.isub(n).iushrn(this.shift),o=a;return a.cmp(this.m)>=0?o=a.isub(this.m):a.cmpn(0)<0&&(o=a.iadd(this.m)),o._forceRed(this)},k.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var i=e.mul(t),n=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),a=i.isub(n).iushrn(this.shift),s=a;return a.cmp(this.m)>=0?s=a.isub(this.m):a.cmpn(0)<0&&(s=a.iadd(this.m)),s._forceRed(this)},k.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}})(void 0===t||t,this)},{buffer:18}],17:[function(e,t,i){var n;function a(e){this.rand=e}if(t.exports=function(e){return n||(n=new a(null)),n.generate(e)},t.exports.Rand=a,a.prototype.generate=function(e){return this._rand(e)},a.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),i=0;i<t.length;i++)t[i]=this.rand.getByte();return t},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?a.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?a.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"==typeof window&&(a.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var o=e("crypto");if("function"!=typeof o.randomBytes)throw new Error("Not supported");a.prototype._rand=function(e){return o.randomBytes(e)}}catch(e){}},{crypto:18}],18:[function(e,t,i){},{}],19:[function(e,t,i){var n=e("safe-buffer").Buffer;function a(e){n.isBuffer(e)||(e=n.from(e));for(var t=e.length/4|0,i=new Array(t),a=0;a<t;a++)i[a]=e.readUInt32BE(4*a);return i}function o(e){for(;0<e.length;e++)e[0]=0}function s(e,t,i,n,a){for(var o,s,r,c,h=i[0],d=i[1],u=i[2],l=i[3],f=e[0]^t[0],p=e[1]^t[1],m=e[2]^t[2],g=e[3]^t[3],b=4,v=1;v<a;v++)o=h[f>>>24]^d[p>>>16&255]^u[m>>>8&255]^l[255&g]^t[b++],s=h[p>>>24]^d[m>>>16&255]^u[g>>>8&255]^l[255&f]^t[b++],r=h[m>>>24]^d[g>>>16&255]^u[f>>>8&255]^l[255&p]^t[b++],c=h[g>>>24]^d[f>>>16&255]^u[p>>>8&255]^l[255&m]^t[b++],f=o,p=s,m=r,g=c;return o=(n[f>>>24]<<24|n[p>>>16&255]<<16|n[m>>>8&255]<<8|n[255&g])^t[b++],s=(n[p>>>24]<<24|n[m>>>16&255]<<16|n[g>>>8&255]<<8|n[255&f])^t[b++],r=(n[m>>>24]<<24|n[g>>>16&255]<<16|n[f>>>8&255]<<8|n[255&p])^t[b++],c=(n[g>>>24]<<24|n[f>>>16&255]<<16|n[p>>>8&255]<<8|n[255&m])^t[b++],[o>>>=0,s>>>=0,r>>>=0,c>>>=0]}var r=[0,1,2,4,8,16,32,64,128,27,54],c=function(){for(var e=new Array(256),t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;for(var i=[],n=[],a=[[],[],[],[]],o=[[],[],[],[]],s=0,r=0,c=0;c<256;++c){var h=r^r<<1^r<<2^r<<3^r<<4;h=h>>>8^255&h^99,i[s]=h,n[h]=s;var d=e[s],u=e[d],l=e[u],f=257*e[h]^16843008*h;a[0][s]=f<<24|f>>>8,a[1][s]=f<<16|f>>>16,a[2][s]=f<<8|f>>>24,a[3][s]=f,f=16843009*l^65537*u^257*d^16843008*s,o[0][h]=f<<24|f>>>8,o[1][h]=f<<16|f>>>16,o[2][h]=f<<8|f>>>24,o[3][h]=f,0===s?s=r=1:(s=d^e[e[e[l^d]]],r^=e[e[r]])}return{SBOX:i,INV_SBOX:n,SUB_MIX:a,INV_SUB_MIX:o}}();function h(e){this._key=a(e),this._reset()}h.blockSize=16,h.keySize=32,h.prototype.blockSize=h.blockSize,h.prototype.keySize=h.keySize,h.prototype._reset=function(){for(var e=this._key,t=e.length,i=t+6,n=4*(i+1),a=[],o=0;o<t;o++)a[o]=e[o];for(o=t;o<n;o++){var s=a[o-1];o%t==0?(s=s<<8|s>>>24,s=c.SBOX[s>>>24]<<24|c.SBOX[s>>>16&255]<<16|c.SBOX[s>>>8&255]<<8|c.SBOX[255&s],s^=r[o/t|0]<<24):t>6&&o%t==4&&(s=c.SBOX[s>>>24]<<24|c.SBOX[s>>>16&255]<<16|c.SBOX[s>>>8&255]<<8|c.SBOX[255&s]),a[o]=a[o-t]^s}for(var h=[],d=0;d<n;d++){var u=n-d,l=a[u-(d%4?0:4)];h[d]=d<4||u<=4?l:c.INV_SUB_MIX[0][c.SBOX[l>>>24]]^c.INV_SUB_MIX[1][c.SBOX[l>>>16&255]]^c.INV_SUB_MIX[2][c.SBOX[l>>>8&255]]^c.INV_SUB_MIX[3][c.SBOX[255&l]]}this._nRounds=i,this._keySchedule=a,this._invKeySchedule=h},h.prototype.encryptBlockRaw=function(e){return s(e=a(e),this._keySchedule,c.SUB_MIX,c.SBOX,this._nRounds)},h.prototype.encryptBlock=function(e){var t=this.encryptBlockRaw(e),i=n.allocUnsafe(16);return i.writeUInt32BE(t[0],0),i.writeUInt32BE(t[1],4),i.writeUInt32BE(t[2],8),i.writeUInt32BE(t[3],12),i},h.prototype.decryptBlock=function(e){var t=(e=a(e))[1];e[1]=e[3],e[3]=t;var i=s(e,this._invKeySchedule,c.INV_SUB_MIX,c.INV_SBOX,this._nRounds),o=n.allocUnsafe(16);return o.writeUInt32BE(i[0],0),o.writeUInt32BE(i[3],4),o.writeUInt32BE(i[2],8),o.writeUInt32BE(i[1],12),o},h.prototype.scrub=function(){o(this._keySchedule),o(this._invKeySchedule),o(this._key)},t.exports.AES=h},{"safe-buffer":147}],20:[function(e,t,i){var n=e("./aes"),a=e("safe-buffer").Buffer,o=e("cipher-base"),s=e("inherits"),r=e("./ghash"),c=e("buffer-xor"),h=e("./incr32");function d(e,t){var i=0;e.length!==t.length&&i++;for(var n=Math.min(e.length,t.length),a=0;a<n;++a)i+=e[a]^t[a];return i}function u(e,t,i){if(12===t.length)return e._finID=a.concat([t,a.from([0,0,0,1])]),a.concat([t,a.from([0,0,0,2])]);var n=new r(i),o=t.length,s=o%16;n.update(t),s&&(s=16-s,n.update(a.alloc(s,0))),n.update(a.alloc(8,0));var c=8*o,d=a.alloc(8);d.writeUIntBE(c,0,8),n.update(d),e._finID=n.state;var u=a.from(e._finID);return h(u),u}function l(e,t,i,s){o.call(this);var c=a.alloc(4,0);this._cipher=new n.AES(t);var h=this._cipher.encryptBlock(c);this._ghash=new r(h),i=u(this,i,h),this._prev=a.from(i),this._cache=a.allocUnsafe(0),this._secCache=a.allocUnsafe(0),this._decrypt=s,this._alen=0,this._len=0,this._mode=e,this._authTag=null,this._called=!1}s(l,o),l.prototype._update=function(e){if(!this._called&&this._alen){var t=16-this._alen%16;t<16&&(t=a.alloc(t,0),this._ghash.update(t))}this._called=!0;var i=this._mode.encrypt(this,e);return this._decrypt?this._ghash.update(e):this._ghash.update(i),this._len+=e.length,i},l.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var e=c(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&d(e,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=e,this._cipher.scrub()},l.prototype.getAuthTag=function(){if(this._decrypt||!a.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},l.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e},l.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length},t.exports=l},{"./aes":19,"./ghash":24,"./incr32":25,"buffer-xor":46,"cipher-base":49,inherits:101,"safe-buffer":147}],21:[function(e,t,i){var n=e("./encrypter"),a=e("./decrypter"),o=e("./modes/list.json");i.createCipher=i.Cipher=n.createCipher,i.createCipheriv=i.Cipheriv=n.createCipheriv,i.createDecipher=i.Decipher=a.createDecipher,i.createDecipheriv=i.Decipheriv=a.createDecipheriv,i.listCiphers=i.getCiphers=function(){return Object.keys(o)}},{"./decrypter":22,"./encrypter":23,"./modes/list.json":33}],22:[function(e,t,i){var n=e("./authCipher"),a=e("safe-buffer").Buffer,o=e("./modes"),s=e("./streamCipher"),r=e("cipher-base"),c=e("./aes"),h=e("evp_bytestokey");function d(e,t,i){r.call(this),this._cache=new u,this._last=void 0,this._cipher=new c.AES(t),this._prev=a.from(i),this._mode=e,this._autopadding=!0}function u(){this.cache=a.allocUnsafe(0)}function l(e){var t=e[15];if(t<1||t>16)throw new Error("unable to decrypt data");for(var i=-1;++i<t;)if(e[i+(16-t)]!==t)throw new Error("unable to decrypt data");if(16!==t)return e.slice(0,16-t)}function f(e,t,i){var r=o[e.toLowerCase()];if(!r)throw new TypeError("invalid suite type");if("string"==typeof i&&(i=a.from(i)),"GCM"!==r.mode&&i.length!==r.iv)throw new TypeError("invalid iv length "+i.length);if("string"==typeof t&&(t=a.from(t)),t.length!==r.key/8)throw new TypeError("invalid key length "+t.length);return"stream"===r.type?new s(r.module,t,i,!0):"auth"===r.type?new n(r.module,t,i,!0):new d(r.module,t,i)}e("inherits")(d,r),d.prototype._update=function(e){var t,i;this._cache.add(e);for(var n=[];t=this._cache.get(this._autopadding);)i=this._mode.decrypt(this,t),n.push(i);return a.concat(n)},d.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return l(this._mode.decrypt(this,e));if(e)throw new Error("data not multiple of block length")},d.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},u.prototype.add=function(e){this.cache=a.concat([this.cache,e])},u.prototype.get=function(e){var t;if(e){if(this.cache.length>16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t}else if(this.cache.length>=16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t;return null},u.prototype.flush=function(){if(this.cache.length)return this.cache},i.createDecipher=function(e,t){var i=o[e.toLowerCase()];if(!i)throw new TypeError("invalid suite type");var n=h(t,!1,i.key,i.iv);return f(e,n.key,n.iv)},i.createDecipheriv=f},{"./aes":19,"./authCipher":20,"./modes":32,"./streamCipher":35,"cipher-base":49,evp_bytestokey:84,inherits:101,"safe-buffer":147}],23:[function(e,t,i){var n=e("./modes"),a=e("./authCipher"),o=e("safe-buffer").Buffer,s=e("./streamCipher"),r=e("cipher-base"),c=e("./aes"),h=e("evp_bytestokey");function d(e,t,i){r.call(this),this._cache=new l,this._cipher=new c.AES(t),this._prev=o.from(i),this._mode=e,this._autopadding=!0}e("inherits")(d,r),d.prototype._update=function(e){var t,i;this._cache.add(e);for(var n=[];t=this._cache.get();)i=this._mode.encrypt(this,t),n.push(i);return o.concat(n)};var u=o.alloc(16,16);function l(){this.cache=o.allocUnsafe(0)}function f(e,t,i){var r=n[e.toLowerCase()];if(!r)throw new TypeError("invalid suite type");if("string"==typeof t&&(t=o.from(t)),t.length!==r.key/8)throw new TypeError("invalid key length "+t.length);if("string"==typeof i&&(i=o.from(i)),"GCM"!==r.mode&&i.length!==r.iv)throw new TypeError("invalid iv length "+i.length);return"stream"===r.type?new s(r.module,t,i):"auth"===r.type?new a(r.module,t,i):new d(r.module,t,i)}d.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return e=this._mode.encrypt(this,e),this._cipher.scrub(),e;if(!e.equals(u))throw this._cipher.scrub(),new Error("data not multiple of block length")},d.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},l.prototype.add=function(e){this.cache=o.concat([this.cache,e])},l.prototype.get=function(){if(this.cache.length>15){var e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),e}return null},l.prototype.flush=function(){for(var e=16-this.cache.length,t=o.allocUnsafe(e),i=-1;++i<e;)t.writeUInt8(e,i);return o.concat([this.cache,t])},i.createCipheriv=f,i.createCipher=function(e,t){var i=n[e.toLowerCase()];if(!i)throw new TypeError("invalid suite type");var a=h(t,!1,i.key,i.iv);return f(e,a.key,a.iv)}},{"./aes":19,"./authCipher":20,"./modes":32,"./streamCipher":35,"cipher-base":49,evp_bytestokey:84,inherits:101,"safe-buffer":147}],24:[function(e,t,i){var n=e("safe-buffer").Buffer,a=n.alloc(16,0);function o(e){return[e.readUInt32BE(0),e.readUInt32BE(4),e.readUInt32BE(8),e.readUInt32BE(12)]}function s(e){var t=n.allocUnsafe(16);return t.writeUInt32BE(e[0]>>>0,0),t.writeUInt32BE(e[1]>>>0,4),t.writeUInt32BE(e[2]>>>0,8),t.writeUInt32BE(e[3]>>>0,12),t}function r(e){this.h=e,this.state=n.alloc(16,0),this.cache=n.allocUnsafe(0)}r.prototype.ghash=function(e){for(var t=-1;++t<e.length;)this.state[t]^=e[t];this._multiply()},r.prototype._multiply=function(){for(var e,t,i=o(this.h),n=[0,0,0,0],a=-1;++a<128;){for(0!=(this.state[~~(a/8)]&1<<7-a%8)&&(n[0]^=i[0],n[1]^=i[1],n[2]^=i[2],n[3]^=i[3]),t=0!=(1&i[3]),e=3;e>0;e--)i[e]=i[e]>>>1|(1&i[e-1])<<31;i[0]=i[0]>>>1,t&&(i[0]=i[0]^225<<24)}this.state=s(n)},r.prototype.update=function(e){var t;for(this.cache=n.concat([this.cache,e]);this.cache.length>=16;)t=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(t)},r.prototype.final=function(e,t){return this.cache.length&&this.ghash(n.concat([this.cache,a],16)),this.ghash(s([0,e,0,t])),this.state},t.exports=r},{"safe-buffer":147}],25:[function(e,t,i){t.exports=function(e){for(var t,i=e.length;i--;){if(255!==(t=e.readUInt8(i))){t++,e.writeUInt8(t,i);break}e.writeUInt8(0,i)}}},{}],26:[function(e,t,i){var n=e("buffer-xor");i.encrypt=function(e,t){var i=n(t,e._prev);return e._prev=e._cipher.encryptBlock(i),e._prev},i.decrypt=function(e,t){var i=e._prev;e._prev=t;var a=e._cipher.decryptBlock(t);return n(a,i)}},{"buffer-xor":46}],27:[function(e,t,i){var n=e("safe-buffer").Buffer,a=e("buffer-xor");function o(e,t,i){var o=t.length,s=a(t,e._cache);return e._cache=e._cache.slice(o),e._prev=n.concat([e._prev,i?t:s]),s}i.encrypt=function(e,t,i){for(var a,s=n.allocUnsafe(0);t.length;){if(0===e._cache.length&&(e._cache=e._cipher.encryptBlock(e._prev),e._prev=n.allocUnsafe(0)),!(e._cache.length<=t.length)){s=n.concat([s,o(e,t,i)]);break}a=e._cache.length,s=n.concat([s,o(e,t.slice(0,a),i)]),t=t.slice(a)}return s}},{"buffer-xor":46,"safe-buffer":147}],28:[function(e,t,i){var n=e("safe-buffer").Buffer;function a(e,t,i){for(var n,a,s,r=-1,c=0;++r<8;)n=e._cipher.encryptBlock(e._prev),a=t&1<<7-r?128:0,c+=(128&(s=n[0]^a))>>r%8,e._prev=o(e._prev,i?a:s);return c}function o(e,t){var i=e.length,a=-1,o=n.allocUnsafe(e.length);for(e=n.concat([e,n.from([t])]);++a<i;)o[a]=e[a]<<1|e[a+1]>>7;return o}i.encrypt=function(e,t,i){for(var o=t.length,s=n.allocUnsafe(o),r=-1;++r<o;)s[r]=a(e,t[r],i);return s}},{"safe-buffer":147}],29:[function(e,t,i){var n=e("safe-buffer").Buffer;function a(e,t,i){var a=e._cipher.encryptBlock(e._prev)[0]^t;return e._prev=n.concat([e._prev.slice(1),n.from([i?t:a])]),a}i.encrypt=function(e,t,i){for(var o=t.length,s=n.allocUnsafe(o),r=-1;++r<o;)s[r]=a(e,t[r],i);return s}},{"safe-buffer":147}],30:[function(e,t,i){var n=e("buffer-xor"),a=e("safe-buffer").Buffer,o=e("../incr32");function s(e){var t=e._cipher.encryptBlockRaw(e._prev);return o(e._prev),t}i.encrypt=function(e,t){var i=Math.ceil(t.length/16),o=e._cache.length;e._cache=a.concat([e._cache,a.allocUnsafe(16*i)]);for(var r=0;r<i;r++){var c=s(e),h=o+16*r;e._cache.writeUInt32BE(c[0],h+0),e._cache.writeUInt32BE(c[1],h+4),e._cache.writeUInt32BE(c[2],h+8),e._cache.writeUInt32BE(c[3],h+12)}var d=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),n(t,d)}},{"../incr32":25,"buffer-xor":46,"safe-buffer":147}],31:[function(e,t,i){i.encrypt=function(e,t){return e._cipher.encryptBlock(t)},i.decrypt=function(e,t){return e._cipher.decryptBlock(t)}},{}],32:[function(e,t,i){var n={ECB:e("./ecb"),CBC:e("./cbc"),CFB:e("./cfb"),CFB8:e("./cfb8"),CFB1:e("./cfb1"),OFB:e("./ofb"),CTR:e("./ctr"),GCM:e("./ctr")},a=e("./list.json");for(var o in a)a[o].module=n[a[o].mode];t.exports=a},{"./cbc":26,"./cfb":27,"./cfb1":28,"./cfb8":29,"./ctr":30,"./ecb":31,"./list.json":33,"./ofb":34}],33:[function(e,t,i){t.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],34:[function(e,t,i){(function(t){var n=e("buffer-xor");function a(e){return e._prev=e._cipher.encryptBlock(e._prev),e._prev}i.encrypt=function(e,i){for(;e._cache.length<i.length;)e._cache=t.concat([e._cache,a(e)]);var o=e._cache.slice(0,i.length);return e._cache=e._cache.slice(i.length),n(i,o)}}).call(this,e("buffer").Buffer)},{buffer:47,"buffer-xor":46}],35:[function(e,t,i){var n=e("./aes"),a=e("safe-buffer").Buffer,o=e("cipher-base");function s(e,t,i,s){o.call(this),this._cipher=new n.AES(t),this._prev=a.from(i),this._cache=a.allocUnsafe(0),this._secCache=a.allocUnsafe(0),this._decrypt=s,this._mode=e}e("inherits")(s,o),s.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)},s.prototype._final=function(){this._cipher.scrub()},t.exports=s},{"./aes":19,"cipher-base":49,inherits:101,"safe-buffer":147}],36:[function(e,t,i){var n=e("browserify-des"),a=e("browserify-aes/browser"),o=e("browserify-aes/modes"),s=e("browserify-des/modes"),r=e("evp_bytestokey");function c(e,t,i){if(e=e.toLowerCase(),o[e])return a.createCipheriv(e,t,i);if(s[e])return new n({key:t,iv:i,mode:e});throw new TypeError("invalid suite type")}function h(e,t,i){if(e=e.toLowerCase(),o[e])return a.createDecipheriv(e,t,i);if(s[e])return new n({key:t,iv:i,mode:e,decrypt:!0});throw new TypeError("invalid suite type")}i.createCipher=i.Cipher=function(e,t){var i,n;if(e=e.toLowerCase(),o[e])i=o[e].key,n=o[e].iv;else{if(!s[e])throw new TypeError("invalid suite type");i=8*s[e].key,n=s[e].iv}var a=r(t,!1,i,n);return c(e,a.key,a.iv)},i.createCipheriv=i.Cipheriv=c,i.createDecipher=i.Decipher=function(e,t){var i,n;if(e=e.toLowerCase(),o[e])i=o[e].key,n=o[e].iv;else{if(!s[e])throw new TypeError("invalid suite type");i=8*s[e].key,n=s[e].iv}var a=r(t,!1,i,n);return h(e,a.key,a.iv)},i.createDecipheriv=i.Decipheriv=h,i.listCiphers=i.getCiphers=function(){return Object.keys(s).concat(a.getCiphers())}},{"browserify-aes/browser":21,"browserify-aes/modes":32,"browserify-des":37,"browserify-des/modes":38,evp_bytestokey:84}],37:[function(e,t,i){var n=e("cipher-base"),a=e("des.js"),o=e("inherits"),s=e("safe-buffer").Buffer,r={"des-ede3-cbc":a.CBC.instantiate(a.EDE),"des-ede3":a.EDE,"des-ede-cbc":a.CBC.instantiate(a.EDE),"des-ede":a.EDE,"des-cbc":a.CBC.instantiate(a.DES),"des-ecb":a.DES};function c(e){n.call(this);var t,i=e.mode.toLowerCase(),a=r[i];t=e.decrypt?"decrypt":"encrypt";var o=e.key;s.isBuffer(o)||(o=s.from(o)),"des-ede"!==i&&"des-ede-cbc"!==i||(o=s.concat([o,o.slice(0,8)]));var c=e.iv;s.isBuffer(c)||(c=s.from(c)),this._des=a.create({key:o,iv:c,type:t})}r.des=r["des-cbc"],r.des3=r["des-ede3-cbc"],t.exports=c,o(c,n),c.prototype._update=function(e){return s.from(this._des.update(e))},c.prototype._final=function(){return s.from(this._des.final())}},{"cipher-base":49,"des.js":57,inherits:101,"safe-buffer":147}],38:[function(e,t,i){i["des-ecb"]={key:8,iv:0},i["des-cbc"]=i.des={key:8,iv:8},i["des-ede3-cbc"]=i.des3={key:24,iv:8},i["des-ede3"]={key:24,iv:0},i["des-ede-cbc"]={key:16,iv:8},i["des-ede"]={key:16,iv:0}},{}],39:[function(e,t,i){(function(i){var n=e("bn.js"),a=e("randombytes");function o(e){var t=r(e);return{blinder:t.toRed(n.mont(e.modulus)).redPow(new n(e.publicExponent)).fromRed(),unblinder:t.invm(e.modulus)}}function s(e,t){var a=o(t),s=t.modulus.byteLength(),r=(n.mont(t.modulus),new n(e).mul(a.blinder).umod(t.modulus)),c=r.toRed(n.mont(t.prime1)),h=r.toRed(n.mont(t.prime2)),d=t.coefficient,u=t.prime1,l=t.prime2,f=c.redPow(t.exponent1),p=h.redPow(t.exponent2);f=f.fromRed(),p=p.fromRed();var m=f.isub(p).imul(d).umod(u);return m.imul(l),p.iadd(m),new i(p.imul(a.unblinder).umod(t.modulus).toArray(!1,s))}function r(e){for(var t=e.modulus.byteLength(),i=new n(a(t));i.cmp(e.modulus)>=0||!i.umod(e.prime1)||!i.umod(e.prime2);)i=new n(a(t));return i}t.exports=s,s.getr=r}).call(this,e("buffer").Buffer)},{"bn.js":16,buffer:47,randombytes:129}],40:[function(e,t,i){t.exports=e("./browser/algorithms.json")},{"./browser/algorithms.json":41}],41:[function(e,t,i){t.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],42:[function(e,t,i){t.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],43:[function(e,t,i){(function(i){var n=e("create-hash"),a=e("stream"),o=e("inherits"),s=e("./sign"),r=e("./verify"),c=e("./algorithms.json");function h(e){a.Writable.call(this);var t=c[e];if(!t)throw new Error("Unknown message digest");this._hashType=t.hash,this._hash=n(t.hash),this._tag=t.id,this._signType=t.sign}function d(e){a.Writable.call(this);var t=c[e];if(!t)throw new Error("Unknown message digest");this._hash=n(t.hash),this._tag=t.id,this._signType=t.sign}function u(e){return new h(e)}function l(e){return new d(e)}Object.keys(c).forEach(function(e){c[e].id=new i(c[e].id,"hex"),c[e.toLowerCase()]=c[e]}),o(h,a.Writable),h.prototype._write=function(e,t,i){this._hash.update(e),i()},h.prototype.update=function(e,t){return"string"==typeof e&&(e=new i(e,t)),this._hash.update(e),this},h.prototype.sign=function(e,t){this.end();var i=this._hash.digest(),n=s(i,e,this._hashType,this._signType,this._tag);return t?n.toString(t):n},o(d,a.Writable),d.prototype._write=function(e,t,i){this._hash.update(e),i()},d.prototype.update=function(e,t){return"string"==typeof e&&(e=new i(e,t)),this._hash.update(e),this},d.prototype.verify=function(e,t,n){"string"==typeof t&&(t=new i(t,n)),this.end();var a=this._hash.digest();return r(t,a,e,this._signType,this._tag)},t.exports={Sign:u,Verify:l,createSign:u,createVerify:l}}).call(this,e("buffer").Buffer)},{"./algorithms.json":41,"./sign":44,"./verify":45,buffer:47,"create-hash":52,inherits:101,stream:156}],44:[function(e,t,i){(function(i){var n=e("create-hmac"),a=e("browserify-rsa"),o=e("elliptic").ec,s=e("bn.js"),r=e("parse-asn1"),c=e("./curves.json");function h(e,t){var n=c[t.curve.join(".")];if(!n)throw new Error("unknown curve "+t.curve.join("."));var a=new o(n).keyFromPrivate(t.privateKey).sign(e);return new i(a.toDER())}function d(e,t,i){for(var n,a=t.params.priv_key,o=t.params.p,r=t.params.q,c=t.params.g,h=new s(0),d=f(e,r).mod(r),p=!1,b=l(a,r,e,i);!1===p;)h=g(c,n=m(r,b,i),o,r),0===(p=n.invm(r).imul(d.add(a.mul(h))).mod(r)).cmpn(0)&&(p=!1,h=new s(0));return u(h,p)}function u(e,t){e=e.toArray(),t=t.toArray(),128&e[0]&&(e=[0].concat(e)),128&t[0]&&(t=[0].concat(t));var n=[48,e.length+t.length+4,2,e.length];return n=n.concat(e,[2,t.length],t),new i(n)}function l(e,t,a,o){if((e=new i(e.toArray())).length<t.byteLength()){var s=new i(t.byteLength()-e.length);s.fill(0),e=i.concat([s,e])}var r=a.length,c=p(a,t),h=new i(r);h.fill(1);var d=new i(r);return d.fill(0),d=n(o,d).update(h).update(new i([0])).update(e).update(c).digest(),h=n(o,d).update(h).digest(),{k:d=n(o,d).update(h).update(new i([1])).update(e).update(c).digest(),v:h=n(o,d).update(h).digest()}}function f(e,t){var i=new s(e),n=(e.length<<3)-t.bitLength();return n>0&&i.ishrn(n),i}function p(e,t){e=(e=f(e,t)).mod(t);var n=new i(e.toArray());if(n.length<t.byteLength()){var a=new i(t.byteLength()-n.length);a.fill(0),n=i.concat([a,n])}return n}function m(e,t,a){var o,s;do{for(o=new i(0);8*o.length<e.bitLength();)t.v=n(a,t.k).update(t.v).digest(),o=i.concat([o,t.v]);s=f(o,e),t.k=n(a,t.k).update(t.v).update(new i([0])).digest(),t.v=n(a,t.k).update(t.v).digest()}while(-1!==s.cmp(e));return s}function g(e,t,i,n){return e.toRed(s.mont(i)).redPow(t).fromRed().mod(n)}t.exports=function(e,t,n,o,s){var c=r(t);if(c.curve){if("ecdsa"!==o&&"ecdsa/rsa"!==o)throw new Error("wrong private key type");return h(e,c)}if("dsa"===c.type){if("dsa"!==o)throw new Error("wrong private key type");return d(e,c,n)}if("rsa"!==o&&"ecdsa/rsa"!==o)throw new Error("wrong private key type");e=i.concat([s,e]);for(var u=c.modulus.byteLength(),l=[0,1];e.length+l.length+1<u;)l.push(255);l.push(0);for(var f=-1;++f<e.length;)l.push(e[f]);return a(l,c)},t.exports.getKey=l,t.exports.makeKey=m}).call(this,e("buffer").Buffer)},{"./curves.json":42,"bn.js":16,"browserify-rsa":39,buffer:47,"create-hmac":54,elliptic:67,"parse-asn1":111}],45:[function(e,t,i){(function(i){var n=e("bn.js"),a=e("elliptic").ec,o=e("parse-asn1"),s=e("./curves.json");function r(e,t,i){var n=s[i.data.algorithm.curve.join(".")];if(!n)throw new Error("unknown curve "+i.data.algorithm.curve.join("."));var o=new a(n),r=i.data.subjectPrivateKey.data;return o.verify(t,e,r)}function c(e,t,i){var a=i.data.p,s=i.data.q,r=i.data.g,c=i.data.pub_key,d=o.signature.decode(e,"der"),u=d.s,l=d.r;h(u,s),h(l,s);var f=n.mont(a),p=u.invm(s);return 0===r.toRed(f).redPow(new n(t).mul(p).mod(s)).fromRed().mul(c.toRed(f).redPow(l.mul(p).mod(s)).fromRed()).mod(a).mod(s).cmp(l)}function h(e,t){if(e.cmpn(0)<=0)throw new Error("invalid sig");if(e.cmp(t)>=t)throw new Error("invalid sig")}t.exports=function(e,t,a,s,h){var d=o(a);if("ec"===d.type){if("ecdsa"!==s&&"ecdsa/rsa"!==s)throw new Error("wrong public key type");return r(e,t,d)}if("dsa"===d.type){if("dsa"!==s)throw new Error("wrong public key type");return c(e,t,d)}if("rsa"!==s&&"ecdsa/rsa"!==s)throw new Error("wrong public key type");t=i.concat([h,t]);for(var u=d.modulus.byteLength(),l=[1],f=0;t.length+l.length+2<u;)l.push(255),f++;l.push(0);for(var p=-1;++p<t.length;)l.push(t[p]);l=new i(l);var m=n.mont(d.modulus);e=(e=new n(e).toRed(m)).redPow(new n(d.publicExponent)),e=new i(e.fromRed().toArray());var g=f<8?1:0;for(u=Math.min(e.length,l.length),e.length!==l.length&&(g=1),p=-1;++p<u;)g|=e[p]^l[p];return 0===g}}).call(this,e("buffer").Buffer)},{"./curves.json":42,"bn.js":16,buffer:47,elliptic:67,"parse-asn1":111}],46:[function(e,t,i){(function(e){t.exports=function(t,i){for(var n=Math.min(t.length,i.length),a=new e(n),o=0;o<n;++o)a[o]=t[o]^i[o];return a}}).call(this,e("buffer").Buffer)},{buffer:47}],47:[function(e,t,i){(function(t){"use strict";var n=e("base64-js"),a=e("ieee754"),o=e("isarray");function s(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function r(e,t){if(s()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,i){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(e,t,i);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return l(this,e)}return h(this,e,t,i)}function h(e,t,i,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?m(e,t,i,n):"string"==typeof t?f(e,t,i):g(e,t)}function d(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function u(e,t,i,n){return d(t),t<=0?r(e,t):void 0!==i?"string"==typeof n?r(e,t).fill(i,n):r(e,t).fill(i):r(e,t)}function l(e,t){if(d(t),e=r(e,t<0?0:0|b(t)),!c.TYPED_ARRAY_SUPPORT)for(var i=0;i<t;++i)e[i]=0;return e}function f(e,t,i){if("string"==typeof i&&""!==i||(i="utf8"),!c.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');var n=0|v(t,i),a=(e=r(e,n)).write(t,i);return a!==n&&(e=e.slice(0,a)),e}function p(e,t){var i=t.length<0?0:0|b(t.length);e=r(e,i);for(var n=0;n<i;n+=1)e[n]=255&t[n];return e}function m(e,t,i,n){if(t.byteLength,i<0||t.byteLength<i)throw new RangeError("'offset' is out of bounds");if(t.byteLength<i+(n||0))throw new RangeError("'length' is out of bounds");return t=void 0===i&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,i):new Uint8Array(t,i,n),c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=p(e,t),e}function g(e,t){if(c.isBuffer(t)){var i=0|b(t.length);return 0===(e=r(e,i)).length?e:(t.copy(e,0,0,i),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||$(t.length)?r(e,0):p(e,t);if("Buffer"===t.type&&o(t.data))return p(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function b(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function v(e,t){if(c.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var i=e.length;if(0===i)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return W(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return Z(e).length;default:if(n)return W(e).length;t=(""+t).toLowerCase(),n=!0}}function y(e,t,i){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if((i>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return E(this,t,i);case"utf8":case"utf-8":return M(this,t,i);case"ascii":return x(this,t,i);case"latin1":case"binary":return L(this,t,i);case"base64":return I(this,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,i);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function C(e,t,i){var n=e[t];e[t]=e[i],e[i]=n}function _(e,t,i,n,a){if(0===e.length)return-1;if("string"==typeof i?(n=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=a?0:e.length-1),i<0&&(i=e.length+i),i>=e.length){if(a)return-1;i=e.length-1}else if(i<0){if(!a)return-1;i=0}if("string"==typeof t&&(t=c.from(t,n)),c.isBuffer(t))return 0===t.length?-1:w(e,t,i,n,a);if("number"==typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?a?Uint8Array.prototype.indexOf.call(e,t,i):Uint8Array.prototype.lastIndexOf.call(e,t,i):w(e,[t],i,n,a);throw new TypeError("val must be string, number or Buffer")}function w(e,t,i,n,a){var o,s=1,r=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,r/=2,c/=2,i/=2}function h(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(a){var d=-1;for(o=i;o<r;o++)if(h(e,o)===h(t,-1===d?0:o-d)){if(-1===d&&(d=o),o-d+1===c)return d*s}else-1!==d&&(o-=o-d),d=-1}else for(i+c>r&&(i=r-c),o=i;o>=0;o--){for(var u=!0,l=0;l<c;l++)if(h(e,o+l)!==h(t,l)){u=!1;break}if(u)return o}return-1}function S(e,t,i,n){i=Number(i)||0;var a=e.length-i;n?(n=Number(n))>a&&(n=a):n=a;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var s=0;s<n;++s){var r=parseInt(t.substr(2*s,2),16);if(isNaN(r))return s;e[i+s]=r}return s}function B(e,t,i,n){return Q(W(t,e.length-i),e,i,n)}function k(e,t,i,n){return Q(X(t),e,i,n)}function D(e,t,i,n){return k(e,t,i,n)}function N(e,t,i,n){return Q(Z(t),e,i,n)}function A(e,t,i,n){return Q(Y(t,e.length-i),e,i,n)}function I(e,t,i){return 0===t&&i===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,i))}function M(e,t,i){i=Math.min(e.length,i);for(var n=[],a=t;a<i;){var o,s,r,c,h=e[a],d=null,u=h>239?4:h>223?3:h>191?2:1;if(a+u<=i)switch(u){case 1:h<128&&(d=h);break;case 2:128==(192&(o=e[a+1]))&&(c=(31&h)<<6|63&o)>127&&(d=c);break;case 3:o=e[a+1],s=e[a+2],128==(192&o)&&128==(192&s)&&(c=(15&h)<<12|(63&o)<<6|63&s)>2047&&(c<55296||c>57343)&&(d=c);break;case 4:o=e[a+1],s=e[a+2],r=e[a+3],128==(192&o)&&128==(192&s)&&128==(192&r)&&(c=(15&h)<<18|(63&o)<<12|(63&s)<<6|63&r)>65535&&c<1114112&&(d=c)}null===d?(d=65533,u=1):d>65535&&(d-=65536,n.push(d>>>10&1023|55296),d=56320|1023&d),n.push(d),a+=u}return G(n)}i.Buffer=c,i.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},i.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),i.kMaxLength=s(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,i){return h(null,e,t,i)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,i){return u(null,e,t,i)},c.allocUnsafe=function(e){return l(null,e)},c.allocUnsafeSlow=function(e){return l(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var i=e.length,n=t.length,a=0,o=Math.min(i,n);a<o;++a)if(e[a]!==t[a]){i=e[a],n=t[a];break}return i<n?-1:n<i?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var i;if(void 0===t)for(t=0,i=0;i<e.length;++i)t+=e[i].length;var n=c.allocUnsafe(t),a=0;for(i=0;i<e.length;++i){var s=e[i];if(!c.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,a),a+=s.length}return n},c.byteLength=v,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)C(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)C(this,t,t+3),C(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)C(this,t,t+7),C(this,t+1,t+6),C(this,t+2,t+5),C(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?M(this,0,e):y.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",t=i.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,i,n,a){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===i&&(i=e?e.length:0),void 0===n&&(n=0),void 0===a&&(a=this.length),t<0||i>e.length||n<0||a>this.length)throw new RangeError("out of range index");if(n>=a&&t>=i)return 0;if(n>=a)return-1;if(t>=i)return 1;if(t>>>=0,i>>>=0,n>>>=0,a>>>=0,this===e)return 0;for(var o=a-n,s=i-t,r=Math.min(o,s),h=this.slice(n,a),d=e.slice(t,i),u=0;u<r;++u)if(h[u]!==d[u]){o=h[u],s=d[u];break}return o<s?-1:s<o?1:0},c.prototype.includes=function(e,t,i){return-1!==this.indexOf(e,t,i)},c.prototype.indexOf=function(e,t,i){return _(this,e,t,i,!0)},c.prototype.lastIndexOf=function(e,t,i){return _(this,e,t,i,!1)},c.prototype.write=function(e,t,i,n){if(void 0===t)n="utf8",i=this.length,t=0;else if(void 0===i&&"string"==typeof t)n=t,i=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(i)?(i|=0,void 0===n&&(n="utf8")):(n=i,i=void 0)}var a=this.length-t;if((void 0===i||i>a)&&(i=a),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return S(this,e,t,i);case"utf8":case"utf-8":return B(this,e,t,i);case"ascii":return k(this,e,t,i);case"latin1":case"binary":return D(this,e,t,i);case"base64":return N(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,t,i);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function G(e){var t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);for(var i="",n=0;n<t;)i+=String.fromCharCode.apply(String,e.slice(n,n+=T));return i}function x(e,t,i){var n="";i=Math.min(e.length,i);for(var a=t;a<i;++a)n+=String.fromCharCode(127&e[a]);return n}function L(e,t,i){var n="";i=Math.min(e.length,i);for(var a=t;a<i;++a)n+=String.fromCharCode(e[a]);return n}function E(e,t,i){var n=e.length;(!t||t<0)&&(t=0),(!i||i<0||i>n)&&(i=n);for(var a="",o=t;o<i;++o)a+=J(e[o]);return a}function R(e,t,i){for(var n=e.slice(t,i),a="",o=0;o<n.length;o+=2)a+=String.fromCharCode(n[o]+256*n[o+1]);return a}function P(e,t,i){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>i)throw new RangeError("Trying to access beyond buffer length")}function F(e,t,i,n,a,o){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>a||t<o)throw new RangeError('"value" argument is out of bounds');if(i+n>e.length)throw new RangeError("Index out of range")}function U(e,t,i,n){t<0&&(t=65535+t+1);for(var a=0,o=Math.min(e.length-i,2);a<o;++a)e[i+a]=(t&255<<8*(n?a:1-a))>>>8*(n?a:1-a)}function j(e,t,i,n){t<0&&(t=4294967295+t+1);for(var a=0,o=Math.min(e.length-i,4);a<o;++a)e[i+a]=t>>>8*(n?a:3-a)&255}function O(e,t,i,n,a,o){if(i+n>e.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function z(e,t,i,n,o){return o||O(e,0,i,4),a.write(e,t,i,n,23,4),i+4}function q(e,t,i,n,o){return o||O(e,0,i,8),a.write(e,t,i,n,52,8),i+8}c.prototype.slice=function(e,t){var i,n=this.length;if(e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(i=this.subarray(e,t)).__proto__=c.prototype;else{var a=t-e;i=new c(a,void 0);for(var o=0;o<a;++o)i[o]=this[o+e]}return i},c.prototype.readUIntLE=function(e,t,i){e|=0,t|=0,i||P(e,t,this.length);for(var n=this[e],a=1,o=0;++o<t&&(a*=256);)n+=this[e+o]*a;return n},c.prototype.readUIntBE=function(e,t,i){e|=0,t|=0,i||P(e,t,this.length);for(var n=this[e+--t],a=1;t>0&&(a*=256);)n+=this[e+--t]*a;return n},c.prototype.readUInt8=function(e,t){return t||P(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||P(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||P(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||P(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||P(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,i){e|=0,t|=0,i||P(e,t,this.length);for(var n=this[e],a=1,o=0;++o<t&&(a*=256);)n+=this[e+o]*a;return n>=(a*=128)&&(n-=Math.pow(2,8*t)),n},c.prototype.readIntBE=function(e,t,i){e|=0,t|=0,i||P(e,t,this.length);for(var n=t,a=1,o=this[e+--n];n>0&&(a*=256);)o+=this[e+--n]*a;return o>=(a*=128)&&(o-=Math.pow(2,8*t)),o},c.prototype.readInt8=function(e,t){return t||P(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||P(e,2,this.length);var i=this[e]|this[e+1]<<8;return 32768&i?4294901760|i:i},c.prototype.readInt16BE=function(e,t){t||P(e,2,this.length);var i=this[e+1]|this[e]<<8;return 32768&i?4294901760|i:i},c.prototype.readInt32LE=function(e,t){return t||P(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||P(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||P(e,4,this.length),a.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||P(e,4,this.length),a.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||P(e,8,this.length),a.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||P(e,8,this.length),a.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,i,n){(e=+e,t|=0,i|=0,n)||F(this,e,t,i,Math.pow(2,8*i)-1,0);var a=1,o=0;for(this[t]=255&e;++o<i&&(a*=256);)this[t+o]=e/a&255;return t+i},c.prototype.writeUIntBE=function(e,t,i,n){(e=+e,t|=0,i|=0,n)||F(this,e,t,i,Math.pow(2,8*i)-1,0);var a=i-1,o=1;for(this[t+a]=255&e;--a>=0&&(o*=256);)this[t+a]=e/o&255;return t+i},c.prototype.writeUInt8=function(e,t,i){return e=+e,t|=0,i||F(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,i){return e=+e,t|=0,i||F(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):U(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,i){return e=+e,t|=0,i||F(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):U(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,i){return e=+e,t|=0,i||F(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):j(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,i){return e=+e,t|=0,i||F(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):j(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,i,n){if(e=+e,t|=0,!n){var a=Math.pow(2,8*i-1);F(this,e,t,i,a-1,-a)}var o=0,s=1,r=0;for(this[t]=255&e;++o<i&&(s*=256);)e<0&&0===r&&0!==this[t+o-1]&&(r=1),this[t+o]=(e/s>>0)-r&255;return t+i},c.prototype.writeIntBE=function(e,t,i,n){if(e=+e,t|=0,!n){var a=Math.pow(2,8*i-1);F(this,e,t,i,a-1,-a)}var o=i-1,s=1,r=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===r&&0!==this[t+o+1]&&(r=1),this[t+o]=(e/s>>0)-r&255;return t+i},c.prototype.writeInt8=function(e,t,i){return e=+e,t|=0,i||F(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,i){return e=+e,t|=0,i||F(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):U(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,i){return e=+e,t|=0,i||F(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):U(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,i){return e=+e,t|=0,i||F(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):j(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,i){return e=+e,t|=0,i||F(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):j(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,i){return z(this,e,t,!0,i)},c.prototype.writeFloatBE=function(e,t,i){return z(this,e,t,!1,i)},c.prototype.writeDoubleLE=function(e,t,i){return q(this,e,t,!0,i)},c.prototype.writeDoubleBE=function(e,t,i){return q(this,e,t,!1,i)},c.prototype.copy=function(e,t,i,n){if(i||(i=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<i&&(n=i),n===i)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-i&&(n=e.length-t+i);var a,o=n-i;if(this===e&&i<t&&t<n)for(a=o-1;a>=0;--a)e[a+t]=this[a+i];else if(o<1e3||!c.TYPED_ARRAY_SUPPORT)for(a=0;a<o;++a)e[a+t]=this[a+i];else Uint8Array.prototype.set.call(e,this.subarray(i,i+o),t);return o},c.prototype.fill=function(e,t,i,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,i=this.length):"string"==typeof i&&(n=i,i=this.length),1===e.length){var a=e.charCodeAt(0);a<256&&(e=a)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;var o;if(t>>>=0,i=void 0===i?this.length:i>>>0,e||(e=0),"number"==typeof e)for(o=t;o<i;++o)this[o]=e;else{var s=c.isBuffer(e)?e:W(new c(e,n).toString()),r=s.length;for(o=0;o<i-t;++o)this[o+t]=s[o%r]}return this};var V=/[^+\/0-9A-Za-z-_]/g;function H(e){if((e=K(e).replace(V,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}function K(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function J(e){return e<16?"0"+e.toString(16):e.toString(16)}function W(e,t){var i;t=t||1/0;for(var n=e.length,a=null,o=[],s=0;s<n;++s){if((i=e.charCodeAt(s))>55295&&i<57344){if(!a){if(i>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}a=i;continue}if(i<56320){(t-=3)>-1&&o.push(239,191,189),a=i;continue}i=65536+(a-55296<<10|i-56320)}else a&&(t-=3)>-1&&o.push(239,191,189);if(a=null,i<128){if((t-=1)<0)break;o.push(i)}else if(i<2048){if((t-=2)<0)break;o.push(i>>6|192,63&i|128)}else if(i<65536){if((t-=3)<0)break;o.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return o}function X(e){for(var t=[],i=0;i<e.length;++i)t.push(255&e.charCodeAt(i));return t}function Y(e,t){for(var i,n,a,o=[],s=0;s<e.length&&!((t-=2)<0);++s)n=(i=e.charCodeAt(s))>>8,a=i%256,o.push(a),o.push(n);return o}function Z(e){return n.toByteArray(H(e))}function Q(e,t,i,n){for(var a=0;a<n&&!(a+i>=t.length||a>=e.length);++a)t[a+i]=e[a];return a}function $(e){return e!=e}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":15,ieee754:99,isarray:48}],48:[function(e,t,i){var n={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},{}],49:[function(e,t,i){var n=e("safe-buffer").Buffer,a=e("stream").Transform,o=e("string_decoder").StringDecoder;function s(e){a.call(this),this.hashMode="string"==typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}e("inherits")(s,a),s.prototype.update=function(e,t,i){"string"==typeof e&&(e=n.from(e,t));var a=this._update(e);return this.hashMode?this:(i&&(a=this._toString(a,i)),a)},s.prototype.setAutoPadding=function(){},s.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},s.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},s.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},s.prototype._transform=function(e,t,i){var n;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(e){n=e}finally{i(n)}},s.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(e){t=e}e(t)},s.prototype._finalOrDigest=function(e){var t=this.__final()||n.alloc(0);return e&&(t=this._toString(t,e,!0)),t},s.prototype._toString=function(e,t,i){if(this._decoder||(this._decoder=new o(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var n=this._decoder.write(e);return i&&(n+=this._decoder.end()),n},t.exports=s},{inherits:101,"safe-buffer":147,stream:156,string_decoder:157}],50:[function(e,t,i){(function(e){function t(e){return Object.prototype.toString.call(e)}i.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===t(e)},i.isBoolean=function(e){return"boolean"==typeof e},i.isNull=function(e){return null===e},i.isNullOrUndefined=function(e){return null==e},i.isNumber=function(e){return"number"==typeof e},i.isString=function(e){return"string"==typeof e},i.isSymbol=function(e){return"symbol"==typeof e},i.isUndefined=function(e){return void 0===e},i.isRegExp=function(e){return"[object RegExp]"===t(e)},i.isObject=function(e){return"object"==typeof e&&null!==e},i.isDate=function(e){return"[object Date]"===t(e)},i.isError=function(e){return"[object Error]"===t(e)||e instanceof Error},i.isFunction=function(e){return"function"==typeof e},i.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},i.isBuffer=e.isBuffer}).call(this,{isBuffer:e("../../is-buffer/index.js")})},{"../../is-buffer/index.js":102}],51:[function(e,t,i){(function(i){var n=e("elliptic"),a=e("bn.js");t.exports=function(e){return new s(e)};var o={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function s(e){this.curveType=o[e],this.curveType||(this.curveType={name:e}),this.curve=new n.ec(this.curveType.name),this.keys=void 0}function r(e,t,n){Array.isArray(e)||(e=e.toArray());var a=new i(e);if(n&&a.length<n){var o=new i(n-a.length);o.fill(0),a=i.concat([o,a])}return t?a.toString(t):a}o.p224=o.secp224r1,o.p256=o.secp256r1=o.prime256v1,o.p192=o.secp192r1=o.prime192v1,o.p384=o.secp384r1,o.p521=o.secp521r1,s.prototype.generateKeys=function(e,t){return this.keys=this.curve.genKeyPair(),this.getPublicKey(e,t)},s.prototype.computeSecret=function(e,t,n){return t=t||"utf8",i.isBuffer(e)||(e=new i(e,t)),r(this.curve.keyFromPublic(e).getPublic().mul(this.keys.getPrivate()).getX(),n,this.curveType.byteLength)},s.prototype.getPublicKey=function(e,t){var i=this.keys.getPublic("compressed"===t,!0);return"hybrid"===t&&(i[i.length-1]%2?i[0]=7:i[0]=6),r(i,e)},s.prototype.getPrivateKey=function(e){return r(this.keys.getPrivate(),e)},s.prototype.setPublicKey=function(e,t){return t=t||"utf8",i.isBuffer(e)||(e=new i(e,t)),this.keys._importPublic(e),this},s.prototype.setPrivateKey=function(e,t){t=t||"utf8",i.isBuffer(e)||(e=new i(e,t));var n=new a(e);return n=n.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(n),this}}).call(this,e("buffer").Buffer)},{"bn.js":16,buffer:47,elliptic:67}],52:[function(e,t,i){"use strict";var n=e("inherits"),a=e("md5.js"),o=e("ripemd160"),s=e("sha.js"),r=e("cipher-base");function c(e){r.call(this,"digest"),this._hash=e}n(c,r),c.prototype._update=function(e){this._hash.update(e)},c.prototype._final=function(){return this._hash.digest()},t.exports=function(e){return"md5"===(e=e.toLowerCase())?new a:"rmd160"===e||"ripemd160"===e?new o:new c(s(e))}},{"cipher-base":49,inherits:101,"md5.js":103,ripemd160:146,"sha.js":149}],53:[function(e,t,i){var n=e("md5.js");t.exports=function(e){return(new n).update(e).digest()}},{"md5.js":103}],54:[function(e,t,i){"use strict";var n=e("inherits"),a=e("./legacy"),o=e("cipher-base"),s=e("safe-buffer").Buffer,r=e("create-hash/md5"),c=e("ripemd160"),h=e("sha.js"),d=s.alloc(128);function u(e,t){o.call(this,"digest"),"string"==typeof t&&(t=s.from(t));var i="sha512"===e||"sha384"===e?128:64;(this._alg=e,this._key=t,t.length>i)?t=("rmd160"===e?new c:h(e)).update(t).digest():t.length<i&&(t=s.concat([t,d],i));for(var n=this._ipad=s.allocUnsafe(i),a=this._opad=s.allocUnsafe(i),r=0;r<i;r++)n[r]=54^t[r],a[r]=92^t[r];this._hash="rmd160"===e?new c:h(e),this._hash.update(n)}n(u,o),u.prototype._update=function(e){this._hash.update(e)},u.prototype._final=function(){var e=this._hash.digest();return("rmd160"===this._alg?new c:h(this._alg)).update(this._opad).update(e).digest()},t.exports=function(e,t){return"rmd160"===(e=e.toLowerCase())||"ripemd160"===e?new u("rmd160",t):"md5"===e?new a(r,t):new u(e,t)}},{"./legacy":55,"cipher-base":49,"create-hash/md5":53,inherits:101,ripemd160:146,"safe-buffer":147,"sha.js":149}],55:[function(e,t,i){"use strict";var n=e("inherits"),a=e("safe-buffer").Buffer,o=e("cipher-base"),s=a.alloc(128),r=64;function c(e,t){o.call(this,"digest"),"string"==typeof t&&(t=a.from(t)),this._alg=e,this._key=t,t.length>r?t=e(t):t.length<r&&(t=a.concat([t,s],r));for(var i=this._ipad=a.allocUnsafe(r),n=this._opad=a.allocUnsafe(r),c=0;c<r;c++)i[c]=54^t[c],n[c]=92^t[c];this._hash=[i]}n(c,o),c.prototype._update=function(e){this._hash.push(e)},c.prototype._final=function(){var e=this._alg(a.concat(this._hash));return this._alg(a.concat([this._opad,e]))},t.exports=c},{"cipher-base":49,inherits:101,"safe-buffer":147}],56:[function(e,t,i){"use strict";i.randomBytes=i.rng=i.pseudoRandomBytes=i.prng=e("randombytes"),i.createHash=i.Hash=e("create-hash"),i.createHmac=i.Hmac=e("create-hmac");var n=e("browserify-sign/algos"),a=Object.keys(n),o=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(a);i.getHashes=function(){return o};var s=e("pbkdf2");i.pbkdf2=s.pbkdf2,i.pbkdf2Sync=s.pbkdf2Sync;var r=e("browserify-cipher");i.Cipher=r.Cipher,i.createCipher=r.createCipher,i.Cipheriv=r.Cipheriv,i.createCipheriv=r.createCipheriv,i.Decipher=r.Decipher,i.createDecipher=r.createDecipher,i.Decipheriv=r.Decipheriv,i.createDecipheriv=r.createDecipheriv,i.getCiphers=r.getCiphers,i.listCiphers=r.listCiphers;var c=e("diffie-hellman");i.DiffieHellmanGroup=c.DiffieHellmanGroup,i.createDiffieHellmanGroup=c.createDiffieHellmanGroup,i.getDiffieHellman=c.getDiffieHellman,i.createDiffieHellman=c.createDiffieHellman,i.DiffieHellman=c.DiffieHellman;var h=e("browserify-sign");i.createSign=h.createSign,i.Sign=h.Sign,i.createVerify=h.createVerify,i.Verify=h.Verify,i.createECDH=e("create-ecdh");var d=e("public-encrypt");i.publicEncrypt=d.publicEncrypt,i.privateEncrypt=d.privateEncrypt,i.publicDecrypt=d.publicDecrypt,i.privateDecrypt=d.privateDecrypt;var u=e("randomfill");i.randomFill=u.randomFill,i.randomFillSync=u.randomFillSync,i.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},i.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":36,"browserify-sign":43,"browserify-sign/algos":40,"create-ecdh":51,"create-hash":52,"create-hmac":54,"diffie-hellman":63,pbkdf2:112,"public-encrypt":119,randombytes:129,randomfill:130}],57:[function(e,t,i){"use strict";i.utils=e("./des/utils"),i.Cipher=e("./des/cipher"),i.DES=e("./des/des"),i.CBC=e("./des/cbc"),i.EDE=e("./des/ede")},{"./des/cbc":58,"./des/cipher":59,"./des/des":60,"./des/ede":61,"./des/utils":62}],58:[function(e,t,i){"use strict";var n=e("minimalistic-assert"),a=e("inherits"),o={};function s(e){n.equal(e.length,8,"Invalid IV length"),this.iv=new Array(8);for(var t=0;t<this.iv.length;t++)this.iv[t]=e[t]}i.instantiate=function(e){function t(t){e.call(this,t),this._cbcInit()}a(t,e);for(var i=Object.keys(o),n=0;n<i.length;n++){var s=i[n];t.prototype[s]=o[s]}return t.create=function(e){return new t(e)},t},o._cbcInit=function(){var e=new s(this.options.iv);this._cbcState=e},o._update=function(e,t,i,n){var a=this._cbcState,o=this.constructor.super_.prototype,s=a.iv;if("encrypt"===this.type){for(var r=0;r<this.blockSize;r++)s[r]^=e[t+r];o._update.call(this,s,0,i,n);for(r=0;r<this.blockSize;r++)s[r]=i[n+r]}else{o._update.call(this,e,t,i,n);for(r=0;r<this.blockSize;r++)i[n+r]^=s[r];for(r=0;r<this.blockSize;r++)s[r]=e[t+r]}}},{inherits:101,"minimalistic-assert":105}],59:[function(e,t,i){"use strict";var n=e("minimalistic-assert");function a(e){this.options=e,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}t.exports=a,a.prototype._init=function(){},a.prototype.update=function(e){return 0===e.length?[]:"decrypt"===this.type?this._updateDecrypt(e):this._updateEncrypt(e)},a.prototype._buffer=function(e,t){for(var i=Math.min(this.buffer.length-this.bufferOff,e.length-t),n=0;n<i;n++)this.buffer[this.bufferOff+n]=e[t+n];return this.bufferOff+=i,i},a.prototype._flushBuffer=function(e,t){return this._update(this.buffer,0,e,t),this.bufferOff=0,this.blockSize},a.prototype._updateEncrypt=function(e){var t=0,i=0,n=(this.bufferOff+e.length)/this.blockSize|0,a=new Array(n*this.blockSize);0!==this.bufferOff&&(t+=this._buffer(e,t),this.bufferOff===this.buffer.length&&(i+=this._flushBuffer(a,i)));for(var o=e.length-(e.length-t)%this.blockSize;t<o;t+=this.blockSize)this._update(e,t,a,i),i+=this.blockSize;for(;t<e.length;t++,this.bufferOff++)this.buffer[this.bufferOff]=e[t];return a},a.prototype._updateDecrypt=function(e){for(var t=0,i=0,n=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,a=new Array(n*this.blockSize);n>0;n--)t+=this._buffer(e,t),i+=this._flushBuffer(a,i);return t+=this._buffer(e,t),a},a.prototype.final=function(e){var t,i;return e&&(t=this.update(e)),i="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),t?t.concat(i):i},a.prototype._pad=function(e,t){if(0===t)return!1;for(;t<e.length;)e[t++]=0;return!0},a.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e},a.prototype._unpad=function(e){return e},a.prototype._finalDecrypt=function(){n.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)}},{"minimalistic-assert":105}],60:[function(e,t,i){"use strict";var n=e("minimalistic-assert"),a=e("inherits"),o=e("../des"),s=o.utils,r=o.Cipher;function c(){this.tmp=new Array(2),this.keys=null}function h(e){r.call(this,e);var t=new c;this._desState=t,this.deriveKeys(t,e.key)}a(h,r),t.exports=h,h.create=function(e){return new h(e)};var d=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];h.prototype.deriveKeys=function(e,t){e.keys=new Array(32),n.equal(t.length,this.blockSize,"Invalid key length");var i=s.readUInt32BE(t,0),a=s.readUInt32BE(t,4);s.pc1(i,a,e.tmp,0),i=e.tmp[0],a=e.tmp[1];for(var o=0;o<e.keys.length;o+=2){var r=d[o>>>1];i=s.r28shl(i,r),a=s.r28shl(a,r),s.pc2(i,a,e.keys,o)}},h.prototype._update=function(e,t,i,n){var a=this._desState,o=s.readUInt32BE(e,t),r=s.readUInt32BE(e,t+4);s.ip(o,r,a.tmp,0),o=a.tmp[0],r=a.tmp[1],"encrypt"===this.type?this._encrypt(a,o,r,a.tmp,0):this._decrypt(a,o,r,a.tmp,0),o=a.tmp[0],r=a.tmp[1],s.writeUInt32BE(i,o,n),s.writeUInt32BE(i,r,n+4)},h.prototype._pad=function(e,t){for(var i=e.length-t,n=t;n<e.length;n++)e[n]=i;return!0},h.prototype._unpad=function(e){for(var t=e[e.length-1],i=e.length-t;i<e.length;i++)n.equal(e[i],t);return e.slice(0,e.length-t)},h.prototype._encrypt=function(e,t,i,n,a){for(var o=t,r=i,c=0;c<e.keys.length;c+=2){var h=e.keys[c],d=e.keys[c+1];s.expand(r,e.tmp,0),h^=e.tmp[0],d^=e.tmp[1];var u=s.substitute(h,d),l=r;r=(o^s.permute(u))>>>0,o=l}s.rip(r,o,n,a)},h.prototype._decrypt=function(e,t,i,n,a){for(var o=i,r=t,c=e.keys.length-2;c>=0;c-=2){var h=e.keys[c],d=e.keys[c+1];s.expand(o,e.tmp,0),h^=e.tmp[0],d^=e.tmp[1];var u=s.substitute(h,d),l=o;o=(r^s.permute(u))>>>0,r=l}s.rip(o,r,n,a)}},{"../des":57,inherits:101,"minimalistic-assert":105}],61:[function(e,t,i){"use strict";var n=e("minimalistic-assert"),a=e("inherits"),o=e("../des"),s=o.Cipher,r=o.DES;function c(e,t){n.equal(t.length,24,"Invalid key length");var i=t.slice(0,8),a=t.slice(8,16),o=t.slice(16,24);this.ciphers="encrypt"===e?[r.create({type:"encrypt",key:i}),r.create({type:"decrypt",key:a}),r.create({type:"encrypt",key:o})]:[r.create({type:"decrypt",key:o}),r.create({type:"encrypt",key:a}),r.create({type:"decrypt",key:i})]}function h(e){s.call(this,e);var t=new c(this.type,this.options.key);this._edeState=t}a(h,s),t.exports=h,h.create=function(e){return new h(e)},h.prototype._update=function(e,t,i,n){var a=this._edeState;a.ciphers[0]._update(e,t,i,n),a.ciphers[1]._update(i,n,i,n),a.ciphers[2]._update(i,n,i,n)},h.prototype._pad=r.prototype._pad,h.prototype._unpad=r.prototype._unpad},{"../des":57,inherits:101,"minimalistic-assert":105}],62:[function(e,t,i){"use strict";i.readUInt32BE=function(e,t){return(e[0+t]<<24|e[1+t]<<16|e[2+t]<<8|e[3+t])>>>0},i.writeUInt32BE=function(e,t,i){e[0+i]=t>>>24,e[1+i]=t>>>16&255,e[2+i]=t>>>8&255,e[3+i]=255&t},i.ip=function(e,t,i,n){for(var a=0,o=0,s=6;s>=0;s-=2){for(var r=0;r<=24;r+=8)a<<=1,a|=t>>>r+s&1;for(r=0;r<=24;r+=8)a<<=1,a|=e>>>r+s&1}for(s=6;s>=0;s-=2){for(r=1;r<=25;r+=8)o<<=1,o|=t>>>r+s&1;for(r=1;r<=25;r+=8)o<<=1,o|=e>>>r+s&1}i[n+0]=a>>>0,i[n+1]=o>>>0},i.rip=function(e,t,i,n){for(var a=0,o=0,s=0;s<4;s++)for(var r=24;r>=0;r-=8)a<<=1,a|=t>>>r+s&1,a<<=1,a|=e>>>r+s&1;for(s=4;s<8;s++)for(r=24;r>=0;r-=8)o<<=1,o|=t>>>r+s&1,o<<=1,o|=e>>>r+s&1;i[n+0]=a>>>0,i[n+1]=o>>>0},i.pc1=function(e,t,i,n){for(var a=0,o=0,s=7;s>=5;s--){for(var r=0;r<=24;r+=8)a<<=1,a|=t>>r+s&1;for(r=0;r<=24;r+=8)a<<=1,a|=e>>r+s&1}for(r=0;r<=24;r+=8)a<<=1,a|=t>>r+s&1;for(s=1;s<=3;s++){for(r=0;r<=24;r+=8)o<<=1,o|=t>>r+s&1;for(r=0;r<=24;r+=8)o<<=1,o|=e>>r+s&1}for(r=0;r<=24;r+=8)o<<=1,o|=e>>r+s&1;i[n+0]=a>>>0,i[n+1]=o>>>0},i.r28shl=function(e,t){return e<<t&268435455|e>>>28-t};var n=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];i.pc2=function(e,t,i,a){for(var o=0,s=0,r=n.length>>>1,c=0;c<r;c++)o<<=1,o|=e>>>n[c]&1;for(c=r;c<n.length;c++)s<<=1,s|=t>>>n[c]&1;i[a+0]=o>>>0,i[a+1]=s>>>0},i.expand=function(e,t,i){var n=0,a=0;n=(1&e)<<5|e>>>27;for(var o=23;o>=15;o-=4)n<<=6,n|=e>>>o&63;for(o=11;o>=3;o-=4)a|=e>>>o&63,a<<=6;a|=(31&e)<<1|e>>>31,t[i+0]=n>>>0,t[i+1]=a>>>0};var a=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];i.substitute=function(e,t){for(var i=0,n=0;n<4;n++){i<<=4,i|=a[64*n+(e>>>18-6*n&63)]}for(n=0;n<4;n++){i<<=4,i|=a[256+64*n+(t>>>18-6*n&63)]}return i>>>0};var o=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];i.permute=function(e){for(var t=0,i=0;i<o.length;i++)t<<=1,t|=e>>>o[i]&1;return t>>>0},i.padSplit=function(e,t,i){for(var n=e.toString(2);n.length<t;)n="0"+n;for(var a=[],o=0;o<t;o+=i)a.push(n.slice(o,o+i));return a.join(" ")}},{}],63:[function(e,t,i){(function(t){var n=e("./lib/generatePrime"),a=e("./lib/primes.json"),o=e("./lib/dh");var s={binary:!0,hex:!0,base64:!0};i.DiffieHellmanGroup=i.createDiffieHellmanGroup=i.getDiffieHellman=function(e){var i=new t(a[e].prime,"hex"),n=new t(a[e].gen,"hex");return new o(i,n)},i.createDiffieHellman=i.DiffieHellman=function e(i,a,r,c){return t.isBuffer(a)||void 0===s[a]?e(i,"binary",a,r):(a=a||"binary",c=c||"binary",r=r||new t([2]),t.isBuffer(r)||(r=new t(r,c)),"number"==typeof i?new o(n(i,r),r,!0):(t.isBuffer(i)||(i=new t(i,a)),new o(i,r,!0)))}}).call(this,e("buffer").Buffer)},{"./lib/dh":64,"./lib/generatePrime":65,"./lib/primes.json":66,buffer:47}],64:[function(e,t,i){(function(i){var n=e("bn.js"),a=new(e("miller-rabin")),o=new n(24),s=new n(11),r=new n(10),c=new n(3),h=new n(7),d=e("./generatePrime"),u=e("randombytes");function l(e,t){return t=t||"utf8",i.isBuffer(e)||(e=new i(e,t)),this._pub=new n(e),this}function f(e,t){return t=t||"utf8",i.isBuffer(e)||(e=new i(e,t)),this._priv=new n(e),this}t.exports=g;var p={};function m(e,t){var i=t.toString("hex"),n=[i,e.toString(16)].join("_");if(n in p)return p[n];var u,l=0;if(e.isEven()||!d.simpleSieve||!d.fermatTest(e)||!a.test(e))return l+=1,l+="02"===i||"05"===i?8:4,p[n]=l,l;switch(a.test(e.shrn(1))||(l+=2),i){case"02":e.mod(o).cmp(s)&&(l+=8);break;case"05":(u=e.mod(r)).cmp(c)&&u.cmp(h)&&(l+=8);break;default:l+=4}return p[n]=l,l}function g(e,t,i){this.setGenerator(t),this.__prime=new n(e),this._prime=n.mont(this.__prime),this._primeLen=e.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,i?(this.setPublicKey=l,this.setPrivateKey=f):this._primeCode=8}function b(e,t){var n=new i(e.toArray());return t?n.toString(t):n}Object.defineProperty(g.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=m(this.__prime,this.__gen)),this._primeCode}}),g.prototype.generateKeys=function(){return this._priv||(this._priv=new n(u(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},g.prototype.computeSecret=function(e){var t=(e=(e=new n(e)).toRed(this._prime)).redPow(this._priv).fromRed(),a=new i(t.toArray()),o=this.getPrime();if(a.length<o.length){var s=new i(o.length-a.length);s.fill(0),a=i.concat([s,a])}return a},g.prototype.getPublicKey=function(e){return b(this._pub,e)},g.prototype.getPrivateKey=function(e){return b(this._priv,e)},g.prototype.getPrime=function(e){return b(this.__prime,e)},g.prototype.getGenerator=function(e){return b(this._gen,e)},g.prototype.setGenerator=function(e,t){return t=t||"utf8",i.isBuffer(e)||(e=new i(e,t)),this.__gen=e,this._gen=new n(e),this}}).call(this,e("buffer").Buffer)},{"./generatePrime":65,"bn.js":16,buffer:47,"miller-rabin":104,randombytes:129}],65:[function(e,t,i){var n=e("randombytes");t.exports=v,v.simpleSieve=g,v.fermatTest=b;var a=e("bn.js"),o=new a(24),s=new(e("miller-rabin")),r=new a(1),c=new a(2),h=new a(5),d=(new a(16),new a(8),new a(10)),u=new a(3),l=(new a(7),new a(11)),f=new a(4),p=(new a(12),null);function m(){if(null!==p)return p;var e=[];e[0]=2;for(var t=1,i=3;i<1048576;i+=2){for(var n=Math.ceil(Math.sqrt(i)),a=0;a<t&&e[a]<=n&&i%e[a]!=0;a++);t!==a&&e[a]<=n||(e[t++]=i)}return p=e,e}function g(e){for(var t=m(),i=0;i<t.length;i++)if(0===e.modn(t[i]))return 0===e.cmpn(t[i]);return!0}function b(e){var t=a.mont(e);return 0===c.toRed(t).redPow(e.subn(1)).fromRed().cmpn(1)}function v(e,t){if(e<16)return new a(2===t||5===t?[140,123]:[140,39]);var i,p;for(t=new a(t);;){for(i=new a(n(Math.ceil(e/8)));i.bitLength()>e;)i.ishrn(1);if(i.isEven()&&i.iadd(r),i.testn(1)||i.iadd(c),t.cmp(c)){if(!t.cmp(h))for(;i.mod(d).cmp(u);)i.iadd(f)}else for(;i.mod(o).cmp(l);)i.iadd(f);if(g(p=i.shrn(1))&&g(i)&&b(p)&&b(i)&&s.test(p)&&s.test(i))return i}}},{"bn.js":16,"miller-rabin":104,randombytes:129}],66:[function(e,t,i){t.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],67:[function(e,t,i){"use strict";var n=i;n.version=e("../package.json").version,n.utils=e("./elliptic/utils"),n.rand=e("brorand"),n.curve=e("./elliptic/curve"),n.curves=e("./elliptic/curves"),n.ec=e("./elliptic/ec"),n.eddsa=e("./elliptic/eddsa")},{"../package.json":82,"./elliptic/curve":70,"./elliptic/curves":73,"./elliptic/ec":74,"./elliptic/eddsa":77,"./elliptic/utils":81,brorand:17}],68:[function(e,t,i){"use strict";var n=e("bn.js"),a=e("../utils"),o=a.getNAF,s=a.getJSF,r=a.assert;function c(e,t){this.type=e,this.p=new n(t.p,16),this.red=t.prime?n.red(t.prime):n.mont(this.p),this.zero=new n(0).toRed(this.red),this.one=new n(1).toRed(this.red),this.two=new n(2).toRed(this.red),this.n=t.n&&new n(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4);var i=this.n&&this.p.div(this.n);!i||i.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function h(e,t){this.curve=e,this.type=t,this.precomputed=null}t.exports=c,c.prototype.point=function(){throw new Error("Not implemented")},c.prototype.validate=function(){throw new Error("Not implemented")},c.prototype._fixedNafMul=function(e,t){r(e.precomputed);var i=e._getDoubles(),n=o(t,1),a=(1<<i.step+1)-(i.step%2==0?2:1);a/=3;for(var s=[],c=0;c<n.length;c+=i.step){var h=0;for(t=c+i.step-1;t>=c;t--)h=(h<<1)+n[t];s.push(h)}for(var d=this.jpoint(null,null,null),u=this.jpoint(null,null,null),l=a;l>0;l--){for(c=0;c<s.length;c++){(h=s[c])===l?u=u.mixedAdd(i.points[c]):h===-l&&(u=u.mixedAdd(i.points[c].neg()))}d=d.add(u)}return d.toP()},c.prototype._wnafMul=function(e,t){var i=4,n=e._getNAFPoints(i);i=n.wnd;for(var a=n.points,s=o(t,i),c=this.jpoint(null,null,null),h=s.length-1;h>=0;h--){for(t=0;h>=0&&0===s[h];h--)t++;if(h>=0&&t++,c=c.dblp(t),h<0)break;var d=s[h];r(0!==d),c="affine"===e.type?d>0?c.mixedAdd(a[d-1>>1]):c.mixedAdd(a[-d-1>>1].neg()):d>0?c.add(a[d-1>>1]):c.add(a[-d-1>>1].neg())}return"affine"===e.type?c.toP():c},c.prototype._wnafMulAdd=function(e,t,i,n,a){for(var r=this._wnafT1,c=this._wnafT2,h=this._wnafT3,d=0,u=0;u<n;u++){var l=(k=t[u])._getNAFPoints(e);r[u]=l.wnd,c[u]=l.points}for(u=n-1;u>=1;u-=2){var f=u-1,p=u;if(1===r[f]&&1===r[p]){var m=[t[f],null,null,t[p]];0===t[f].y.cmp(t[p].y)?(m[1]=t[f].add(t[p]),m[2]=t[f].toJ().mixedAdd(t[p].neg())):0===t[f].y.cmp(t[p].y.redNeg())?(m[1]=t[f].toJ().mixedAdd(t[p]),m[2]=t[f].add(t[p].neg())):(m[1]=t[f].toJ().mixedAdd(t[p]),m[2]=t[f].toJ().mixedAdd(t[p].neg()));var g=[-3,-1,-5,-7,0,7,5,1,3],b=s(i[f],i[p]);d=Math.max(b[0].length,d),h[f]=new Array(d),h[p]=new Array(d);for(var v=0;v<d;v++){var y=0|b[0][v],C=0|b[1][v];h[f][v]=g[3*(y+1)+(C+1)],h[p][v]=0,c[f]=m}}else h[f]=o(i[f],r[f]),h[p]=o(i[p],r[p]),d=Math.max(h[f].length,d),d=Math.max(h[p].length,d)}var _=this.jpoint(null,null,null),w=this._wnafT4;for(u=d;u>=0;u--){for(var S=0;u>=0;){var B=!0;for(v=0;v<n;v++)w[v]=0|h[v][u],0!==w[v]&&(B=!1);if(!B)break;S++,u--}if(u>=0&&S++,_=_.dblp(S),u<0)break;for(v=0;v<n;v++){var k,D=w[v];0!==D&&(D>0?k=c[v][D-1>>1]:D<0&&(k=c[v][-D-1>>1].neg()),_="affine"===k.type?_.mixedAdd(k):_.add(k))}}for(u=0;u<n;u++)c[u]=null;return a?_:_.toP()},c.BasePoint=h,h.prototype.eq=function(){throw new Error("Not implemented")},h.prototype.validate=function(){return this.curve.validate(this)},c.prototype.decodePoint=function(e,t){e=a.toArray(e,t);var i=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*i)return 6===e[0]?r(e[e.length-1]%2==0):7===e[0]&&r(e[e.length-1]%2==1),this.point(e.slice(1,1+i),e.slice(1+i,1+2*i));if((2===e[0]||3===e[0])&&e.length-1===i)return this.pointFromX(e.slice(1,1+i),3===e[0]);throw new Error("Unknown point format")},h.prototype.encodeCompressed=function(e){return this.encode(e,!0)},h.prototype._encode=function(e){var t=this.curve.p.byteLength(),i=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(i):[4].concat(i,this.getY().toArray("be",t))},h.prototype.encode=function(e,t){return a.encode(this._encode(t),e)},h.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},h.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},h.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var i=[this],n=this,a=0;a<t;a+=e){for(var o=0;o<e;o++)n=n.dbl();i.push(n)}return{step:e,points:i}},h.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],i=(1<<e)-1,n=1===i?null:this.dbl(),a=1;a<i;a++)t[a]=t[a-1].add(n);return{wnd:e,points:t}},h.prototype._getBeta=function(){return null},h.prototype.dblp=function(e){for(var t=this,i=0;i<e;i++)t=t.dbl();return t}},{"../utils":81,"bn.js":16}],69:[function(e,t,i){"use strict";var n=e("../utils"),a=e("bn.js"),o=e("inherits"),s=e("./base"),r=n.assert;function c(e){this.twisted=1!=(0|e.a),this.mOneA=this.twisted&&-1==(0|e.a),this.extended=this.mOneA,s.call(this,"edwards",e),this.a=new a(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new a(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new a(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),r(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|e.c)}function h(e,t,i,n,o){s.BasePoint.call(this,e,"projective"),null===t&&null===i&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new a(t,16),this.y=new a(i,16),this.z=n?new a(n,16):this.curve.one,this.t=o&&new a(o,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}o(c,s),t.exports=c,c.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},c.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},c.prototype.jpoint=function(e,t,i,n){return this.point(e,t,i,n)},c.prototype.pointFromX=function(e,t){(e=new a(e,16)).red||(e=e.toRed(this.red));var i=e.redSqr(),n=this.c2.redSub(this.a.redMul(i)),o=this.one.redSub(this.c2.redMul(this.d).redMul(i)),s=n.redMul(o.redInvm()),r=s.redSqrt();if(0!==r.redSqr().redSub(s).cmp(this.zero))throw new Error("invalid point");var c=r.fromRed().isOdd();return(t&&!c||!t&&c)&&(r=r.redNeg()),this.point(e,r)},c.prototype.pointFromY=function(e,t){(e=new a(e,16)).red||(e=e.toRed(this.red));var i=e.redSqr(),n=i.redSub(this.c2),o=i.redMul(this.d).redMul(this.c2).redSub(this.a),s=n.redMul(o.redInvm());if(0===s.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var r=s.redSqrt();if(0!==r.redSqr().redSub(s).cmp(this.zero))throw new Error("invalid point");return r.fromRed().isOdd()!==t&&(r=r.redNeg()),this.point(r,e)},c.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),i=e.y.redSqr(),n=t.redMul(this.a).redAdd(i),a=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(i)));return 0===n.cmp(a)},o(h,s.BasePoint),c.prototype.pointFromJSON=function(e){return h.fromJSON(this,e)},c.prototype.point=function(e,t,i,n){return new h(this,e,t,i,n)},h.fromJSON=function(e,t){return new h(e,t[0],t[1],t[2])},h.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},h.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},h.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),i=this.z.redSqr();i=i.redIAdd(i);var n=this.curve._mulA(e),a=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),o=n.redAdd(t),s=o.redSub(i),r=n.redSub(t),c=a.redMul(s),h=o.redMul(r),d=a.redMul(r),u=s.redMul(o);return this.curve.point(c,h,u,d)},h.prototype._projDbl=function(){var e,t,i,n=this.x.redAdd(this.y).redSqr(),a=this.x.redSqr(),o=this.y.redSqr();if(this.curve.twisted){var s=(h=this.curve._mulA(a)).redAdd(o);if(this.zOne)e=n.redSub(a).redSub(o).redMul(s.redSub(this.curve.two)),t=s.redMul(h.redSub(o)),i=s.redSqr().redSub(s).redSub(s);else{var r=this.z.redSqr(),c=s.redSub(r).redISub(r);e=n.redSub(a).redISub(o).redMul(c),t=s.redMul(h.redSub(o)),i=s.redMul(c)}}else{var h=a.redAdd(o);r=this.curve._mulC(this.z).redSqr(),c=h.redSub(r).redSub(r);e=this.curve._mulC(n.redISub(h)).redMul(c),t=this.curve._mulC(h).redMul(a.redISub(o)),i=h.redMul(c)}return this.curve.point(e,t,i)},h.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},h.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),i=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),a=this.z.redMul(e.z.redAdd(e.z)),o=i.redSub(t),s=a.redSub(n),r=a.redAdd(n),c=i.redAdd(t),h=o.redMul(s),d=r.redMul(c),u=o.redMul(c),l=s.redMul(r);return this.curve.point(h,d,l,u)},h.prototype._projAdd=function(e){var t,i,n=this.z.redMul(e.z),a=n.redSqr(),o=this.x.redMul(e.x),s=this.y.redMul(e.y),r=this.curve.d.redMul(o).redMul(s),c=a.redSub(r),h=a.redAdd(r),d=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(o).redISub(s),u=n.redMul(c).redMul(d);return this.curve.twisted?(t=n.redMul(h).redMul(s.redSub(this.curve._mulA(o))),i=c.redMul(h)):(t=n.redMul(h).redMul(s.redSub(o)),i=this.curve._mulC(c).redMul(h)),this.curve.point(u,t,i)},h.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},h.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},h.prototype.mulAdd=function(e,t,i){return this.curve._wnafMulAdd(1,[this,t],[e,i],2,!1)},h.prototype.jmulAdd=function(e,t,i){return this.curve._wnafMulAdd(1,[this,t],[e,i],2,!0)},h.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},h.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},h.prototype.getX=function(){return this.normalize(),this.x.fromRed()},h.prototype.getY=function(){return this.normalize(),this.y.fromRed()},h.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},h.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var i=e.clone(),n=this.curve.redN.redMul(this.z);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(n),0===this.x.cmp(t))return!0}},h.prototype.toP=h.prototype.normalize,h.prototype.mixedAdd=h.prototype.add},{"../utils":81,"./base":68,"bn.js":16,inherits:101}],70:[function(e,t,i){"use strict";var n=i;n.base=e("./base"),n.short=e("./short"),n.mont=e("./mont"),n.edwards=e("./edwards")},{"./base":68,"./edwards":69,"./mont":71,"./short":72}],71:[function(e,t,i){"use strict";var n=e("bn.js"),a=e("inherits"),o=e("./base"),s=e("../utils");function r(e){o.call(this,"mont",e),this.a=new n(e.a,16).toRed(this.red),this.b=new n(e.b,16).toRed(this.red),this.i4=new n(4).toRed(this.red).redInvm(),this.two=new n(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function c(e,t,i){o.BasePoint.call(this,e,"projective"),null===t&&null===i?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new n(t,16),this.z=new n(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}a(r,o),t.exports=r,r.prototype.validate=function(e){var t=e.normalize().x,i=t.redSqr(),n=i.redMul(t).redAdd(i.redMul(this.a)).redAdd(t);return 0===n.redSqrt().redSqr().cmp(n)},a(c,o.BasePoint),r.prototype.decodePoint=function(e,t){return this.point(s.toArray(e,t),1)},r.prototype.point=function(e,t){return new c(this,e,t)},r.prototype.pointFromJSON=function(e){return c.fromJSON(this,e)},c.prototype.precompute=function(){},c.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},c.fromJSON=function(e,t){return new c(e,t[0],t[1]||e.one)},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},c.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),i=e.redSub(t),n=e.redMul(t),a=i.redMul(t.redAdd(this.curve.a24.redMul(i)));return this.curve.point(n,a)},c.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.diffAdd=function(e,t){var i=this.x.redAdd(this.z),n=this.x.redSub(this.z),a=e.x.redAdd(e.z),o=e.x.redSub(e.z).redMul(i),s=a.redMul(n),r=t.z.redMul(o.redAdd(s).redSqr()),c=t.x.redMul(o.redISub(s).redSqr());return this.curve.point(r,c)},c.prototype.mul=function(e){for(var t=e.clone(),i=this,n=this.curve.point(null,null),a=[];0!==t.cmpn(0);t.iushrn(1))a.push(t.andln(1));for(var o=a.length-1;o>=0;o--)0===a[o]?(i=i.diffAdd(n,this),n=n.dbl()):(n=i.diffAdd(n,this),i=i.dbl());return n},c.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},c.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":81,"./base":68,"bn.js":16,inherits:101}],72:[function(e,t,i){"use strict";var n=e("../utils"),a=e("bn.js"),o=e("inherits"),s=e("./base"),r=n.assert;function c(e){s.call(this,"short",e),this.a=new a(e.a,16).toRed(this.red),this.b=new a(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function h(e,t,i,n){s.BasePoint.call(this,e,"affine"),null===t&&null===i?(this.x=null,this.y=null,this.inf=!0):(this.x=new a(t,16),this.y=new a(i,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function d(e,t,i,n){s.BasePoint.call(this,e,"jacobian"),null===t&&null===i&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new a(0)):(this.x=new a(t,16),this.y=new a(i,16),this.z=new a(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(c,s),t.exports=c,c.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,i;if(e.beta)t=new a(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=(t=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)i=new a(e.lambda,16);else{var o=this._getEndoRoots(this.n);0===this.g.mul(o[0]).x.cmp(this.g.x.redMul(t))?i=o[0]:(i=o[1],r(0===this.g.mul(i).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:i,basis:e.basis?e.basis.map(function(e){return{a:new a(e.a,16),b:new a(e.b,16)}}):this._getEndoBasis(i)}}},c.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:a.mont(e),i=new a(2).toRed(t).redInvm(),n=i.redNeg(),o=new a(3).toRed(t).redNeg().redSqrt().redMul(i);return[n.redAdd(o).fromRed(),n.redSub(o).fromRed()]},c.prototype._getEndoBasis=function(e){for(var t,i,n,o,s,r,c,h,d,u=this.n.ushrn(Math.floor(this.n.bitLength()/2)),l=e,f=this.n.clone(),p=new a(1),m=new a(0),g=new a(0),b=new a(1),v=0;0!==l.cmpn(0);){var y=f.div(l);h=f.sub(y.mul(l)),d=g.sub(y.mul(p));var C=b.sub(y.mul(m));if(!n&&h.cmp(u)<0)t=c.neg(),i=p,n=h.neg(),o=d;else if(n&&2==++v)break;c=h,f=l,l=h,g=p,p=d,b=m,m=C}s=h.neg(),r=d;var _=n.sqr().add(o.sqr());return s.sqr().add(r.sqr()).cmp(_)>=0&&(s=t,r=i),n.negative&&(n=n.neg(),o=o.neg()),s.negative&&(s=s.neg(),r=r.neg()),[{a:n,b:o},{a:s,b:r}]},c.prototype._endoSplit=function(e){var t=this.endo.basis,i=t[0],n=t[1],a=n.b.mul(e).divRound(this.n),o=i.b.neg().mul(e).divRound(this.n),s=a.mul(i.a),r=o.mul(n.a),c=a.mul(i.b),h=o.mul(n.b);return{k1:e.sub(s).sub(r),k2:c.add(h).neg()}},c.prototype.pointFromX=function(e,t){(e=new a(e,16)).red||(e=e.toRed(this.red));var i=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=i.redSqrt();if(0!==n.redSqr().redSub(i).cmp(this.zero))throw new Error("invalid point");var o=n.fromRed().isOdd();return(t&&!o||!t&&o)&&(n=n.redNeg()),this.point(e,n)},c.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,i=e.y,n=this.a.redMul(t),a=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===i.redSqr().redISub(a).cmpn(0)},c.prototype._endoWnafMulAdd=function(e,t,i){for(var n=this._endoWnafT1,a=this._endoWnafT2,o=0;o<e.length;o++){var s=this._endoSplit(t[o]),r=e[o],c=r._getBeta();s.k1.negative&&(s.k1.ineg(),r=r.neg(!0)),s.k2.negative&&(s.k2.ineg(),c=c.neg(!0)),n[2*o]=r,n[2*o+1]=c,a[2*o]=s.k1,a[2*o+1]=s.k2}for(var h=this._wnafMulAdd(1,n,a,2*o,i),d=0;d<2*o;d++)n[d]=null,a[d]=null;return h},o(h,s.BasePoint),c.prototype.point=function(e,t,i){return new h(this,e,t,i)},c.prototype.pointFromJSON=function(e,t){return h.fromJSON(this,e,t)},h.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var i=this.curve,n=function(e){return i.point(e.x.redMul(i.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},h.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},h.fromJSON=function(e,t,i){"string"==typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],i);if(!t[2])return n;function a(t){return e.point(t[0],t[1],i)}var o=t[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(a))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(a))}},n},h.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},h.prototype.isInfinity=function(){return this.inf},h.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var i=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(i)).redISub(this.y);return this.curve.point(i,n)},h.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,i=this.x.redSqr(),n=e.redInvm(),a=i.redAdd(i).redIAdd(i).redIAdd(t).redMul(n),o=a.redSqr().redISub(this.x.redAdd(this.x)),s=a.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)},h.prototype.getX=function(){return this.x.fromRed()},h.prototype.getY=function(){return this.y.fromRed()},h.prototype.mul=function(e){return e=new a(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},h.prototype.mulAdd=function(e,t,i){var n=[this,t],a=[e,i];return this.curve.endo?this.curve._endoWnafMulAdd(n,a):this.curve._wnafMulAdd(1,n,a,2)},h.prototype.jmulAdd=function(e,t,i){var n=[this,t],a=[e,i];return this.curve.endo?this.curve._endoWnafMulAdd(n,a,!0):this.curve._wnafMulAdd(1,n,a,2,!0)},h.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},h.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var i=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:i.naf&&{wnd:i.naf.wnd,points:i.naf.points.map(n)},doubles:i.doubles&&{step:i.doubles.step,points:i.doubles.points.map(n)}}}return t},h.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},o(d,s.BasePoint),c.prototype.jpoint=function(e,t,i){return new d(this,e,t,i)},d.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),i=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(i,n)},d.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},d.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),i=this.z.redSqr(),n=this.x.redMul(t),a=e.x.redMul(i),o=this.y.redMul(t.redMul(e.z)),s=e.y.redMul(i.redMul(this.z)),r=n.redSub(a),c=o.redSub(s);if(0===r.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var h=r.redSqr(),d=h.redMul(r),u=n.redMul(h),l=c.redSqr().redIAdd(d).redISub(u).redISub(u),f=c.redMul(u.redISub(l)).redISub(o.redMul(d)),p=this.z.redMul(e.z).redMul(r);return this.curve.jpoint(l,f,p)},d.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),i=this.x,n=e.x.redMul(t),a=this.y,o=e.y.redMul(t).redMul(this.z),s=i.redSub(n),r=a.redSub(o);if(0===s.cmpn(0))return 0!==r.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=s.redSqr(),h=c.redMul(s),d=i.redMul(c),u=r.redSqr().redIAdd(h).redISub(d).redISub(d),l=r.redMul(d.redISub(u)).redISub(a.redMul(h)),f=this.z.redMul(s);return this.curve.jpoint(u,l,f)},d.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var t=this,i=0;i<e;i++)t=t.dbl();return t}var n=this.curve.a,a=this.curve.tinv,o=this.x,s=this.y,r=this.z,c=r.redSqr().redSqr(),h=s.redAdd(s);for(i=0;i<e;i++){var d=o.redSqr(),u=h.redSqr(),l=u.redSqr(),f=d.redAdd(d).redIAdd(d).redIAdd(n.redMul(c)),p=o.redMul(u),m=f.redSqr().redISub(p.redAdd(p)),g=p.redISub(m),b=f.redMul(g);b=b.redIAdd(b).redISub(l);var v=h.redMul(r);i+1<e&&(c=c.redMul(l)),o=m,r=v,h=b}return this.curve.jpoint(o,h.redMul(a),r)},d.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},d.prototype._zeroDbl=function(){var e,t,i;if(this.zOne){var n=this.x.redSqr(),a=this.y.redSqr(),o=a.redSqr(),s=this.x.redAdd(a).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var r=n.redAdd(n).redIAdd(n),c=r.redSqr().redISub(s).redISub(s),h=o.redIAdd(o);h=(h=h.redIAdd(h)).redIAdd(h),e=c,t=r.redMul(s.redISub(c)).redISub(h),i=this.y.redAdd(this.y)}else{var d=this.x.redSqr(),u=this.y.redSqr(),l=u.redSqr(),f=this.x.redAdd(u).redSqr().redISub(d).redISub(l);f=f.redIAdd(f);var p=d.redAdd(d).redIAdd(d),m=p.redSqr(),g=l.redIAdd(l);g=(g=g.redIAdd(g)).redIAdd(g),e=m.redISub(f).redISub(f),t=p.redMul(f.redISub(e)).redISub(g),i=(i=this.y.redMul(this.z)).redIAdd(i)}return this.curve.jpoint(e,t,i)},d.prototype._threeDbl=function(){var e,t,i;if(this.zOne){var n=this.x.redSqr(),a=this.y.redSqr(),o=a.redSqr(),s=this.x.redAdd(a).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var r=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),c=r.redSqr().redISub(s).redISub(s);e=c;var h=o.redIAdd(o);h=(h=h.redIAdd(h)).redIAdd(h),t=r.redMul(s.redISub(c)).redISub(h),i=this.y.redAdd(this.y)}else{var d=this.z.redSqr(),u=this.y.redSqr(),l=this.x.redMul(u),f=this.x.redSub(d).redMul(this.x.redAdd(d));f=f.redAdd(f).redIAdd(f);var p=l.redIAdd(l),m=(p=p.redIAdd(p)).redAdd(p);e=f.redSqr().redISub(m),i=this.y.redAdd(this.z).redSqr().redISub(u).redISub(d);var g=u.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),t=f.redMul(p.redISub(e)).redISub(g)}return this.curve.jpoint(e,t,i)},d.prototype._dbl=function(){var e=this.curve.a,t=this.x,i=this.y,n=this.z,a=n.redSqr().redSqr(),o=t.redSqr(),s=i.redSqr(),r=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(a)),c=t.redAdd(t),h=(c=c.redIAdd(c)).redMul(s),d=r.redSqr().redISub(h.redAdd(h)),u=h.redISub(d),l=s.redSqr();l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var f=r.redMul(u).redISub(l),p=i.redAdd(i).redMul(n);return this.curve.jpoint(d,f,p)},d.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),i=this.z.redSqr(),n=t.redSqr(),a=e.redAdd(e).redIAdd(e),o=a.redSqr(),s=this.x.redAdd(t).redSqr().redISub(e).redISub(n),r=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(o)).redSqr(),c=n.redIAdd(n);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var h=a.redIAdd(s).redSqr().redISub(o).redISub(r).redISub(c),d=t.redMul(h);d=(d=d.redIAdd(d)).redIAdd(d);var u=this.x.redMul(r).redISub(d);u=(u=u.redIAdd(u)).redIAdd(u);var l=this.y.redMul(h.redMul(c.redISub(h)).redISub(s.redMul(r)));l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var f=this.z.redAdd(s).redSqr().redISub(i).redISub(r);return this.curve.jpoint(u,l,f)},d.prototype.mul=function(e,t){return e=new a(e,t),this.curve._wnafMul(this,e)},d.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),i=e.z.redSqr();if(0!==this.x.redMul(i).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),a=i.redMul(e.z);return 0===this.y.redMul(a).redISub(e.y.redMul(n)).cmpn(0)},d.prototype.eqXToP=function(e){var t=this.z.redSqr(),i=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(i))return!0;for(var n=e.clone(),a=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(i.redIAdd(a),0===this.x.cmp(i))return!0}},d.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},d.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},{"../utils":81,"./base":68,"bn.js":16,inherits:101}],73:[function(e,t,i){"use strict";var n,a=i,o=e("hash.js"),s=e("./curve"),r=e("./utils").assert;function c(e){"short"===e.type?this.curve=new s.short(e):"edwards"===e.type?this.curve=new s.edwards(e):this.curve=new s.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,r(this.g.validate(),"Invalid curve"),r(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function h(e,t){Object.defineProperty(a,e,{configurable:!0,enumerable:!0,get:function(){var i=new c(t);return Object.defineProperty(a,e,{configurable:!0,enumerable:!0,value:i}),i}})}a.PresetCurve=c,h("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),h("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),h("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),h("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),h("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),h("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),h("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{n=e("./precomputed/secp256k1")}catch(e){n=void 0}h("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",n]})},{"./curve":70,"./precomputed/secp256k1":80,"./utils":81,"hash.js":86}],74:[function(e,t,i){"use strict";var n=e("bn.js"),a=e("hmac-drbg"),o=e("../utils"),s=e("../curves"),r=e("brorand"),c=o.assert,h=e("./key"),d=e("./signature");function u(e){if(!(this instanceof u))return new u(e);"string"==typeof e&&(c(s.hasOwnProperty(e),"Unknown curve "+e),e=s[e]),e instanceof s.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}t.exports=u,u.prototype.keyPair=function(e){return new h(this,e)},u.prototype.keyFromPrivate=function(e,t){return h.fromPrivate(this,e,t)},u.prototype.keyFromPublic=function(e,t){return h.fromPublic(this,e,t)},u.prototype.genKeyPair=function(e){e||(e={});for(var t=new a({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||r(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),i=this.n.byteLength(),o=this.n.sub(new n(2));;){var s=new n(t.generate(i));if(!(s.cmp(o)>0))return s.iaddn(1),this.keyFromPrivate(s)}},u.prototype._truncateToN=function(e,t){var i=8*e.byteLength()-this.n.bitLength();return i>0&&(e=e.ushrn(i)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},u.prototype.sign=function(e,t,i,o){"object"==typeof i&&(o=i,i=null),o||(o={}),t=this.keyFromPrivate(t,i),e=this._truncateToN(new n(e,16));for(var s=this.n.byteLength(),r=t.getPrivate().toArray("be",s),c=e.toArray("be",s),h=new a({hash:this.hash,entropy:r,nonce:c,pers:o.pers,persEnc:o.persEnc||"utf8"}),u=this.n.sub(new n(1)),l=0;;l++){var f=o.k?o.k(l):new n(h.generate(this.n.byteLength()));if(!((f=this._truncateToN(f,!0)).cmpn(1)<=0||f.cmp(u)>=0)){var p=this.g.mul(f);if(!p.isInfinity()){var m=p.getX(),g=m.umod(this.n);if(0!==g.cmpn(0)){var b=f.invm(this.n).mul(g.mul(t.getPrivate()).iadd(e));if(0!==(b=b.umod(this.n)).cmpn(0)){var v=(p.getY().isOdd()?1:0)|(0!==m.cmp(g)?2:0);return o.canonical&&b.cmp(this.nh)>0&&(b=this.n.sub(b),v^=1),new d({r:g,s:b,recoveryParam:v})}}}}}},u.prototype.verify=function(e,t,i,a){e=this._truncateToN(new n(e,16)),i=this.keyFromPublic(i,a);var o=(t=new d(t,"hex")).r,s=t.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var r,c=s.invm(this.n),h=c.mul(e).umod(this.n),u=c.mul(o).umod(this.n);return this.curve._maxwellTrick?!(r=this.g.jmulAdd(h,i.getPublic(),u)).isInfinity()&&r.eqXToP(o):!(r=this.g.mulAdd(h,i.getPublic(),u)).isInfinity()&&0===r.getX().umod(this.n).cmp(o)},u.prototype.recoverPubKey=function(e,t,i,a){c((3&i)===i,"The recovery param is more than two bits"),t=new d(t,a);var o=this.n,s=new n(e),r=t.r,h=t.s,u=1&i,l=i>>1;if(r.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");r=l?this.curve.pointFromX(r.add(this.curve.n),u):this.curve.pointFromX(r,u);var f=t.r.invm(o),p=o.sub(s).mul(f).umod(o),m=h.mul(f).umod(o);return this.g.mulAdd(p,r,m)},u.prototype.getKeyRecoveryParam=function(e,t,i,n){if(null!==(t=new d(t,n)).recoveryParam)return t.recoveryParam;for(var a=0;a<4;a++){var o;try{o=this.recoverPubKey(e,t,a)}catch(e){continue}if(o.eq(i))return a}throw new Error("Unable to find valid recovery factor")}},{"../curves":73,"../utils":81,"./key":75,"./signature":76,"bn.js":16,brorand:17,"hmac-drbg":98}],75:[function(e,t,i){"use strict";var n=e("bn.js"),a=e("../utils").assert;function o(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}t.exports=o,o.fromPublic=function(e,t,i){return t instanceof o?t:new o(e,{pub:t,pubEnc:i})},o.fromPrivate=function(e,t,i){return t instanceof o?t:new o(e,{priv:t,privEnc:i})},o.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},o.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(e,t){this.priv=new n(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?a(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||a(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},o.prototype.derive=function(e){return e.mul(this.priv).getX()},o.prototype.sign=function(e,t,i){return this.ec.sign(e,this,t,i)},o.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":81,"bn.js":16}],76:[function(e,t,i){"use strict";var n=e("bn.js"),a=e("../utils"),o=a.assert;function s(e,t){if(e instanceof s)return e;this._importDER(e,t)||(o(e.r&&e.s,"Signature without r or s"),this.r=new n(e.r,16),this.s=new n(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function r(){this.place=0}function c(e,t){var i=e[t.place++];if(!(128&i))return i;for(var n=15&i,a=0,o=0,s=t.place;o<n;o++,s++)a<<=8,a|=e[s];return t.place=s,a}function h(e){for(var t=0,i=e.length-1;!e[t]&&!(128&e[t+1])&&t<i;)t++;return 0===t?e:e.slice(t)}function d(e,t){if(t<128)e.push(t);else{var i=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|i);--i;)e.push(t>>>(i<<3)&255);e.push(t)}}t.exports=s,s.prototype._importDER=function(e,t){e=a.toArray(e,t);var i=new r;if(48!==e[i.place++])return!1;if(c(e,i)+i.place!==e.length)return!1;if(2!==e[i.place++])return!1;var o=c(e,i),s=e.slice(i.place,o+i.place);if(i.place+=o,2!==e[i.place++])return!1;var h=c(e,i);if(e.length!==h+i.place)return!1;var d=e.slice(i.place,h+i.place);return 0===s[0]&&128&s[1]&&(s=s.slice(1)),0===d[0]&&128&d[1]&&(d=d.slice(1)),this.r=new n(s),this.s=new n(d),this.recoveryParam=null,!0},s.prototype.toDER=function(e){var t=this.r.toArray(),i=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&i[0]&&(i=[0].concat(i)),t=h(t),i=h(i);!(i[0]||128&i[1]);)i=i.slice(1);var n=[2];d(n,t.length),(n=n.concat(t)).push(2),d(n,i.length);var o=n.concat(i),s=[48];return d(s,o.length),s=s.concat(o),a.encode(s,e)}},{"../utils":81,"bn.js":16}],77:[function(e,t,i){"use strict";var n=e("hash.js"),a=e("../curves"),o=e("../utils"),s=o.assert,r=o.parseBytes,c=e("./key"),h=e("./signature");function d(e){if(s("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof d))return new d(e);e=a[e].curve;this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=n.sha512}t.exports=d,d.prototype.sign=function(e,t){e=r(e);var i=this.keyFromSecret(t),n=this.hashInt(i.messagePrefix(),e),a=this.g.mul(n),o=this.encodePoint(a),s=this.hashInt(o,i.pubBytes(),e).mul(i.priv()),c=n.add(s).umod(this.curve.n);return this.makeSignature({R:a,S:c,Rencoded:o})},d.prototype.verify=function(e,t,i){e=r(e),t=this.makeSignature(t);var n=this.keyFromPublic(i),a=this.hashInt(t.Rencoded(),n.pubBytes(),e),o=this.g.mul(t.S());return t.R().add(n.pub().mul(a)).eq(o)},d.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return o.intFromLE(e.digest()).umod(this.curve.n)},d.prototype.keyFromPublic=function(e){return c.fromPublic(this,e)},d.prototype.keyFromSecret=function(e){return c.fromSecret(this,e)},d.prototype.makeSignature=function(e){return e instanceof h?e:new h(this,e)},d.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},d.prototype.decodePoint=function(e){var t=(e=o.parseBytes(e)).length-1,i=e.slice(0,t).concat(-129&e[t]),n=0!=(128&e[t]),a=o.intFromLE(i);return this.curve.pointFromY(a,n)},d.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},d.prototype.decodeInt=function(e){return o.intFromLE(e)},d.prototype.isPoint=function(e){return e instanceof this.pointClass}},{"../curves":73,"../utils":81,"./key":78,"./signature":79,"hash.js":86}],78:[function(e,t,i){"use strict";var n=e("../utils"),a=n.assert,o=n.parseBytes,s=n.cachedProperty;function r(e,t){this.eddsa=e,this._secret=o(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=o(t.pub)}r.fromPublic=function(e,t){return t instanceof r?t:new r(e,{pub:t})},r.fromSecret=function(e,t){return t instanceof r?t:new r(e,{secret:t})},r.prototype.secret=function(){return this._secret},s(r,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),s(r,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),s(r,"privBytes",function(){var e=this.eddsa,t=this.hash(),i=e.encodingLength-1,n=t.slice(0,e.encodingLength);return n[0]&=248,n[i]&=127,n[i]|=64,n}),s(r,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),s(r,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),s(r,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),r.prototype.sign=function(e){return a(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},r.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},r.prototype.getSecret=function(e){return a(this._secret,"KeyPair is public only"),n.encode(this.secret(),e)},r.prototype.getPublic=function(e){return n.encode(this.pubBytes(),e)},t.exports=r},{"../utils":81}],79:[function(e,t,i){"use strict";var n=e("bn.js"),a=e("../utils"),o=a.assert,s=a.cachedProperty,r=a.parseBytes;function c(e,t){this.eddsa=e,"object"!=typeof t&&(t=r(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),o(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof n&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}s(c,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),s(c,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),s(c,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),s(c,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),c.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},c.prototype.toHex=function(){return a.encode(this.toBytes(),"hex").toUpperCase()},t.exports=c},{"../utils":81,"bn.js":16}],80:[function(e,t,i){t.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],81:[function(e,t,i){"use strict";var n=i,a=e("bn.js"),o=e("minimalistic-assert"),s=e("minimalistic-crypto-utils");n.assert=o,n.toArray=s.toArray,n.zero2=s.zero2,n.toHex=s.toHex,n.encode=s.encode,n.getNAF=function(e,t){for(var i=[],n=1<<t+1,a=e.clone();a.cmpn(1)>=0;){var o;if(a.isOdd()){var s=a.andln(n-1);o=s>(n>>1)-1?(n>>1)-s:s,a.isubn(o)}else o=0;i.push(o);for(var r=0!==a.cmpn(0)&&0===a.andln(n-1)?t+1:1,c=1;c<r;c++)i.push(0);a.iushrn(r)}return i},n.getJSF=function(e,t){var i=[[],[]];e=e.clone(),t=t.clone();for(var n=0,a=0;e.cmpn(-n)>0||t.cmpn(-a)>0;){var o,s,r,c=e.andln(3)+n&3,h=t.andln(3)+a&3;3===c&&(c=-1),3===h&&(h=-1),o=0==(1&c)?0:3!=(r=e.andln(7)+n&7)&&5!==r||2!==h?c:-c,i[0].push(o),s=0==(1&h)?0:3!=(r=t.andln(7)+a&7)&&5!==r||2!==c?h:-h,i[1].push(s),2*n===o+1&&(n=1-n),2*a===s+1&&(a=1-a),e.iushrn(1),t.iushrn(1)}return i},n.cachedProperty=function(e,t,i){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=i.call(this)}},n.parseBytes=function(e){return"string"==typeof e?n.toArray(e,"hex"):e},n.intFromLE=function(e){return new a(e,"hex","le")}},{"bn.js":16,"minimalistic-assert":105,"minimalistic-crypto-utils":106}],82:[function(e,t,i){t.exports={_from:"elliptic@^6.0.0",_id:"elliptic@6.5.1",_inBundle:!1,_integrity:"sha512-xvJINNLbTeWQjrl6X+7eQCrIy/YPv5XCpKW6kB5mKvtnGILoLDcySuwomfdzt0BMdLNVnuRNTuzKNHj0bva1Cg==",_location:"/elliptic",_phantomChildren:{},_requested:{type:"range",registry:!0,raw:"elliptic@^6.0.0",name:"elliptic",escapedName:"elliptic",rawSpec:"^6.0.0",saveSpec:null,fetchSpec:"^6.0.0"},_requiredBy:["/browserify-sign","/create-ecdh"],_resolved:"https://registry.npmjs.org/elliptic/-/elliptic-6.5.1.tgz",_shasum:"c380f5f909bf1b9b4428d028cd18d3b0efd6b52b",_spec:"elliptic@^6.0.0",_where:"C:\\Users\\nantas\\fireball-x\\fb_21-release\\dist\\resources\\app\\node_modules\\browserify-sign",author:{name:"Fedor Indutny",email:"fedor@indutny.com"},bugs:{url:"https://github.com/indutny/elliptic/issues"},bundleDependencies:!1,dependencies:{"bn.js":"^4.4.0",brorand:"^1.0.1","hash.js":"^1.0.0","hmac-drbg":"^1.0.0",inherits:"^2.0.1","minimalistic-assert":"^1.0.0","minimalistic-crypto-utils":"^1.0.0"},deprecated:!1,description:"EC cryptography",devDependencies:{brfs:"^1.4.3",coveralls:"^3.0.4",grunt:"^1.0.4","grunt-browserify":"^5.0.0","grunt-cli":"^1.2.0","grunt-contrib-connect":"^1.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^1.0.1","grunt-mocha-istanbul":"^3.0.1","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.2",jscs:"^3.0.7",jshint:"^2.6.0",mocha:"^6.1.4"},files:["lib"],homepage:"https://github.com/indutny/elliptic",keywords:["EC","Elliptic","curve","Cryptography"],license:"MIT",main:"lib/elliptic.js",name:"elliptic",repository:{type:"git",url:"git+ssh://git@github.com/indutny/elliptic.git"},scripts:{jscs:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",jshint:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",lint:"npm run jscs && npm run jshint",test:"npm run lint && npm run unit",unit:"istanbul test _mocha --reporter=spec test/index.js",version:"grunt dist && git add dist/"},version:"6.5.1"}},{}],83:[function(e,t,i){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function a(e){return"function"==typeof e}function o(e){return"number"==typeof e}function s(e){return"object"==typeof e&&null!==e}function r(e){return void 0===e}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!o(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,i,n,o,c,h;if(this._events||(this._events={}),"error"===e&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var d=new Error('Uncaught, unspecified "error" event. ('+t+")");throw d.context=t,d}if(r(i=this._events[e]))return!1;if(a(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),i.apply(this,o)}else if(s(i))for(o=Array.prototype.slice.call(arguments,1),n=(h=i.slice()).length,c=0;c<n;c++)h[c].apply(this,o);return!0},n.prototype.addListener=function(e,t){var i;if(!a(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,a(t.listener)?t.listener:t),this._events[e]?s(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,s(this._events[e])&&!this._events[e].warned&&(i=r(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&i>0&&this._events[e].length>i&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){if(!a(t))throw TypeError("listener must be a function");var i=!1;function n(){this.removeListener(e,n),i||(i=!0,t.apply(this,arguments))}return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var i,n,o,r;if(!a(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(o=(i=this._events[e]).length,n=-1,i===t||a(i.listener)&&i.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(s(i)){for(r=o;r-- >0;)if(i[r]===t||i[r].listener&&i[r].listener===t){n=r;break}if(n<0)return this;1===i.length?(i.length=0,delete this._events[e]):i.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(a(i=this._events[e]))this.removeListener(e,i);else if(i)for(;i.length;)this.removeListener(e,i[i.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?a(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(a(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},{}],84:[function(e,t,i){var n=e("safe-buffer").Buffer,a=e("md5.js");t.exports=function(e,t,i,o){if(n.isBuffer(e)||(e=n.from(e,"binary")),t&&(n.isBuffer(t)||(t=n.from(t,"binary")),8!==t.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var s=i/8,r=n.alloc(s),c=n.alloc(o||0),h=n.alloc(0);s>0||o>0;){var d=new a;d.update(h),d.update(e),t&&d.update(t),h=d.digest();var u=0;if(s>0){var l=r.length-s;u=Math.min(s,h.length),h.copy(r,l,0,u),s-=u}if(u<h.length&&o>0){var f=c.length-o,p=Math.min(o,h.length-u);h.copy(c,f,u,u+p),o-=p}}return h.fill(0),{key:r,iv:c}}},{"md5.js":103,"safe-buffer":147}],85:[function(e,t,i){"use strict";var n=e("safe-buffer").Buffer,a=e("stream").Transform;function o(e,t){if(!n.isBuffer(e)&&"string"!=typeof e)throw new TypeError(t+" must be a string or a buffer")}function s(e){a.call(this),this._block=n.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}e("inherits")(s,a),s.prototype._transform=function(e,t,i){var n=null;try{this.update(e,t)}catch(e){n=e}i(n)},s.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(e){t=e}e(t)},s.prototype.update=function(e,t){if(o(e,"Data"),this._finalized)throw new Error("Digest already called");n.isBuffer(e)||(e=n.from(e,t));for(var i=this._block,a=0;this._blockOffset+e.length-a>=this._blockSize;){for(var s=this._blockOffset;s<this._blockSize;)i[s++]=e[a++];this._update(),this._blockOffset=0}for(;a<e.length;)i[this._blockOffset++]=e[a++];for(var r=0,c=8*e.length;c>0;++r)this._length[r]+=c,(c=this._length[r]/4294967296|0)>0&&(this._length[r]-=4294967296*c);return this},s.prototype._update=function(){throw new Error("_update is not implemented")},s.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var i=0;i<4;++i)this._length[i]=0;return t},s.prototype._digest=function(){throw new Error("_digest is not implemented")},t.exports=s},{inherits:101,"safe-buffer":147,stream:156}],86:[function(e,t,i){var n=i;n.utils=e("./hash/utils"),n.common=e("./hash/common"),n.sha=e("./hash/sha"),n.ripemd=e("./hash/ripemd"),n.hmac=e("./hash/hmac"),n.sha1=n.sha.sha1,n.sha256=n.sha.sha256,n.sha224=n.sha.sha224,n.sha384=n.sha.sha384,n.sha512=n.sha.sha512,n.ripemd160=n.ripemd.ripemd160},{"./hash/common":87,"./hash/hmac":88,"./hash/ripemd":89,"./hash/sha":90,"./hash/utils":97}],87:[function(e,t,i){"use strict";var n=e("./utils"),a=e("minimalistic-assert");function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}i.BlockHash=o,o.prototype.update=function(e,t){if(e=n.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var i=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-i,e.length),0===this.pending.length&&(this.pending=null),e=n.join32(e,0,e.length-i,this.endian);for(var a=0;a<e.length;a+=this._delta32)this._update(e,a,a+this._delta32)}return this},o.prototype.digest=function(e){return this.update(this._pad()),a(null===this.pending),this._digest(e)},o.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,i=t-(e+this.padLength)%t,n=new Array(i+this.padLength);n[0]=128;for(var a=1;a<i;a++)n[a]=0;if(e<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)n[a++]=0;n[a++]=0,n[a++]=0,n[a++]=0,n[a++]=0,n[a++]=e>>>24&255,n[a++]=e>>>16&255,n[a++]=e>>>8&255,n[a++]=255&e}else for(n[a++]=255&e,n[a++]=e>>>8&255,n[a++]=e>>>16&255,n[a++]=e>>>24&255,n[a++]=0,n[a++]=0,n[a++]=0,n[a++]=0,o=8;o<this.padLength;o++)n[a++]=0;return n}},{"./utils":97,"minimalistic-assert":105}],88:[function(e,t,i){"use strict";var n=e("./utils"),a=e("minimalistic-assert");function o(e,t,i){if(!(this instanceof o))return new o(e,t,i);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(t,i))}t.exports=o,o.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),a(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},o.prototype.update=function(e,t){return this.inner.update(e,t),this},o.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},{"./utils":97,"minimalistic-assert":105}],89:[function(e,t,i){"use strict";var n=e("./utils"),a=e("./common"),o=n.rotl32,s=n.sum32,r=n.sum32_3,c=n.sum32_4,h=a.BlockHash;function d(){if(!(this instanceof d))return new d;h.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function u(e,t,i,n){return e<=15?t^i^n:e<=31?t&i|~t&n:e<=47?(t|~i)^n:e<=63?t&n|i&~n:t^(i|~n)}function l(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function f(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}n.inherits(d,h),i.ripemd160=d,d.blockSize=512,d.outSize=160,d.hmacStrength=192,d.padLength=64,d.prototype._update=function(e,t){for(var i=this.h[0],n=this.h[1],a=this.h[2],h=this.h[3],d=this.h[4],v=i,y=n,C=a,_=h,w=d,S=0;S<80;S++){var B=s(o(c(i,u(S,n,a,h),e[p[S]+t],l(S)),g[S]),d);i=d,d=h,h=o(a,10),a=n,n=B,B=s(o(c(v,u(79-S,y,C,_),e[m[S]+t],f(S)),b[S]),w),v=w,w=_,_=o(C,10),C=y,y=B}B=r(this.h[1],a,_),this.h[1]=r(this.h[2],h,w),this.h[2]=r(this.h[3],d,v),this.h[3]=r(this.h[4],i,y),this.h[4]=r(this.h[0],n,C),this.h[0]=B},d.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"little"):n.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],m=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],g=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],b=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":87,"./utils":97}],90:[function(e,t,i){"use strict";i.sha1=e("./sha/1"),i.sha224=e("./sha/224"),i.sha256=e("./sha/256"),i.sha384=e("./sha/384"),i.sha512=e("./sha/512")},{"./sha/1":91,"./sha/224":92,"./sha/256":93,"./sha/384":94,"./sha/512":95}],91:[function(e,t,i){"use strict";var n=e("../utils"),a=e("../common"),o=e("./common"),s=n.rotl32,r=n.sum32,c=n.sum32_5,h=o.ft_1,d=a.BlockHash,u=[1518500249,1859775393,2400959708,3395469782];function l(){if(!(this instanceof l))return new l;d.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}n.inherits(l,d),t.exports=l,l.blockSize=512,l.outSize=160,l.hmacStrength=80,l.padLength=64,l.prototype._update=function(e,t){for(var i=this.W,n=0;n<16;n++)i[n]=e[t+n];for(;n<i.length;n++)i[n]=s(i[n-3]^i[n-8]^i[n-14]^i[n-16],1);var a=this.h[0],o=this.h[1],d=this.h[2],l=this.h[3],f=this.h[4];for(n=0;n<i.length;n++){var p=~~(n/20),m=c(s(a,5),h(p,o,d,l),f,i[n],u[p]);f=l,l=d,d=s(o,30),o=a,a=m}this.h[0]=r(this.h[0],a),this.h[1]=r(this.h[1],o),this.h[2]=r(this.h[2],d),this.h[3]=r(this.h[3],l),this.h[4]=r(this.h[4],f)},l.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},{"../common":87,"../utils":97,"./common":96}],92:[function(e,t,i){"use strict";var n=e("../utils"),a=e("./256");function o(){if(!(this instanceof o))return new o;a.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}n.inherits(o,a),t.exports=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,7),"big"):n.split32(this.h.slice(0,7),"big")}},{"../utils":97,"./256":93}],93:[function(e,t,i){"use strict";var n=e("../utils"),a=e("../common"),o=e("./common"),s=e("minimalistic-assert"),r=n.sum32,c=n.sum32_4,h=n.sum32_5,d=o.ch32,u=o.maj32,l=o.s0_256,f=o.s1_256,p=o.g0_256,m=o.g1_256,g=a.BlockHash,b=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function v(){if(!(this instanceof v))return new v;g.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=b,this.W=new Array(64)}n.inherits(v,g),t.exports=v,v.blockSize=512,v.outSize=256,v.hmacStrength=192,v.padLength=64,v.prototype._update=function(e,t){for(var i=this.W,n=0;n<16;n++)i[n]=e[t+n];for(;n<i.length;n++)i[n]=c(m(i[n-2]),i[n-7],p(i[n-15]),i[n-16]);var a=this.h[0],o=this.h[1],g=this.h[2],b=this.h[3],v=this.h[4],y=this.h[5],C=this.h[6],_=this.h[7];for(s(this.k.length===i.length),n=0;n<i.length;n++){var w=h(_,f(v),d(v,y,C),this.k[n],i[n]),S=r(l(a),u(a,o,g));_=C,C=y,y=v,v=r(b,w),b=g,g=o,o=a,a=r(w,S)}this.h[0]=r(this.h[0],a),this.h[1]=r(this.h[1],o),this.h[2]=r(this.h[2],g),this.h[3]=r(this.h[3],b),this.h[4]=r(this.h[4],v),this.h[5]=r(this.h[5],y),this.h[6]=r(this.h[6],C),this.h[7]=r(this.h[7],_)},v.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},{"../common":87,"../utils":97,"./common":96,"minimalistic-assert":105}],94:[function(e,t,i){"use strict";var n=e("../utils"),a=e("./512");function o(){if(!(this instanceof o))return new o;a.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}n.inherits(o,a),t.exports=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,12),"big"):n.split32(this.h.slice(0,12),"big")}},{"../utils":97,"./512":95}],95:[function(e,t,i){"use strict";var n=e("../utils"),a=e("../common"),o=e("minimalistic-assert"),s=n.rotr64_hi,r=n.rotr64_lo,c=n.shr64_hi,h=n.shr64_lo,d=n.sum64,u=n.sum64_hi,l=n.sum64_lo,f=n.sum64_4_hi,p=n.sum64_4_lo,m=n.sum64_5_hi,g=n.sum64_5_lo,b=a.BlockHash,v=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function y(){if(!(this instanceof y))return new y;b.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=v,this.W=new Array(160)}function C(e,t,i,n,a){var o=e&i^~e&a;return o<0&&(o+=4294967296),o}function _(e,t,i,n,a,o){var s=t&n^~t&o;return s<0&&(s+=4294967296),s}function w(e,t,i,n,a){var o=e&i^e&a^i&a;return o<0&&(o+=4294967296),o}function S(e,t,i,n,a,o){var s=t&n^t&o^n&o;return s<0&&(s+=4294967296),s}function B(e,t){var i=s(e,t,28)^s(t,e,2)^s(t,e,7);return i<0&&(i+=4294967296),i}function k(e,t){var i=r(e,t,28)^r(t,e,2)^r(t,e,7);return i<0&&(i+=4294967296),i}function D(e,t){var i=s(e,t,14)^s(e,t,18)^s(t,e,9);return i<0&&(i+=4294967296),i}function N(e,t){var i=r(e,t,14)^r(e,t,18)^r(t,e,9);return i<0&&(i+=4294967296),i}function A(e,t){var i=s(e,t,1)^s(e,t,8)^c(e,t,7);return i<0&&(i+=4294967296),i}function I(e,t){var i=r(e,t,1)^r(e,t,8)^h(e,t,7);return i<0&&(i+=4294967296),i}function M(e,t){var i=s(e,t,19)^s(t,e,29)^c(e,t,6);return i<0&&(i+=4294967296),i}function T(e,t){var i=r(e,t,19)^r(t,e,29)^h(e,t,6);return i<0&&(i+=4294967296),i}n.inherits(y,b),t.exports=y,y.blockSize=1024,y.outSize=512,y.hmacStrength=192,y.padLength=128,y.prototype._prepareBlock=function(e,t){for(var i=this.W,n=0;n<32;n++)i[n]=e[t+n];for(;n<i.length;n+=2){var a=M(i[n-4],i[n-3]),o=T(i[n-4],i[n-3]),s=i[n-14],r=i[n-13],c=A(i[n-30],i[n-29]),h=I(i[n-30],i[n-29]),d=i[n-32],u=i[n-31];i[n]=f(a,o,s,r,c,h,d,u),i[n+1]=p(a,o,s,r,c,h,d,u)}},y.prototype._update=function(e,t){this._prepareBlock(e,t);var i=this.W,n=this.h[0],a=this.h[1],s=this.h[2],r=this.h[3],c=this.h[4],h=this.h[5],f=this.h[6],p=this.h[7],b=this.h[8],v=this.h[9],y=this.h[10],A=this.h[11],I=this.h[12],M=this.h[13],T=this.h[14],G=this.h[15];o(this.k.length===i.length);for(var x=0;x<i.length;x+=2){var L=T,E=G,R=D(b,v),P=N(b,v),F=C(b,v,y,A,I),U=_(b,v,y,A,I,M),j=this.k[x],O=this.k[x+1],z=i[x],q=i[x+1],V=m(L,E,R,P,F,U,j,O,z,q),H=g(L,E,R,P,F,U,j,O,z,q);L=B(n,a),E=k(n,a),R=w(n,a,s,r,c),P=S(n,a,s,r,c,h);var K=u(L,E,R,P),J=l(L,E,R,P);T=I,G=M,I=y,M=A,y=b,A=v,b=u(f,p,V,H),v=l(p,p,V,H),f=c,p=h,c=s,h=r,s=n,r=a,n=u(V,H,K,J),a=l(V,H,K,J)}d(this.h,0,n,a),d(this.h,2,s,r),d(this.h,4,c,h),d(this.h,6,f,p),d(this.h,8,b,v),d(this.h,10,y,A),d(this.h,12,I,M),d(this.h,14,T,G)},y.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},{"../common":87,"../utils":97,"minimalistic-assert":105}],96:[function(e,t,i){"use strict";var n=e("../utils").rotr32;function a(e,t,i){return e&t^~e&i}function o(e,t,i){return e&t^e&i^t&i}function s(e,t,i){return e^t^i}i.ft_1=function(e,t,i,n){return 0===e?a(t,i,n):1===e||3===e?s(t,i,n):2===e?o(t,i,n):void 0},i.ch32=a,i.maj32=o,i.p32=s,i.s0_256=function(e){return n(e,2)^n(e,13)^n(e,22)},i.s1_256=function(e){return n(e,6)^n(e,11)^n(e,25)},i.g0_256=function(e){return n(e,7)^n(e,18)^e>>>3},i.g1_256=function(e){return n(e,17)^n(e,19)^e>>>10}},{"../utils":97}],97:[function(e,t,i){"use strict";var n=e("minimalistic-assert"),a=e("inherits");function o(e,t){return 55296==(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320==(64512&e.charCodeAt(t+1)))}function s(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function r(e){return 1===e.length?"0"+e:e}function c(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}i.inherits=a,i.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var i=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),a=0;a<e.length;a+=2)i.push(parseInt(e[a]+e[a+1],16))}else for(var n=0,a=0;a<e.length;a++){var s=e.charCodeAt(a);s<128?i[n++]=s:s<2048?(i[n++]=s>>6|192,i[n++]=63&s|128):o(e,a)?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++a)),i[n++]=s>>18|240,i[n++]=s>>12&63|128,i[n++]=s>>6&63|128,i[n++]=63&s|128):(i[n++]=s>>12|224,i[n++]=s>>6&63|128,i[n++]=63&s|128)}else for(a=0;a<e.length;a++)i[a]=0|e[a];return i},i.toHex=function(e){for(var t="",i=0;i<e.length;i++)t+=r(e[i].toString(16));return t},i.htonl=s,i.toHex32=function(e,t){for(var i="",n=0;n<e.length;n++){var a=e[n];"little"===t&&(a=s(a)),i+=c(a.toString(16))}return i},i.zero2=r,i.zero8=c,i.join32=function(e,t,i,a){var o=i-t;n(o%4==0);for(var s=new Array(o/4),r=0,c=t;r<s.length;r++,c+=4){var h;h="big"===a?e[c]<<24|e[c+1]<<16|e[c+2]<<8|e[c+3]:e[c+3]<<24|e[c+2]<<16|e[c+1]<<8|e[c],s[r]=h>>>0}return s},i.split32=function(e,t){for(var i=new Array(4*e.length),n=0,a=0;n<e.length;n++,a+=4){var o=e[n];"big"===t?(i[a]=o>>>24,i[a+1]=o>>>16&255,i[a+2]=o>>>8&255,i[a+3]=255&o):(i[a+3]=o>>>24,i[a+2]=o>>>16&255,i[a+1]=o>>>8&255,i[a]=255&o)}return i},i.rotr32=function(e,t){return e>>>t|e<<32-t},i.rotl32=function(e,t){return e<<t|e>>>32-t},i.sum32=function(e,t){return e+t>>>0},i.sum32_3=function(e,t,i){return e+t+i>>>0},i.sum32_4=function(e,t,i,n){return e+t+i+n>>>0},i.sum32_5=function(e,t,i,n,a){return e+t+i+n+a>>>0},i.sum64=function(e,t,i,n){var a=e[t],o=n+e[t+1]>>>0,s=(o<n?1:0)+i+a;e[t]=s>>>0,e[t+1]=o},i.sum64_hi=function(e,t,i,n){return(t+n>>>0<t?1:0)+e+i>>>0},i.sum64_lo=function(e,t,i,n){return t+n>>>0},i.sum64_4_hi=function(e,t,i,n,a,o,s,r){var c=0,h=t;return c+=(h=h+n>>>0)<t?1:0,c+=(h=h+o>>>0)<o?1:0,e+i+a+s+(c+=(h=h+r>>>0)<r?1:0)>>>0},i.sum64_4_lo=function(e,t,i,n,a,o,s,r){return t+n+o+r>>>0},i.sum64_5_hi=function(e,t,i,n,a,o,s,r,c,h){var d=0,u=t;return d+=(u=u+n>>>0)<t?1:0,d+=(u=u+o>>>0)<o?1:0,d+=(u=u+r>>>0)<r?1:0,e+i+a+s+c+(d+=(u=u+h>>>0)<h?1:0)>>>0},i.sum64_5_lo=function(e,t,i,n,a,o,s,r,c,h){return t+n+o+r+h>>>0},i.rotr64_hi=function(e,t,i){return(t<<32-i|e>>>i)>>>0},i.rotr64_lo=function(e,t,i){return(e<<32-i|t>>>i)>>>0},i.shr64_hi=function(e,t,i){return e>>>i},i.shr64_lo=function(e,t,i){return(e<<32-i|t>>>i)>>>0}},{inherits:101,"minimalistic-assert":105}],98:[function(e,t,i){"use strict";var n=e("hash.js"),a=e("minimalistic-crypto-utils"),o=e("minimalistic-assert");function s(e){if(!(this instanceof s))return new s(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=a.toArray(e.entropy,e.entropyEnc||"hex"),i=a.toArray(e.nonce,e.nonceEnc||"hex"),n=a.toArray(e.pers,e.persEnc||"hex");o(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,i,n)}t.exports=s,s.prototype._init=function(e,t,i){var n=e.concat(t).concat(i);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var a=0;a<this.V.length;a++)this.K[a]=0,this.V[a]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},s.prototype._hmac=function(){return new n.hmac(this.hash,this.K)},s.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},s.prototype.reseed=function(e,t,i,n){"string"!=typeof t&&(n=i,i=t,t=null),e=a.toArray(e,t),i=a.toArray(i,n),o(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(i||[])),this._reseed=1},s.prototype.generate=function(e,t,i,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(n=i,i=t,t=null),i&&(i=a.toArray(i,n||"hex"),this._update(i));for(var o=[];o.length<e;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var s=o.slice(0,e);return this._update(i),this._reseed++,a.encode(s,t)}},{"hash.js":86,"minimalistic-assert":105,"minimalistic-crypto-utils":106}],99:[function(e,t,i){i.read=function(e,t,i,n,a){var o,s,r=8*a-n-1,c=(1<<r)-1,h=c>>1,d=-7,u=i?a-1:0,l=i?-1:1,f=e[t+u];for(u+=l,o=f&(1<<-d)-1,f>>=-d,d+=r;d>0;o=256*o+e[t+u],u+=l,d-=8);for(s=o&(1<<-d)-1,o>>=-d,d+=n;d>0;s=256*s+e[t+u],u+=l,d-=8);if(0===o)o=1-h;else{if(o===c)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,n),o-=h}return(f?-1:1)*s*Math.pow(2,o-n)},i.write=function(e,t,i,n,a,o){var s,r,c,h=8*o-a-1,d=(1<<h)-1,u=d>>1,l=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:o-1,p=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(r=isNaN(t)?1:0,s=d):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),(t+=s+u>=1?l/c:l*Math.pow(2,1-u))*c>=2&&(s++,c/=2),s+u>=d?(r=0,s=d):s+u>=1?(r=(t*c-1)*Math.pow(2,a),s+=u):(r=t*Math.pow(2,u-1)*Math.pow(2,a),s=0));a>=8;e[i+f]=255&r,f+=p,r/=256,a-=8);for(s=s<<a|r,h+=a;h>0;e[i+f]=255&s,f+=p,s/=256,h-=8);e[i+f-p]|=128*m}},{}],100:[function(e,t,i){var n=[].indexOf;t.exports=function(e,t){if(n)return e.indexOf(t);for(var i=0;i<e.length;++i)if(e[i]===t)return i;return-1}},{}],101:[function(e,t,i){"function"==typeof Object.create?t.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(e,t){if(t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}}},{}],102:[function(e,t,i){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function a(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}t.exports=function(e){return null!=e&&(n(e)||a(e)||!!e._isBuffer)}},{}],103:[function(e,t,i){"use strict";var n=e("inherits"),a=e("hash-base"),o=e("safe-buffer").Buffer,s=new Array(16);function r(){a.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function c(e,t){return e<<t|e>>>32-t}function h(e,t,i,n,a,o,s){return c(e+(t&i|~t&n)+a+o|0,s)+t|0}function d(e,t,i,n,a,o,s){return c(e+(t&n|i&~n)+a+o|0,s)+t|0}function u(e,t,i,n,a,o,s){return c(e+(t^i^n)+a+o|0,s)+t|0}function l(e,t,i,n,a,o,s){return c(e+(i^(t|~n))+a+o|0,s)+t|0}n(r,a),r.prototype._update=function(){for(var e=s,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var i=this._a,n=this._b,a=this._c,o=this._d;n=l(n=l(n=l(n=l(n=u(n=u(n=u(n=u(n=d(n=d(n=d(n=d(n=h(n=h(n=h(n=h(n,a=h(a,o=h(o,i=h(i,n,a,o,e[0],3614090360,7),n,a,e[1],3905402710,12),i,n,e[2],606105819,17),o,i,e[3],3250441966,22),a=h(a,o=h(o,i=h(i,n,a,o,e[4],4118548399,7),n,a,e[5],1200080426,12),i,n,e[6],2821735955,17),o,i,e[7],4249261313,22),a=h(a,o=h(o,i=h(i,n,a,o,e[8],1770035416,7),n,a,e[9],2336552879,12),i,n,e[10],4294925233,17),o,i,e[11],2304563134,22),a=h(a,o=h(o,i=h(i,n,a,o,e[12],1804603682,7),n,a,e[13],4254626195,12),i,n,e[14],2792965006,17),o,i,e[15],1236535329,22),a=d(a,o=d(o,i=d(i,n,a,o,e[1],4129170786,5),n,a,e[6],3225465664,9),i,n,e[11],643717713,14),o,i,e[0],3921069994,20),a=d(a,o=d(o,i=d(i,n,a,o,e[5],3593408605,5),n,a,e[10],38016083,9),i,n,e[15],3634488961,14),o,i,e[4],3889429448,20),a=d(a,o=d(o,i=d(i,n,a,o,e[9],568446438,5),n,a,e[14],3275163606,9),i,n,e[3],4107603335,14),o,i,e[8],1163531501,20),a=d(a,o=d(o,i=d(i,n,a,o,e[13],2850285829,5),n,a,e[2],4243563512,9),i,n,e[7],1735328473,14),o,i,e[12],2368359562,20),a=u(a,o=u(o,i=u(i,n,a,o,e[5],4294588738,4),n,a,e[8],2272392833,11),i,n,e[11],1839030562,16),o,i,e[14],4259657740,23),a=u(a,o=u(o,i=u(i,n,a,o,e[1],2763975236,4),n,a,e[4],1272893353,11),i,n,e[7],4139469664,16),o,i,e[10],3200236656,23),a=u(a,o=u(o,i=u(i,n,a,o,e[13],681279174,4),n,a,e[0],3936430074,11),i,n,e[3],3572445317,16),o,i,e[6],76029189,23),a=u(a,o=u(o,i=u(i,n,a,o,e[9],3654602809,4),n,a,e[12],3873151461,11),i,n,e[15],530742520,16),o,i,e[2],3299628645,23),a=l(a,o=l(o,i=l(i,n,a,o,e[0],4096336452,6),n,a,e[7],1126891415,10),i,n,e[14],2878612391,15),o,i,e[5],4237533241,21),a=l(a,o=l(o,i=l(i,n,a,o,e[12],1700485571,6),n,a,e[3],2399980690,10),i,n,e[10],4293915773,15),o,i,e[1],2240044497,21),a=l(a,o=l(o,i=l(i,n,a,o,e[8],1873313359,6),n,a,e[15],4264355552,10),i,n,e[6],2734768916,15),o,i,e[13],1309151649,21),a=l(a,o=l(o,i=l(i,n,a,o,e[4],4149444226,6),n,a,e[11],3174756917,10),i,n,e[2],718787259,15),o,i,e[9],3951481745,21),this._a=this._a+i|0,this._b=this._b+n|0,this._c=this._c+a|0,this._d=this._d+o|0},r.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=o.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e},t.exports=r},{"hash-base":85,inherits:101,"safe-buffer":147}],104:[function(e,t,i){var n=e("bn.js"),a=e("brorand");function o(e){this.rand=e||new a.Rand}t.exports=o,o.create=function(e){return new o(e)},o.prototype._randbelow=function(e){var t=e.bitLength(),i=Math.ceil(t/8);do{var a=new n(this.rand.generate(i))}while(a.cmp(e)>=0);return a},o.prototype._randrange=function(e,t){var i=t.sub(e);return e.add(this._randbelow(i))},o.prototype.test=function(e,t,i){var a=e.bitLength(),o=n.mont(e),s=new n(1).toRed(o);t||(t=Math.max(1,a/48|0));for(var r=e.subn(1),c=0;!r.testn(c);c++);for(var h=e.shrn(c),d=r.toRed(o);t>0;t--){var u=this._randrange(new n(2),r);i&&i(u);var l=u.toRed(o).redPow(h);if(0!==l.cmp(s)&&0!==l.cmp(d)){for(var f=1;f<c;f++){if(0===(l=l.redSqr()).cmp(s))return!1;if(0===l.cmp(d))break}if(f===c)return!1}}return!0},o.prototype.getDivisor=function(e,t){var i=e.bitLength(),a=n.mont(e),o=new n(1).toRed(a);t||(t=Math.max(1,i/48|0));for(var s=e.subn(1),r=0;!s.testn(r);r++);for(var c=e.shrn(r),h=s.toRed(a);t>0;t--){var d=this._randrange(new n(2),s),u=e.gcd(d);if(0!==u.cmpn(1))return u;var l=d.toRed(a).redPow(c);if(0!==l.cmp(o)&&0!==l.cmp(h)){for(var f=1;f<r;f++){if(0===(l=l.redSqr()).cmp(o))return l.fromRed().subn(1).gcd(e);if(0===l.cmp(h))break}if(f===r)return(l=l.redSqr()).fromRed().subn(1).gcd(e)}}return!1}},{"bn.js":16,brorand:17}],105:[function(e,t,i){function n(e,t){if(!e)throw new Error(t||"Assertion failed")}t.exports=n,n.equal=function(e,t,i){if(e!=t)throw new Error(i||"Assertion failed: "+e+" != "+t)}},{}],106:[function(e,t,i){"use strict";var n=i;function a(e){return 1===e.length?"0"+e:e}function o(e){for(var t="",i=0;i<e.length;i++)t+=a(e[i].toString(16));return t}n.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var i=[];if("string"!=typeof e){for(var n=0;n<e.length;n++)i[n]=0|e[n];return i}if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),n=0;n<e.length;n+=2)i.push(parseInt(e[n]+e[n+1],16));else for(n=0;n<e.length;n++){var a=e.charCodeAt(n),o=a>>8,s=255&a;o?i.push(o,s):i.push(s)}return i},n.zero2=a,n.toHex=o,n.encode=function(e,t){return"hex"===t?o(e):e}},{}],107:[function(e,t,i){t.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],108:[function(e,t,i){"use strict";var n=e("asn1.js");i.certificate=e("./certificate");var a=n.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});i.RSAPrivateKey=a;var o=n.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});i.RSAPublicKey=o;var s=n.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(r),this.key("subjectPublicKey").bitstr())});i.PublicKey=s;var r=n.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),c=n.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(r),this.key("subjectPrivateKey").octstr())});i.PrivateKey=c;var h=n.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});i.EncryptedPrivateKey=h;var d=n.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});i.DSAPrivateKey=d,i.DSAparam=n.define("DSAparam",function(){this.int()});var u=n.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(l),this.key("publicKey").optional().explicit(1).bitstr())});i.ECPrivateKey=u;var l=n.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});i.signature=n.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"./certificate":109,"asn1.js":1}],109:[function(e,t,i){"use strict";var n=e("asn1.js"),a=n.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),o=n.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),s=n.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),r=n.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())}),c=n.define("RelativeDistinguishedName",function(){this.setof(o)}),h=n.define("RDNSequence",function(){this.seqof(c)}),d=n.define("Name",function(){this.choice({rdnSequence:this.use(h)})}),u=n.define("Validity",function(){this.seq().obj(this.key("notBefore").use(a),this.key("notAfter").use(a))}),l=n.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),f=n.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(s),this.key("issuer").use(d),this.key("validity").use(u),this.key("subject").use(d),this.key("subjectPublicKeyInfo").use(r),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(l).optional())}),p=n.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(f),this.key("signatureAlgorithm").use(s),this.key("signatureValue").bitstr())});t.exports=p},{"asn1.js":1}],110:[function(e,t,i){var n=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r\+\/\=]+)[\n\r]+/m,a=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,o=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r\+\/\=]+)-----END \1-----$/m,s=e("evp_bytestokey"),r=e("browserify-aes"),c=e("safe-buffer").Buffer;t.exports=function(e,t){var i,h=e.toString(),d=h.match(n);if(d){var u="aes"+d[1],l=c.from(d[2],"hex"),f=c.from(d[3].replace(/[\r\n]/g,""),"base64"),p=s(t,l.slice(0,8),parseInt(d[1],10)).key,m=[],g=r.createDecipheriv(u,p,l);m.push(g.update(f)),m.push(g.final()),i=c.concat(m)}else{var b=h.match(o);i=new c(b[2].replace(/[\r\n]/g,""),"base64")}return{tag:h.match(a)[1],data:i}}},{"browserify-aes":21,evp_bytestokey:84,"safe-buffer":147}],111:[function(e,t,i){var n=e("./asn1"),a=e("./aesid.json"),o=e("./fixProc"),s=e("browserify-aes"),r=e("pbkdf2"),c=e("safe-buffer").Buffer;function h(e){var t;"object"!=typeof e||c.isBuffer(e)||(t=e.passphrase,e=e.key),"string"==typeof e&&(e=c.from(e));var i,a,s=o(e,t),r=s.tag,h=s.data;switch(r){case"CERTIFICATE":a=n.certificate.decode(h,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(a||(a=n.PublicKey.decode(h,"der")),i=a.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return n.RSAPublicKey.decode(a.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return a.subjectPrivateKey=a.subjectPublicKey,{type:"ec",data:a};case"1.2.840.10040.4.1":return a.algorithm.params.pub_key=n.DSAparam.decode(a.subjectPublicKey.data,"der"),{type:"dsa",data:a.algorithm.params};default:throw new Error("unknown key id "+i)}throw new Error("unknown key type "+r);case"ENCRYPTED PRIVATE KEY":h=d(h=n.EncryptedPrivateKey.decode(h,"der"),t);case"PRIVATE KEY":switch(i=(a=n.PrivateKey.decode(h,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return n.RSAPrivateKey.decode(a.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:a.algorithm.curve,privateKey:n.ECPrivateKey.decode(a.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return a.algorithm.params.priv_key=n.DSAparam.decode(a.subjectPrivateKey,"der"),{type:"dsa",params:a.algorithm.params};default:throw new Error("unknown key id "+i)}throw new Error("unknown key type "+r);case"RSA PUBLIC KEY":return n.RSAPublicKey.decode(h,"der");case"RSA PRIVATE KEY":return n.RSAPrivateKey.decode(h,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:n.DSAPrivateKey.decode(h,"der")};case"EC PRIVATE KEY":return{curve:(h=n.ECPrivateKey.decode(h,"der")).parameters.value,privateKey:h.privateKey};default:throw new Error("unknown key type "+r)}}function d(e,t){var i=e.algorithm.decrypt.kde.kdeparams.salt,n=parseInt(e.algorithm.decrypt.kde.kdeparams.iters.toString(),10),o=a[e.algorithm.decrypt.cipher.algo.join(".")],h=e.algorithm.decrypt.cipher.iv,d=e.subjectPrivateKey,u=parseInt(o.split("-")[1],10)/8,l=r.pbkdf2Sync(t,i,n,u,"sha1"),f=s.createDecipheriv(o,l,h),p=[];return p.push(f.update(d)),p.push(f.final()),c.concat(p)}t.exports=h,h.signature=n.signature},{"./aesid.json":107,"./asn1":108,"./fixProc":110,"browserify-aes":21,pbkdf2:112,"safe-buffer":147}],112:[function(e,t,i){i.pbkdf2=e("./lib/async"),i.pbkdf2Sync=e("./lib/sync")},{"./lib/async":113,"./lib/sync":116}],113:[function(e,t,i){(function(i,n){var a,o=e("./precondition"),s=e("./default-encoding"),r=e("./sync"),c=e("safe-buffer").Buffer,h=n.crypto&&n.crypto.subtle,d={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},u=[];function l(e){if(n.process&&!n.process.browser)return Promise.resolve(!1);if(!h||!h.importKey||!h.deriveBits)return Promise.resolve(!1);if(void 0!==u[e])return u[e];var t=f(a=a||c.alloc(8),a,10,128,e).then(function(){return!0}).catch(function(){return!1});return u[e]=t,t}function f(e,t,i,n,a){return h.importKey("raw",e,{name:"PBKDF2"},!1,["deriveBits"]).then(function(e){return h.deriveBits({name:"PBKDF2",salt:t,iterations:i,hash:{name:a}},e,n<<3)}).then(function(e){return c.from(e)})}function p(e,t){e.then(function(e){i.nextTick(function(){t(null,e)})},function(e){i.nextTick(function(){t(e)})})}t.exports=function(e,t,a,h,u,m){"function"==typeof u&&(m=u,u=void 0);var g=d[(u=u||"sha1").toLowerCase()];if(!g||"function"!=typeof n.Promise)return i.nextTick(function(){var i;try{i=r(e,t,a,h,u)}catch(e){return m(e)}m(null,i)});if(o(e,t,a,h),"function"!=typeof m)throw new Error("No callback provided to pbkdf2");c.isBuffer(e)||(e=c.from(e,s)),c.isBuffer(t)||(t=c.from(t,s)),p(l(g).then(function(i){return i?f(e,t,a,h,g):r(e,t,a,h,u)}),m)}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./default-encoding":114,"./precondition":115,"./sync":116,_process:118,"safe-buffer":147}],114:[function(e,t,i){(function(e){var i;e.browser?i="utf-8":i=parseInt(e.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary";t.exports=i}).call(this,e("_process"))},{_process:118}],115:[function(e,t,i){(function(e){var i=Math.pow(2,30)-1;function n(t,i){if("string"!=typeof t&&!e.isBuffer(t))throw new TypeError(i+" must be a buffer or string")}t.exports=function(e,t,a,o){if(n(e,"Password"),n(t,"Salt"),"number"!=typeof a)throw new TypeError("Iterations not a number");if(a<0)throw new TypeError("Bad iterations");if("number"!=typeof o)throw new TypeError("Key length not a number");if(o<0||o>i||o!=o)throw new TypeError("Bad key length")}}).call(this,{isBuffer:e("../../is-buffer/index.js")})},{"../../is-buffer/index.js":102}],116:[function(e,t,i){var n=e("create-hash/md5"),a=e("ripemd160"),o=e("sha.js"),s=e("./precondition"),r=e("./default-encoding"),c=e("safe-buffer").Buffer,h=c.alloc(128),d={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function u(e,t,i){var n=l(e),a="sha512"===e||"sha384"===e?128:64;t.length>a?t=n(t):t.length<a&&(t=c.concat([t,h],a));for(var o=c.allocUnsafe(a+d[e]),s=c.allocUnsafe(a+d[e]),r=0;r<a;r++)o[r]=54^t[r],s[r]=92^t[r];var u=c.allocUnsafe(a+i+4);o.copy(u,0,0,a),this.ipad1=u,this.ipad2=o,this.opad=s,this.alg=e,this.blocksize=a,this.hash=n,this.size=d[e]}function l(e){return"rmd160"===e||"ripemd160"===e?function(e){return(new a).update(e).digest()}:"md5"===e?n:function(t){return o(e).update(t).digest()}}u.prototype.run=function(e,t){return e.copy(t,this.blocksize),this.hash(t).copy(this.opad,this.blocksize),this.hash(this.opad)},t.exports=function(e,t,i,n,a){s(e,t,i,n),c.isBuffer(e)||(e=c.from(e,r)),c.isBuffer(t)||(t=c.from(t,r));var o=new u(a=a||"sha1",e,t.length),h=c.allocUnsafe(n),l=c.allocUnsafe(t.length+4);t.copy(l,0,0,t.length);for(var f=0,p=d[a],m=Math.ceil(n/p),g=1;g<=m;g++){l.writeUInt32BE(g,t.length);for(var b=o.run(l,o.ipad1),v=b,y=1;y<i;y++){v=o.run(v,o.ipad2);for(var C=0;C<p;C++)b[C]^=v[C]}b.copy(h,f),f+=p}return h}},{"./default-encoding":114,"./precondition":115,"create-hash/md5":53,ripemd160:146,"safe-buffer":147,"sha.js":149}],117:[function(e,t,i){(function(e){"use strict";void 0===e||!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:function(t,i,n,a){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var o,s,r=arguments.length;switch(r){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function(){t.call(null,i)});case 3:return e.nextTick(function(){t.call(null,i,n)});case 4:return e.nextTick(function(){t.call(null,i,n,a)});default:for(o=new Array(r-1),s=0;s<o.length;)o[s++]=arguments[s];return e.nextTick(function(){t.apply(null,o)})}}}:t.exports=e}).call(this,e("_process"))},{_process:118}],118:[function(e,t,i){var n,a,o=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function c(e){if(n===setTimeout)return setTimeout(e,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}function h(e){if(a===clearTimeout)return clearTimeout(e);if((a===r||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(e);try{return a(e)}catch(t){try{return a.call(null,e)}catch(t){return a.call(this,e)}}}(function(){try{n="function"==typeof setTimeout?setTimeout:s}catch(e){n=s}try{a="function"==typeof clearTimeout?clearTimeout:r}catch(e){a=r}})();var d,u=[],l=!1,f=-1;function p(){l&&d&&(l=!1,d.length?u=d.concat(u):f=-1,u.length&&m())}function m(){if(!l){var e=c(p);l=!0;for(var t=u.length;t;){for(d=u,u=[];++f<t;)d&&d[f].run();f=-1,t=u.length}d=null,l=!1,h(e)}}function g(e,t){this.fun=e,this.array=t}function b(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];u.push(new g(e,t)),1!==u.length||l||c(m)},g.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=b,o.addListener=b,o.once=b,o.off=b,o.removeListener=b,o.removeAllListeners=b,o.emit=b,o.prependListener=b,o.prependOnceListener=b,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],119:[function(e,t,i){i.publicEncrypt=e("./publicEncrypt"),i.privateDecrypt=e("./privateDecrypt"),i.privateEncrypt=function(e,t){return i.publicEncrypt(e,t,!0)},i.publicDecrypt=function(e,t){return i.privateDecrypt(e,t,!0)}},{"./privateDecrypt":121,"./publicEncrypt":122}],120:[function(e,t,i){var n=e("create-hash"),a=e("safe-buffer").Buffer;function o(e){var t=a.allocUnsafe(4);return t.writeUInt32BE(e,0),t}t.exports=function(e,t){for(var i,s=a.alloc(0),r=0;s.length<t;)i=o(r++),s=a.concat([s,n("sha1").update(e).update(i).digest()]);return s.slice(0,t)}},{"create-hash":52,"safe-buffer":147}],121:[function(e,t,i){var n=e("parse-asn1"),a=e("./mgf"),o=e("./xor"),s=e("bn.js"),r=e("browserify-rsa"),c=e("create-hash"),h=e("./withPublic"),d=e("safe-buffer").Buffer;function u(e,t){var i=e.modulus.byteLength(),n=c("sha1").update(d.alloc(0)).digest(),s=n.length;if(0!==t[0])throw new Error("decryption error");var r=t.slice(1,s+1),h=t.slice(s+1),u=o(r,a(h,s)),l=o(h,a(u,i-s-1));if(f(n,l.slice(0,s)))throw new Error("decryption error");for(var p=s;0===l[p];)p++;if(1!==l[p++])throw new Error("decryption error");return l.slice(p)}function l(e,t,i){for(var n=t.slice(0,2),a=2,o=0;0!==t[a++];)if(a>=t.length){o++;break}var s=t.slice(2,a-1);if(("0002"!==n.toString("hex")&&!i||"0001"!==n.toString("hex")&&i)&&o++,s.length<8&&o++,o)throw new Error("decryption error");return t.slice(a)}function f(e,t){e=d.from(e),t=d.from(t);var i=0,n=e.length;e.length!==t.length&&(i++,n=Math.min(e.length,t.length));for(var a=-1;++a<n;)i+=e[a]^t[a];return i}t.exports=function(e,t,i){var a;a=e.padding?e.padding:i?1:4;var o,c=n(e),f=c.modulus.byteLength();if(t.length>f||new s(t).cmp(c.modulus)>=0)throw new Error("decryption error");o=i?h(new s(t),c):r(t,c);var p=d.alloc(f-o.length);if(o=d.concat([p,o],f),4===a)return u(c,o);if(1===a)return l(c,o,i);if(3===a)return o;throw new Error("unknown padding")}},{"./mgf":120,"./withPublic":123,"./xor":124,"bn.js":16,"browserify-rsa":39,"create-hash":52,"parse-asn1":111,"safe-buffer":147}],122:[function(e,t,i){var n=e("parse-asn1"),a=e("randombytes"),o=e("create-hash"),s=e("./mgf"),r=e("./xor"),c=e("bn.js"),h=e("./withPublic"),d=e("browserify-rsa"),u=e("safe-buffer").Buffer;function l(e,t){var i=e.modulus.byteLength(),n=t.length,h=o("sha1").update(u.alloc(0)).digest(),d=h.length,l=2*d;if(n>i-l-2)throw new Error("message too long");var f=u.alloc(i-n-l-2),p=i-d-1,m=a(d),g=r(u.concat([h,f,u.alloc(1,1),t],p),s(m,p)),b=r(m,s(g,d));return new c(u.concat([u.alloc(1),b,g],i))}function f(e,t,i){var n,a=t.length,o=e.modulus.byteLength();if(a>o-11)throw new Error("message too long");return n=i?u.alloc(o-a-3,255):p(o-a-3),new c(u.concat([u.from([0,i?1:2]),n,u.alloc(1),t],o))}function p(e){for(var t,i=u.allocUnsafe(e),n=0,o=a(2*e),s=0;n<e;)s===o.length&&(o=a(2*e),s=0),(t=o[s++])&&(i[n++]=t);return i}t.exports=function(e,t,i){var a;a=e.padding?e.padding:i?1:4;var o,s=n(e);if(4===a)o=l(s,t);else if(1===a)o=f(s,t,i);else{if(3!==a)throw new Error("unknown padding");if((o=new c(t)).cmp(s.modulus)>=0)throw new Error("data too long for modulus")}return i?d(o,s):h(o,s)}},{"./mgf":120,"./withPublic":123,"./xor":124,"bn.js":16,"browserify-rsa":39,"create-hash":52,"parse-asn1":111,randombytes:129,"safe-buffer":147}],123:[function(e,t,i){var n=e("bn.js"),a=e("safe-buffer").Buffer;t.exports=function(e,t){return a.from(e.toRed(n.mont(t.modulus)).redPow(new n(t.publicExponent)).fromRed().toArray())}},{"bn.js":16,"safe-buffer":147}],124:[function(e,t,i){t.exports=function(e,t){for(var i=e.length,n=-1;++n<i;)e[n]^=t[n];return e}},{}],125:[function(e,t,i){(function(e){(function(n){var a="object"==typeof i&&i&&!i.nodeType&&i,o="object"==typeof t&&t&&!t.nodeType&&t,s="object"==typeof e&&e;s.global!==s&&s.window!==s&&s.self!==s||(n=s);var r,c,h=2147483647,d=36,u=1,l=26,f=38,p=700,m=72,g=128,b="-",v=/^xn--/,y=/[^\x20-\x7E]/,C=/[\x2E\u3002\uFF0E\uFF61]/g,_={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=d-u,S=Math.floor,B=String.fromCharCode;function k(e){throw new RangeError(_[e])}function D(e,t){for(var i=e.length,n=[];i--;)n[i]=t(e[i]);return n}function N(e,t){var i=e.split("@"),n="";return i.length>1&&(n=i[0]+"@",e=i[1]),n+D((e=e.replace(C,".")).split("."),t).join(".")}function A(e){for(var t,i,n=[],a=0,o=e.length;a<o;)(t=e.charCodeAt(a++))>=55296&&t<=56319&&a<o?56320==(64512&(i=e.charCodeAt(a++)))?n.push(((1023&t)<<10)+(1023&i)+65536):(n.push(t),a--):n.push(t);return n}function I(e){return D(e,function(e){var t="";return e>65535&&(t+=B((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=B(e)}).join("")}function M(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:d}function T(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function G(e,t,i){var n=0;for(e=i?S(e/p):e>>1,e+=S(e/t);e>w*l>>1;n+=d)e=S(e/w);return S(n+(w+1)*e/(e+f))}function x(e){var t,i,n,a,o,s,r,c,f,p,v=[],y=e.length,C=0,_=g,w=m;for((i=e.lastIndexOf(b))<0&&(i=0),n=0;n<i;++n)e.charCodeAt(n)>=128&&k("not-basic"),v.push(e.charCodeAt(n));for(a=i>0?i+1:0;a<y;){for(o=C,s=1,r=d;a>=y&&k("invalid-input"),((c=M(e.charCodeAt(a++)))>=d||c>S((h-C)/s))&&k("overflow"),C+=c*s,!(c<(f=r<=w?u:r>=w+l?l:r-w));r+=d)s>S(h/(p=d-f))&&k("overflow"),s*=p;w=G(C-o,t=v.length+1,0==o),S(C/t)>h-_&&k("overflow"),_+=S(C/t),C%=t,v.splice(C++,0,_)}return I(v)}function L(e){var t,i,n,a,o,s,r,c,f,p,v,y,C,_,w,D=[];for(y=(e=A(e)).length,t=g,i=0,o=m,s=0;s<y;++s)(v=e[s])<128&&D.push(B(v));for(n=a=D.length,a&&D.push(b);n<y;){for(r=h,s=0;s<y;++s)(v=e[s])>=t&&v<r&&(r=v);for(r-t>S((h-i)/(C=n+1))&&k("overflow"),i+=(r-t)*C,t=r,s=0;s<y;++s)if((v=e[s])<t&&++i>h&&k("overflow"),v==t){for(c=i,f=d;!(c<(p=f<=o?u:f>=o+l?l:f-o));f+=d)w=c-p,_=d-p,D.push(B(T(p+w%_,0))),c=S(w/_);D.push(B(T(c,0))),o=G(i,C,n==a),i=0,++n}++i,++t}return D.join("")}if(r={version:"1.4.1",ucs2:{decode:A,encode:I},decode:x,encode:L,toASCII:function(e){return N(e,function(e){return y.test(e)?"xn--"+L(e):e})},toUnicode:function(e){return N(e,function(e){return v.test(e)?x(e.slice(4).toLowerCase()):e})}},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return r});else if(a&&o)if(t.exports==a)o.exports=r;else for(c in r)r.hasOwnProperty(c)&&(a[c]=r[c]);else n.punycode=r})(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],126:[function(e,t,i){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,i,o){t=t||"&",i=i||"=";var s={};if("string"!=typeof e||0===e.length)return s;var r=/\+/g;e=e.split(t);var c=1e3;o&&"number"==typeof o.maxKeys&&(c=o.maxKeys);var h=e.length;c>0&&h>c&&(h=c);for(var d=0;d<h;++d){var u,l,f,p,m=e[d].replace(r,"%20"),g=m.indexOf(i);g>=0?(u=m.substr(0,g),l=m.substr(g+1)):(u=m,l=""),f=decodeURIComponent(u),p=decodeURIComponent(l),n(s,f)?a(s[f])?s[f].push(p):s[f]=[s[f],p]:s[f]=p}return s};var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],127:[function(e,t,i){"use strict";var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,i,r){return t=t||"&",i=i||"=",null===e&&(e=void 0),"object"==typeof e?o(s(e),function(s){var r=encodeURIComponent(n(s))+i;return a(e[s])?o(e[s],function(e){return r+encodeURIComponent(n(e))}).join(t):r+encodeURIComponent(n(e[s]))}).join(t):r?encodeURIComponent(n(r))+i+encodeURIComponent(n(e)):""};var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function o(e,t){if(e.map)return e.map(t);for(var i=[],n=0;n<e.length;n++)i.push(t(e[n],n));return i}var s=Object.keys||function(e){var t=[];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.push(i);return t}},{}],128:[function(e,t,i){"use strict";i.decode=i.parse=e("./decode"),i.encode=i.stringify=e("./encode")},{"./decode":126,"./encode":127}],129:[function(e,t,i){(function(i,n){"use strict";var a=65536,o=4294967295;var s=e("safe-buffer").Buffer,r=n.crypto||n.msCrypto;r&&r.getRandomValues?t.exports=function(e,t){if(e>o)throw new RangeError("requested too many random bytes");var n=s.allocUnsafe(e);if(e>0)if(e>a)for(var c=0;c<e;c+=a)r.getRandomValues(n.slice(c,c+a));else r.getRandomValues(n);if("function"==typeof t)return i.nextTick(function(){t(null,n)});return n}:t.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:118,"safe-buffer":147}],130:[function(e,t,i){(function(t,n){"use strict";function a(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var o=e("safe-buffer"),s=e("randombytes"),r=o.Buffer,c=o.kMaxLength,h=n.crypto||n.msCrypto,d=Math.pow(2,32)-1;function u(e,t){if("number"!=typeof e||e!=e)throw new TypeError("offset must be a number");if(e>d||e<0)throw new TypeError("offset must be a uint32");if(e>c||e>t)throw new RangeError("offset out of range")}function l(e,t,i){if("number"!=typeof e||e!=e)throw new TypeError("size must be a number");if(e>d||e<0)throw new TypeError("size must be a uint32");if(e+t>i||e>c)throw new RangeError("buffer too small")}function f(e,i,n,a){if(t.browser){var o=e.buffer,r=new Uint8Array(o,i,n);return h.getRandomValues(r),a?void t.nextTick(function(){a(null,e)}):e}if(!a)return s(n).copy(e,i),e;s(n,function(t,n){if(t)return a(t);n.copy(e,i),a(null,e)})}h&&h.getRandomValues||!t.browser?(i.randomFill=function(e,t,i,a){if(!(r.isBuffer(e)||e instanceof n.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof t)a=t,t=0,i=e.length;else if("function"==typeof i)a=i,i=e.length-t;else if("function"!=typeof a)throw new TypeError('"cb" argument must be a function');return u(t,e.length),l(i,t,e.length),f(e,t,i,a)},i.randomFillSync=function(e,t,i){void 0===t&&(t=0);if(!(r.isBuffer(e)||e instanceof n.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');u(t,e.length),void 0===i&&(i=e.length-t);return l(i,t,e.length),f(e,t,i)}):(i.randomFill=a,i.randomFillSync=a)}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:118,randombytes:129,"safe-buffer":147}],131:[function(e,t,i){t.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":132}],132:[function(e,t,i){"use strict";var n=e("process-nextick-args"),a=Object.keys||function(e){var t=[];for(var i in e)t.push(i);return t};t.exports=u;var o=e("core-util-is");o.inherits=e("inherits");var s=e("./_stream_readable"),r=e("./_stream_writable");o.inherits(u,s);for(var c=a(r.prototype),h=0;h<c.length;h++){var d=c[h];u.prototype[d]||(u.prototype[d]=r.prototype[d])}function u(e){if(!(this instanceof u))return new u(e);s.call(this,e),r.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",l)}function l(){this.allowHalfOpen||this._writableState.ended||n.nextTick(f,this)}function f(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),u.prototype._destroy=function(e,t){this.push(null),this.end(),n.nextTick(t,e)}},{"./_stream_readable":134,"./_stream_writable":136,"core-util-is":50,inherits:101,"process-nextick-args":117}],133:[function(e,t,i){"use strict";t.exports=o;var n=e("./_stream_transform"),a=e("core-util-is");function o(e){if(!(this instanceof o))return new o(e);n.call(this,e)}a.inherits=e("inherits"),a.inherits(o,n),o.prototype._transform=function(e,t,i){i(null,e)}},{"./_stream_transform":135,"core-util-is":50,inherits:101}],134:[function(e,t,i){(function(i,n){"use strict";var a=e("process-nextick-args");t.exports=w;var o,s=e("isarray");w.ReadableState=_;e("events").EventEmitter;var r=function(e,t){return e.listeners(t).length},c=e("./internal/streams/stream"),h=e("safe-buffer").Buffer,d=n.Uint8Array||function(){};function u(e){return h.from(e)}function l(e){return h.isBuffer(e)||e instanceof d}var f=e("core-util-is");f.inherits=e("inherits");var p=e("util"),m=void 0;m=p&&p.debuglog?p.debuglog("stream"):function(){};var g,b=e("./internal/streams/BufferList"),v=e("./internal/streams/destroy");f.inherits(w,c);var y=["error","close","destroy","pause","resume"];function C(e,t,i){if("function"==typeof e.prependListener)return e.prependListener(t,i);e._events&&e._events[t]?s(e._events[t])?e._events[t].unshift(i):e._events[t]=[i,e._events[t]]:e.on(t,i)}function _(t,i){o=o||e("./_stream_duplex"),t=t||{};var n=i instanceof o;this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var a=t.highWaterMark,s=t.readableHighWaterMark,r=this.objectMode?16:16384;this.highWaterMark=a||0===a?a:n&&(s||0===s)?s:r,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new b,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(g||(g=e("string_decoder/").StringDecoder),this.decoder=new g(t.encoding),this.encoding=t.encoding)}function w(t){if(o=o||e("./_stream_duplex"),!(this instanceof w))return new w(t);this._readableState=new _(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),c.call(this)}function S(e,t,i,n,a){var o,s=e._readableState;null===t?(s.reading=!1,M(e,s)):(a||(o=k(s,t)),o?e.emit("error",o):s.objectMode||t&&t.length>0?("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===h.prototype||(t=u(t)),n?s.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):B(e,s,t,!0):s.ended?e.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!i?(t=s.decoder.write(t),s.objectMode||0!==t.length?B(e,s,t,!1):x(e,s)):B(e,s,t,!1))):n||(s.reading=!1));return D(s)}function B(e,t,i,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",i),e.read(0)):(t.length+=t.objectMode?1:i.length,n?t.buffer.unshift(i):t.buffer.push(i),t.needReadable&&T(e)),x(e,t)}function k(e,t){var i;return l(t)||"string"==typeof t||void 0===t||e.objectMode||(i=new TypeError("Invalid non-string/buffer chunk")),i}function D(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}Object.defineProperty(w.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),w.prototype.destroy=v.destroy,w.prototype._undestroy=v.undestroy,w.prototype._destroy=function(e,t){this.push(null),t(e)},w.prototype.push=function(e,t){var i,n=this._readableState;return n.objectMode?i=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=h.from(e,t),t=""),i=!0),S(this,e,t,!1,i)},w.prototype.unshift=function(e){return S(this,e,null,!0,!1)},w.prototype.isPaused=function(){return!1===this._readableState.flowing},w.prototype.setEncoding=function(t){return g||(g=e("string_decoder/").StringDecoder),this._readableState.decoder=new g(t),this._readableState.encoding=t,this};var N=8388608;function A(e){return e>=N?e=N:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function I(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=A(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function M(e,t){if(!t.ended){if(t.decoder){var i=t.decoder.end();i&&i.length&&(t.buffer.push(i),t.length+=t.objectMode?1:i.length)}t.ended=!0,T(e)}}function T(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(m("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?a.nextTick(G,e):G(e))}function G(e){m("emit readable"),e.emit("readable"),U(e)}function x(e,t){t.readingMore||(t.readingMore=!0,a.nextTick(L,e,t))}function L(e,t){for(var i=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(m("maybeReadMore read 0"),e.read(0),i!==t.length);)i=t.length;t.readingMore=!1}function E(e){return function(){var t=e._readableState;m("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&r(e,"data")&&(t.flowing=!0,U(e))}}function R(e){m("readable nexttick read 0"),e.read(0)}function P(e,t){t.resumeScheduled||(t.resumeScheduled=!0,a.nextTick(F,e,t))}function F(e,t){t.reading||(m("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),U(e),t.flowing&&!t.reading&&e.read(0)}function U(e){var t=e._readableState;for(m("flow",t.flowing);t.flowing&&null!==e.read(););}function j(e,t){return 0===t.length?null:(t.objectMode?i=t.buffer.shift():!e||e>=t.length?(i=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):i=O(e,t.buffer,t.decoder),i);var i}function O(e,t,i){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():i?z(e,t):q(e,t),n}function z(e,t){var i=t.head,n=1,a=i.data;for(e-=a.length;i=i.next;){var o=i.data,s=e>o.length?o.length:e;if(s===o.length?a+=o:a+=o.slice(0,e),0===(e-=s)){s===o.length?(++n,i.next?t.head=i.next:t.head=t.tail=null):(t.head=i,i.data=o.slice(s));break}++n}return t.length-=n,a}function q(e,t){var i=h.allocUnsafe(e),n=t.head,a=1;for(n.data.copy(i),e-=n.data.length;n=n.next;){var o=n.data,s=e>o.length?o.length:e;if(o.copy(i,i.length-e,0,s),0===(e-=s)){s===o.length?(++a,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(s));break}++a}return t.length-=a,i}function V(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,a.nextTick(H,t,e))}function H(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function K(e,t){for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1}w.prototype.read=function(e){m("read",e),e=parseInt(e,10);var t=this._readableState,i=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return m("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?V(this):T(this),null;if(0===(e=I(e,t))&&t.ended)return 0===t.length&&V(this),null;var n,a=t.needReadable;return m("need readable",a),(0===t.length||t.length-e<t.highWaterMark)&&m("length less than watermark",a=!0),t.ended||t.reading?m("reading or ended",a=!1):a&&(m("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=I(i,t))),null===(n=e>0?j(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),i!==e&&t.ended&&V(this)),null!==n&&this.emit("data",n),n},w.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},w.prototype.pipe=function(e,t){var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,m("pipe count=%d opts=%j",o.pipesCount,t);var s=(!t||!1!==t.end)&&e!==i.stdout&&e!==i.stderr?h:y;function c(e,t){m("onunpipe"),e===n&&t&&!1===t.hasUnpiped&&(t.hasUnpiped=!0,l())}function h(){m("onend"),e.end()}o.endEmitted?a.nextTick(s):n.once("end",s),e.on("unpipe",c);var d=E(n);e.on("drain",d);var u=!1;function l(){m("cleanup"),e.removeListener("close",b),e.removeListener("finish",v),e.removeListener("drain",d),e.removeListener("error",g),e.removeListener("unpipe",c),n.removeListener("end",h),n.removeListener("end",y),n.removeListener("data",p),u=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||d()}var f=!1;function p(t){m("ondata"),f=!1,!1!==e.write(t)||f||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==K(o.pipes,e))&&!u&&(m("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,f=!0),n.pause())}function g(t){m("onerror",t),y(),e.removeListener("error",g),0===r(e,"error")&&e.emit("error",t)}function b(){e.removeListener("finish",v),y()}function v(){m("onfinish"),e.removeListener("close",b),y()}function y(){m("unpipe"),n.unpipe(e)}return n.on("data",p),C(e,"error",g),e.once("close",b),e.once("finish",v),e.emit("pipe",n),o.flowing||(m("pipe resume"),n.resume()),e},w.prototype.unpipe=function(e){var t=this._readableState,i={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,i),this);if(!e){var n=t.pipes,a=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<a;o++)n[o].emit("unpipe",this,i);return this}var s=K(t.pipes,e);return-1===s?this:(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,i),this)},w.prototype.on=function(e,t){var i=c.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&T(this):a.nextTick(R,this))}return i},w.prototype.addListener=w.prototype.on,w.prototype.resume=function(){var e=this._readableState;return e.flowing||(m("resume"),e.flowing=!0,P(this,e)),this},w.prototype.pause=function(){return m("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(m("pause"),this._readableState.flowing=!1,this.emit("pause")),this},w.prototype.wrap=function(e){var t=this,i=this._readableState,n=!1;for(var a in e.on("end",function(){if(m("wrapped end"),i.decoder&&!i.ended){var e=i.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(a){(m("wrapped data"),i.decoder&&(a=i.decoder.write(a)),!i.objectMode||null!==a&&void 0!==a)&&((i.objectMode||a&&a.length)&&(t.push(a)||(n=!0,e.pause())))}),e)void 0===this[a]&&"function"==typeof e[a]&&(this[a]=function(t){return function(){return e[t].apply(e,arguments)}}(a));for(var o=0;o<y.length;o++)e.on(y[o],this.emit.bind(this,y[o]));return this._read=function(t){m("wrapped _read",t),n&&(n=!1,e.resume())},this},Object.defineProperty(w.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),w._fromList=j}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./_stream_duplex":132,"./internal/streams/BufferList":137,"./internal/streams/destroy":138,"./internal/streams/stream":139,_process:118,"core-util-is":50,events:83,inherits:101,isarray:140,"process-nextick-args":117,"safe-buffer":147,"string_decoder/":141,util:18}],135:[function(e,t,i){"use strict";t.exports=s;var n=e("./_stream_duplex"),a=e("core-util-is");function o(e,t){var i=this._transformState;i.transforming=!1;var n=i.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));i.writechunk=null,i.writecb=null,null!=t&&this.push(t),n(e);var a=this._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}function s(e){if(!(this instanceof s))return new s(e);n.call(this,e),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",r)}function r(){var e=this;"function"==typeof this._flush?this._flush(function(t,i){c(e,t,i)}):c(this,null,null)}function c(e,t,i){if(t)return e.emit("error",t);if(null!=i&&e.push(i),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}a.inherits=e("inherits"),a.inherits(s,n),s.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},s.prototype._transform=function(e,t,i){throw new Error("_transform() is not implemented")},s.prototype._write=function(e,t,i){var n=this._transformState;if(n.writecb=i,n.writechunk=e,n.writeencoding=t,!n.transforming){var a=this._readableState;(n.needTransform||a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}},s.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},s.prototype._destroy=function(e,t){var i=this;n.prototype._destroy.call(this,e,function(e){t(e),i.emit("close")})}},{"./_stream_duplex":132,"core-util-is":50,inherits:101}],136:[function(e,t,i){(function(i,n){"use strict";var a=e("process-nextick-args");function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){R(t,e)}}t.exports=y;var s,r=!i.browser&&["v0.10","v0.9."].indexOf(i.version.slice(0,5))>-1?setImmediate:a.nextTick;y.WritableState=v;var c=e("core-util-is");c.inherits=e("inherits");var h={deprecate:e("util-deprecate")},d=e("./internal/streams/stream"),u=e("safe-buffer").Buffer,l=n.Uint8Array||function(){};function f(e){return u.from(e)}function p(e){return u.isBuffer(e)||e instanceof l}var m,g=e("./internal/streams/destroy");function b(){}function v(t,i){s=s||e("./_stream_duplex"),t=t||{};var n=i instanceof s;this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var a=t.highWaterMark,r=t.writableHighWaterMark,c=this.objectMode?16:16384;this.highWaterMark=a||0===a?a:n&&(r||0===r)?r:c,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var h=!1===t.decodeStrings;this.decodeStrings=!h,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){N(i,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function y(t){if(s=s||e("./_stream_duplex"),!(m.call(y,this)||this instanceof s))return new y(t);this._writableState=new v(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),d.call(this)}function C(e,t){var i=new Error("write after end");e.emit("error",i),a.nextTick(t,i)}function _(e,t,i,n){var o=!0,s=!1;return null===i?s=new TypeError("May not write null values to stream"):"string"==typeof i||void 0===i||t.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(e.emit("error",s),a.nextTick(n,s),o=!1),o}function w(e,t,i){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=u.from(t,i)),t}function S(e,t,i,n,a,o){if(!i){var s=w(t,n,a);n!==s&&(i=!0,a="buffer",n=s)}var r=t.objectMode?1:n.length;t.length+=r;var c=t.length<t.highWaterMark;if(c||(t.needDrain=!0),t.writing||t.corked){var h=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:a,isBuf:i,callback:o,next:null},h?h.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else B(e,t,!1,r,n,a,o);return c}function B(e,t,i,n,a,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,i?e._writev(a,t.onwrite):e._write(a,o,t.onwrite),t.sync=!1}function k(e,t,i,n,o){--t.pendingcb,i?(a.nextTick(o,n),a.nextTick(L,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(o(n),e._writableState.errorEmitted=!0,e.emit("error",n),L(e,t))}function D(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function N(e,t){var i=e._writableState,n=i.sync,a=i.writecb;if(D(i),t)k(e,i,n,t,a);else{var o=T(i);o||i.corked||i.bufferProcessing||!i.bufferedRequest||M(e,i),n?r(A,e,i,o,a):A(e,i,o,a)}}function A(e,t,i,n){i||I(e,t),t.pendingcb--,n(),L(e,t)}function I(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function M(e,t){t.bufferProcessing=!0;var i=t.bufferedRequest;if(e._writev&&i&&i.next){var n=t.bufferedRequestCount,a=new Array(n),s=t.corkedRequestsFree;s.entry=i;for(var r=0,c=!0;i;)a[r]=i,i.isBuf||(c=!1),i=i.next,r+=1;a.allBuffers=c,B(e,t,!0,t.length,a,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;i;){var h=i.chunk,d=i.encoding,u=i.callback;if(B(e,t,!1,t.objectMode?1:h.length,h,d,u),i=i.next,t.bufferedRequestCount--,t.writing)break}null===i&&(t.lastBufferedRequest=null)}t.bufferedRequest=i,t.bufferProcessing=!1}function T(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function G(e,t){e._final(function(i){t.pendingcb--,i&&e.emit("error",i),t.prefinished=!0,e.emit("prefinish"),L(e,t)})}function x(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,a.nextTick(G,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function L(e,t){var i=T(t);return i&&(x(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),i}function E(e,t,i){t.ending=!0,L(e,t),i&&(t.finished?a.nextTick(i):e.once("finish",i)),t.ended=!0,e.writable=!1}function R(e,t,i){var n=e.entry;for(e.entry=null;n;){var a=n.callback;t.pendingcb--,a(i),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}c.inherits(y,d),v.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(v.prototype,"buffer",{get:h.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(m=Function.prototype[Symbol.hasInstance],Object.defineProperty(y,Symbol.hasInstance,{value:function(e){return!!m.call(this,e)||this===y&&(e&&e._writableState instanceof v)}})):m=function(e){return e instanceof this},y.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},y.prototype.write=function(e,t,i){var n=this._writableState,a=!1,o=!n.objectMode&&p(e);return o&&!u.isBuffer(e)&&(e=f(e)),"function"==typeof t&&(i=t,t=null),o?t="buffer":t||(t=n.defaultEncoding),"function"!=typeof i&&(i=b),n.ended?C(this,i):(o||_(this,n,e,i))&&(n.pendingcb++,a=S(this,n,o,e,t,i)),a},y.prototype.cork=function(){this._writableState.corked++},y.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||M(this,e))},y.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),y.prototype._write=function(e,t,i){i(new Error("_write() is not implemented"))},y.prototype._writev=null,y.prototype.end=function(e,t,i){var n=this._writableState;"function"==typeof e?(i=e,e=null,t=null):"function"==typeof t&&(i=t,t=null),null!==e&&void 0!==e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||E(this,n,i)},Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),y.prototype.destroy=g.destroy,y.prototype._undestroy=g.undestroy,y.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./_stream_duplex":132,"./internal/streams/destroy":138,"./internal/streams/stream":139,_process:118,"core-util-is":50,inherits:101,"process-nextick-args":117,"safe-buffer":147,"util-deprecate":160}],137:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=e("safe-buffer").Buffer,o=e("util");function s(e,t,i){e.copy(t,i)}t.exports=function(){function e(){n(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,i=""+t.data;t=t.next;)i+=e+t.data;return i},e.prototype.concat=function(e){if(0===this.length)return a.alloc(0);if(1===this.length)return this.head.data;for(var t=a.allocUnsafe(e>>>0),i=this.head,n=0;i;)s(i.data,t,n),n+=i.data.length,i=i.next;return t},e}(),o&&o.inspect&&o.inspect.custom&&(t.exports.prototype[o.inspect.custom]=function(){var e=o.inspect({length:this.length});return this.constructor.name+" "+e})},{"safe-buffer":147,util:18}],138:[function(e,t,i){"use strict";var n=e("process-nextick-args");function a(e,t){e.emit("error",t)}t.exports={destroy:function(e,t){var i=this,o=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return o||s?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||n.nextTick(a,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(n.nextTick(a,i,e),i._writableState&&(i._writableState.errorEmitted=!0)):t&&t(e)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":117}],139:[function(e,t,i){t.exports=e("events").EventEmitter},{events:83}],140:[function(e,t,i){arguments[4][48][0].apply(i,arguments)},{dup:48}],141:[function(e,t,i){"use strict";var n=e("safe-buffer").Buffer,a=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function s(e){var t=o(e);if("string"!=typeof t&&(n.isEncoding===a||!a(e)))throw new Error("Unknown encoding: "+e);return t||e}function r(e){var t;switch(this.encoding=s(e),this.encoding){case"utf16le":this.text=l,this.end=f,t=4;break;case"utf8":this.fillLast=u,t=4;break;case"base64":this.text=p,this.end=m,t=3;break;default:return this.write=g,void(this.end=b)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function c(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function h(e,t,i){var n=t.length-1;if(n<i)return 0;var a=c(t[n]);return a>=0?(a>0&&(e.lastNeed=a-1),a):--n<i||-2===a?0:(a=c(t[n]))>=0?(a>0&&(e.lastNeed=a-2),a):--n<i||-2===a?0:(a=c(t[n]))>=0?(a>0&&(2===a?a=0:e.lastNeed=a-3),a):0}function d(e,t,i){if(128!=(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"\ufffd"}}function u(e){var t=this.lastTotal-this.lastNeed,i=d(this,e);return void 0!==i?i:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function l(e,t){if((e.length-t)%2==0){var i=e.toString("utf16le",t);if(i){var n=i.charCodeAt(i.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],i.slice(0,-1)}return i}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function f(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var i=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,i)}return t}function p(e,t){var i=(e.length-t)%3;return 0===i?e.toString("base64",t):(this.lastNeed=3-i,this.lastTotal=3,1===i?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-i))}function m(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function g(e){return e.toString(this.encoding)}function b(e){return e&&e.length?this.write(e):""}i.StringDecoder=r,r.prototype.write=function(e){if(0===e.length)return"";var t,i;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";i=this.lastNeed,this.lastNeed=0}else i=0;return i<e.length?t?t+this.text(e,i):this.text(e,i):t||""},r.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t},r.prototype.text=function(e,t){var i=h(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=i;var n=e.length-(i-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},r.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},{"safe-buffer":147}],142:[function(e,t,i){t.exports=e("./readable").PassThrough},{"./readable":143}],143:[function(e,t,i){(i=t.exports=e("./lib/_stream_readable.js")).Stream=i,i.Readable=i,i.Writable=e("./lib/_stream_writable.js"),i.Duplex=e("./lib/_stream_duplex.js"),i.Transform=e("./lib/_stream_transform.js"),i.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":132,"./lib/_stream_passthrough.js":133,"./lib/_stream_readable.js":134,"./lib/_stream_transform.js":135,"./lib/_stream_writable.js":136}],144:[function(e,t,i){t.exports=e("./readable").Transform},{"./readable":143}],145:[function(e,t,i){t.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":136}],146:[function(e,t,i){"use strict";var n=e("buffer").Buffer,a=e("inherits"),o=e("hash-base"),s=new Array(16),r=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],c=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],h=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],d=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],u=[0,1518500249,1859775393,2400959708,2840853838],l=[1352829926,1548603684,1836072691,2053994217,0];function f(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(e,t){return e<<t|e>>>32-t}function m(e,t,i,n,a,o,s,r){return p(e+(t^i^n)+o+s|0,r)+a|0}function g(e,t,i,n,a,o,s,r){return p(e+(t&i|~t&n)+o+s|0,r)+a|0}function b(e,t,i,n,a,o,s,r){return p(e+((t|~i)^n)+o+s|0,r)+a|0}function v(e,t,i,n,a,o,s,r){return p(e+(t&n|i&~n)+o+s|0,r)+a|0}function y(e,t,i,n,a,o,s,r){return p(e+(t^(i|~n))+o+s|0,r)+a|0}a(f,o),f.prototype._update=function(){for(var e=s,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);for(var i=0|this._a,n=0|this._b,a=0|this._c,o=0|this._d,f=0|this._e,C=0|this._a,_=0|this._b,w=0|this._c,S=0|this._d,B=0|this._e,k=0;k<80;k+=1){var D,N;k<16?(D=m(i,n,a,o,f,e[r[k]],u[0],h[k]),N=y(C,_,w,S,B,e[c[k]],l[0],d[k])):k<32?(D=g(i,n,a,o,f,e[r[k]],u[1],h[k]),N=v(C,_,w,S,B,e[c[k]],l[1],d[k])):k<48?(D=b(i,n,a,o,f,e[r[k]],u[2],h[k]),N=b(C,_,w,S,B,e[c[k]],l[2],d[k])):k<64?(D=v(i,n,a,o,f,e[r[k]],u[3],h[k]),N=g(C,_,w,S,B,e[c[k]],l[3],d[k])):(D=y(i,n,a,o,f,e[r[k]],u[4],h[k]),N=m(C,_,w,S,B,e[c[k]],l[4],d[k])),i=f,f=o,o=p(a,10),a=n,n=D,C=B,B=S,S=p(w,10),w=_,_=N}var A=this._b+a+S|0;this._b=this._c+o+B|0,this._c=this._d+f+C|0,this._d=this._e+i+_|0,this._e=this._a+n+w|0,this._a=A},f.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=n.alloc?n.alloc(20):new n(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e},t.exports=f},{buffer:47,"hash-base":85,inherits:101}],147:[function(e,t,i){var n=e("buffer"),a=n.Buffer;function o(e,t){for(var i in e)t[i]=e[i]}function s(e,t,i){return a(e,t,i)}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?t.exports=n:(o(n,i),i.Buffer=s),o(a,s),s.from=function(e,t,i){if("number"==typeof e)throw new TypeError("Argument must not be a number");return a(e,t,i)},s.alloc=function(e,t,i){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=a(e);return void 0!==t?"string"==typeof i?n.fill(t,i):n.fill(t):n.fill(0),n},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return a(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},{buffer:47}],148:[function(e,t,i){var n=e("safe-buffer").Buffer;function a(e,t){this._block=n.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}a.prototype.update=function(e,t){"string"==typeof e&&(t=t||"utf8",e=n.from(e,t));for(var i=this._block,a=this._blockSize,o=e.length,s=this._len,r=0;r<o;){for(var c=s%a,h=Math.min(o-r,a-c),d=0;d<h;d++)i[c+d]=e[r+d];r+=h,(s+=h)%a==0&&this._update(i)}return this._len+=o,this},a.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var i=8*this._len;if(i<=4294967295)this._block.writeUInt32BE(i,this._blockSize-4);else{var n=(4294967295&i)>>>0,a=(i-n)/4294967296;this._block.writeUInt32BE(a,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var o=this._hash();return e?o.toString(e):o},a.prototype._update=function(){throw new Error("_update must be implemented by subclass")},t.exports=a},{"safe-buffer":147}],149:[function(e,t,i){(i=t.exports=function(e){e=e.toLowerCase();var t=i[e];if(!t)throw new Error(e+" is not supported (we accept pull requests)");return new t}).sha=e("./sha"),i.sha1=e("./sha1"),i.sha224=e("./sha224"),i.sha256=e("./sha256"),i.sha384=e("./sha384"),i.sha512=e("./sha512")},{"./sha":150,"./sha1":151,"./sha224":152,"./sha256":153,"./sha384":154,"./sha512":155}],150:[function(e,t,i){var n=e("inherits"),a=e("./hash"),o=e("safe-buffer").Buffer,s=[1518500249,1859775393,-1894007588,-899497514],r=new Array(80);function c(){this.init(),this._w=r,a.call(this,64,56)}function h(e){return e<<5|e>>>27}function d(e){return e<<30|e>>>2}function u(e,t,i,n){return 0===e?t&i|~t&n:2===e?t&i|t&n|i&n:t^i^n}n(c,a),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(e){for(var t=this._w,i=0|this._a,n=0|this._b,a=0|this._c,o=0|this._d,r=0|this._e,c=0;c<16;++c)t[c]=e.readInt32BE(4*c);for(;c<80;++c)t[c]=t[c-3]^t[c-8]^t[c-14]^t[c-16];for(var l=0;l<80;++l){var f=~~(l/20),p=h(i)+u(f,n,a,o)+r+t[l]+s[f]|0;r=o,o=a,a=d(n),n=i,i=p}this._a=i+this._a|0,this._b=n+this._b|0,this._c=a+this._c|0,this._d=o+this._d|0,this._e=r+this._e|0},c.prototype._hash=function(){var e=o.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},t.exports=c},{"./hash":148,inherits:101,"safe-buffer":147}],151:[function(e,t,i){var n=e("inherits"),a=e("./hash"),o=e("safe-buffer").Buffer,s=[1518500249,1859775393,-1894007588,-899497514],r=new Array(80);function c(){this.init(),this._w=r,a.call(this,64,56)}function h(e){return e<<1|e>>>31}function d(e){return e<<5|e>>>27}function u(e){return e<<30|e>>>2}function l(e,t,i,n){return 0===e?t&i|~t&n:2===e?t&i|t&n|i&n:t^i^n}n(c,a),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(e){for(var t=this._w,i=0|this._a,n=0|this._b,a=0|this._c,o=0|this._d,r=0|this._e,c=0;c<16;++c)t[c]=e.readInt32BE(4*c);for(;c<80;++c)t[c]=h(t[c-3]^t[c-8]^t[c-14]^t[c-16]);for(var f=0;f<80;++f){var p=~~(f/20),m=d(i)+l(p,n,a,o)+r+t[f]+s[p]|0;r=o,o=a,a=u(n),n=i,i=m}this._a=i+this._a|0,this._b=n+this._b|0,this._c=a+this._c|0,this._d=o+this._d|0,this._e=r+this._e|0},c.prototype._hash=function(){var e=o.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},t.exports=c},{"./hash":148,inherits:101,"safe-buffer":147}],152:[function(e,t,i){var n=e("inherits"),a=e("./sha256"),o=e("./hash"),s=e("safe-buffer").Buffer,r=new Array(64);function c(){this.init(),this._w=r,o.call(this,64,56)}n(c,a),c.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},c.prototype._hash=function(){var e=s.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},t.exports=c},{"./hash":148,"./sha256":153,inherits:101,"safe-buffer":147}],153:[function(e,t,i){var n=e("inherits"),a=e("./hash"),o=e("safe-buffer").Buffer,s=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],r=new Array(64);function c(){this.init(),this._w=r,a.call(this,64,56)}function h(e,t,i){return i^e&(t^i)}function d(e,t,i){return e&t|i&(e|t)}function u(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function l(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function f(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}function p(e){return(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10}n(c,a),c.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},c.prototype._update=function(e){for(var t=this._w,i=0|this._a,n=0|this._b,a=0|this._c,o=0|this._d,r=0|this._e,c=0|this._f,m=0|this._g,g=0|this._h,b=0;b<16;++b)t[b]=e.readInt32BE(4*b);for(;b<64;++b)t[b]=p(t[b-2])+t[b-7]+f(t[b-15])+t[b-16]|0;for(var v=0;v<64;++v){var y=g+l(r)+h(r,c,m)+s[v]+t[v]|0,C=u(i)+d(i,n,a)|0;g=m,m=c,c=r,r=o+y|0,o=a,a=n,n=i,i=y+C|0}this._a=i+this._a|0,this._b=n+this._b|0,this._c=a+this._c|0,this._d=o+this._d|0,this._e=r+this._e|0,this._f=c+this._f|0,this._g=m+this._g|0,this._h=g+this._h|0},c.prototype._hash=function(){var e=o.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},t.exports=c},{"./hash":148,inherits:101,"safe-buffer":147}],154:[function(e,t,i){var n=e("inherits"),a=e("./sha512"),o=e("./hash"),s=e("safe-buffer").Buffer,r=new Array(160);function c(){this.init(),this._w=r,o.call(this,128,112)}n(c,a),c.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},c.prototype._hash=function(){var e=s.allocUnsafe(48);function t(t,i,n){e.writeInt32BE(t,n),e.writeInt32BE(i,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e},t.exports=c},{"./hash":148,"./sha512":155,inherits:101,"safe-buffer":147}],155:[function(e,t,i){var n=e("inherits"),a=e("./hash"),o=e("safe-buffer").Buffer,s=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],r=new Array(160);function c(){this.init(),this._w=r,a.call(this,128,112)}function h(e,t,i){return i^e&(t^i)}function d(e,t,i){return e&t|i&(e|t)}function u(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function l(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function f(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function p(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function m(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function g(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function b(e,t){return e>>>0<t>>>0?1:0}n(c,a),c.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},c.prototype._update=function(e){for(var t=this._w,i=0|this._ah,n=0|this._bh,a=0|this._ch,o=0|this._dh,r=0|this._eh,c=0|this._fh,v=0|this._gh,y=0|this._hh,C=0|this._al,_=0|this._bl,w=0|this._cl,S=0|this._dl,B=0|this._el,k=0|this._fl,D=0|this._gl,N=0|this._hl,A=0;A<32;A+=2)t[A]=e.readInt32BE(4*A),t[A+1]=e.readInt32BE(4*A+4);for(;A<160;A+=2){var I=t[A-30],M=t[A-30+1],T=f(I,M),G=p(M,I),x=m(I=t[A-4],M=t[A-4+1]),L=g(M,I),E=t[A-14],R=t[A-14+1],P=t[A-32],F=t[A-32+1],U=G+R|0,j=T+E+b(U,G)|0;j=(j=j+x+b(U=U+L|0,L)|0)+P+b(U=U+F|0,F)|0,t[A]=j,t[A+1]=U}for(var O=0;O<160;O+=2){j=t[O],U=t[O+1];var z=d(i,n,a),q=d(C,_,w),V=u(i,C),H=u(C,i),K=l(r,B),J=l(B,r),W=s[O],X=s[O+1],Y=h(r,c,v),Z=h(B,k,D),Q=N+J|0,$=y+K+b(Q,N)|0;$=($=($=$+Y+b(Q=Q+Z|0,Z)|0)+W+b(Q=Q+X|0,X)|0)+j+b(Q=Q+U|0,U)|0;var ee=H+q|0,te=V+z+b(ee,H)|0;y=v,N=D,v=c,D=k,c=r,k=B,r=o+$+b(B=S+Q|0,S)|0,o=a,S=w,a=n,w=_,n=i,_=C,i=$+te+b(C=Q+ee|0,Q)|0}this._al=this._al+C|0,this._bl=this._bl+_|0,this._cl=this._cl+w|0,this._dl=this._dl+S|0,this._el=this._el+B|0,this._fl=this._fl+k|0,this._gl=this._gl+D|0,this._hl=this._hl+N|0,this._ah=this._ah+i+b(this._al,C)|0,this._bh=this._bh+n+b(this._bl,_)|0,this._ch=this._ch+a+b(this._cl,w)|0,this._dh=this._dh+o+b(this._dl,S)|0,this._eh=this._eh+r+b(this._el,B)|0,this._fh=this._fh+c+b(this._fl,k)|0,this._gh=this._gh+v+b(this._gl,D)|0,this._hh=this._hh+y+b(this._hl,N)|0},c.prototype._hash=function(){var e=o.allocUnsafe(64);function t(t,i,n){e.writeInt32BE(t,n),e.writeInt32BE(i,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e},t.exports=c},{"./hash":148,inherits:101,"safe-buffer":147}],156:[function(e,t,i){t.exports=a;var n=e("events").EventEmitter;function a(){n.call(this)}e("inherits")(a,n),a.Readable=e("readable-stream/readable.js"),a.Writable=e("readable-stream/writable.js"),a.Duplex=e("readable-stream/duplex.js"),a.Transform=e("readable-stream/transform.js"),a.PassThrough=e("readable-stream/passthrough.js"),a.Stream=a,a.prototype.pipe=function(e,t){var i=this;function a(t){e.writable&&!1===e.write(t)&&i.pause&&i.pause()}function o(){i.readable&&i.resume&&i.resume()}i.on("data",a),e.on("drain",o),e._isStdio||t&&!1===t.end||(i.on("end",r),i.on("close",c));var s=!1;function r(){s||(s=!0,e.end())}function c(){s||(s=!0,"function"==typeof e.destroy&&e.destroy())}function h(e){if(d(),0===n.listenerCount(this,"error"))throw e}function d(){i.removeListener("data",a),e.removeListener("drain",o),i.removeListener("end",r),i.removeListener("close",c),i.removeListener("error",h),e.removeListener("error",h),i.removeListener("end",d),i.removeListener("close",d),e.removeListener("close",d)}return i.on("error",h),e.on("error",h),i.on("end",d),i.on("close",d),e.on("close",d),e.emit("pipe",i),e}},{events:83,inherits:101,"readable-stream/duplex.js":131,"readable-stream/passthrough.js":142,"readable-stream/readable.js":143,"readable-stream/transform.js":144,"readable-stream/writable.js":145}],157:[function(e,t,i){var n=e("buffer").Buffer,a=n.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){if(e&&!a(e))throw new Error("Unknown encoding: "+e)}var s=i.StringDecoder=function(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),o(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=c;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=h;break;default:return void(this.write=r)}this.charBuffer=new n(6),this.charReceived=0,this.charLength=0};function r(e){return e.toString(this.encoding)}function c(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function h(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}s.prototype.write=function(e){for(var t="";this.charLength;){var i=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,i),this.charReceived+=i,this.charReceived<this.charLength)return"";if(e=e.slice(i,e.length),!((a=(t=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(t.length-1))>=55296&&a<=56319)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var n=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,n),n-=this.charReceived);var a;n=(t+=e.toString(this.encoding,0,n)).length-1;if((a=t.charCodeAt(n))>=55296&&a<=56319){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),e.copy(this.charBuffer,0,0,o),t.substring(0,n)}return t},s.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var i=e[e.length-t];if(1==t&&i>>5==6){this.charLength=2;break}if(t<=2&&i>>4==14){this.charLength=3;break}if(t<=3&&i>>3==30){this.charLength=4;break}}this.charReceived=t},s.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var i=this.charReceived,n=this.charBuffer,a=this.encoding;t+=n.slice(0,i).toString(a)}return t}},{buffer:47}],158:[function(e,t,i){"use strict";var n=e("punycode"),a=e("./util");function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}i.parse=y,i.resolve=function(e,t){return y(e,!1,!0).resolve(t)},i.resolveObject=function(e,t){return e?y(e,!1,!0).resolveObject(t):t},i.format=function(e){a.isString(e)&&(e=y(e));return e instanceof o?e.format():o.prototype.format.call(e)},i.Url=o;var s=/^([a-z0-9.+-]+:)/i,r=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,h=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),d=["'"].concat(h),u=["%","/","?",";","#"].concat(d),l=["/","?","#"],f=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},b={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},v=e("querystring");function y(e,t,i){if(e&&a.isObject(e)&&e instanceof o)return e;var n=new o;return n.parse(e,t,i),n}o.prototype.parse=function(e,t,i){if(!a.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),r=-1!==o&&o<e.indexOf("#")?"?":"#",h=e.split(r);h[0]=h[0].replace(/\\/g,"/");var y=e=h.join(r);if(y=y.trim(),!i&&1===e.split("#").length){var C=c.exec(y);if(C)return this.path=y,this.href=y,this.pathname=C[1],C[2]?(this.search=C[2],this.query=t?v.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var _=s.exec(y);if(_){var w=(_=_[0]).toLowerCase();this.protocol=w,y=y.substr(_.length)}if(i||_||y.match(/^\/\/[^@\/]+@[^@\/]+/)){var S="//"===y.substr(0,2);!S||_&&g[_]||(y=y.substr(2),this.slashes=!0)}if(!g[_]&&(S||_&&!b[_])){for(var B,k,D=-1,N=0;N<l.length;N++){-1!==(A=y.indexOf(l[N]))&&(-1===D||A<D)&&(D=A)}-1!==(k=-1===D?y.lastIndexOf("@"):y.lastIndexOf("@",D))&&(B=y.slice(0,k),y=y.slice(k+1),this.auth=decodeURIComponent(B)),D=-1;for(N=0;N<u.length;N++){var A;-1!==(A=y.indexOf(u[N]))&&(-1===D||A<D)&&(D=A)}-1===D&&(D=y.length),this.host=y.slice(0,D),y=y.slice(D),this.parseHost(),this.hostname=this.hostname||"";var I="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!I)for(var M=this.hostname.split(/\./),T=(N=0,M.length);N<T;N++){var G=M[N];if(G&&!G.match(f)){for(var x="",L=0,E=G.length;L<E;L++)G.charCodeAt(L)>127?x+="x":x+=G[L];if(!x.match(f)){var R=M.slice(0,N),P=M.slice(N+1),F=G.match(p);F&&(R.push(F[1]),P.unshift(F[2])),P.length&&(y="/"+P.join(".")+y),this.hostname=R.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),I||(this.hostname=n.toASCII(this.hostname));var U=this.port?":"+this.port:"",j=this.hostname||"";this.host=j+U,this.href+=this.host,I&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==y[0]&&(y="/"+y))}if(!m[w])for(N=0,T=d.length;N<T;N++){var O=d[N];if(-1!==y.indexOf(O)){var z=encodeURIComponent(O);z===O&&(z=escape(O)),y=y.split(O).join(z)}}var q=y.indexOf("#");-1!==q&&(this.hash=y.substr(q),y=y.slice(0,q));var V=y.indexOf("?");if(-1!==V?(this.search=y.substr(V),this.query=y.substr(V+1),t&&(this.query=v.parse(this.query)),y=y.slice(0,V)):t&&(this.search="",this.query={}),y&&(this.pathname=y),b[w]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){U=this.pathname||"";var H=this.search||"";this.path=U+H}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",i=this.pathname||"",n=this.hash||"",o=!1,s="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&a.isObject(this.query)&&Object.keys(this.query).length&&(s=v.stringify(this.query));var r=this.search||s&&"?"+s||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||b[t])&&!1!==o?(o="//"+(o||""),i&&"/"!==i.charAt(0)&&(i="/"+i)):o||(o=""),n&&"#"!==n.charAt(0)&&(n="#"+n),r&&"?"!==r.charAt(0)&&(r="?"+r),t+o+(i=i.replace(/[?#]/g,function(e){return encodeURIComponent(e)}))+(r=r.replace("#","%23"))+n},o.prototype.resolve=function(e){return this.resolveObject(y(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(a.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var i=new o,n=Object.keys(this),s=0;s<n.length;s++){var r=n[s];i[r]=this[r]}if(i.hash=e.hash,""===e.href)return i.href=i.format(),i;if(e.slashes&&!e.protocol){for(var c=Object.keys(e),h=0;h<c.length;h++){var d=c[h];"protocol"!==d&&(i[d]=e[d])}return b[i.protocol]&&i.hostname&&!i.pathname&&(i.path=i.pathname="/"),i.href=i.format(),i}if(e.protocol&&e.protocol!==i.protocol){if(!b[e.protocol]){for(var u=Object.keys(e),l=0;l<u.length;l++){var f=u[l];i[f]=e[f]}return i.href=i.format(),i}if(i.protocol=e.protocol,e.host||g[e.protocol])i.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),i.pathname=p.join("/")}if(i.search=e.search,i.query=e.query,i.host=e.host||"",i.auth=e.auth,i.hostname=e.hostname||e.host,i.port=e.port,i.pathname||i.search){var m=i.pathname||"",v=i.search||"";i.path=m+v}return i.slashes=i.slashes||e.slashes,i.href=i.format(),i}var y=i.pathname&&"/"===i.pathname.charAt(0),C=e.host||e.pathname&&"/"===e.pathname.charAt(0),_=C||y||i.host&&e.pathname,w=_,S=i.pathname&&i.pathname.split("/")||[],B=(p=e.pathname&&e.pathname.split("/")||[],i.protocol&&!b[i.protocol]);if(B&&(i.hostname="",i.port=null,i.host&&(""===S[0]?S[0]=i.host:S.unshift(i.host)),i.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),_=_&&(""===p[0]||""===S[0])),C)i.host=e.host||""===e.host?e.host:i.host,i.hostname=e.hostname||""===e.hostname?e.hostname:i.hostname,i.search=e.search,i.query=e.query,S=p;else if(p.length)S||(S=[]),S.pop(),S=S.concat(p),i.search=e.search,i.query=e.query;else if(!a.isNullOrUndefined(e.search)){if(B)i.hostname=i.host=S.shift(),(I=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@"))&&(i.auth=I.shift(),i.host=i.hostname=I.shift());return i.search=e.search,i.query=e.query,a.isNull(i.pathname)&&a.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.href=i.format(),i}if(!S.length)return i.pathname=null,i.search?i.path="/"+i.search:i.path=null,i.href=i.format(),i;for(var k=S.slice(-1)[0],D=(i.host||e.host||S.length>1)&&("."===k||".."===k)||""===k,N=0,A=S.length;A>=0;A--)"."===(k=S[A])?S.splice(A,1):".."===k?(S.splice(A,1),N++):N&&(S.splice(A,1),N--);if(!_&&!w)for(;N--;N)S.unshift("..");!_||""===S[0]||S[0]&&"/"===S[0].charAt(0)||S.unshift(""),D&&"/"!==S.join("/").substr(-1)&&S.push("");var I,M=""===S[0]||S[0]&&"/"===S[0].charAt(0);B&&(i.hostname=i.host=M?"":S.length?S.shift():"",(I=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@"))&&(i.auth=I.shift(),i.host=i.hostname=I.shift()));return(_=_||i.host&&S.length)&&!M&&S.unshift(""),S.length?i.pathname=S.join("/"):(i.pathname=null,i.path=null),a.isNull(i.pathname)&&a.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.auth=e.auth||i.auth,i.slashes=i.slashes||e.slashes,i.href=i.format(),i},o.prototype.parseHost=function(){var e=this.host,t=r.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},{"./util":159,punycode:125,querystring:128}],159:[function(e,t,i){"use strict";t.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},{}],160:[function(e,t,i){(function(e){function i(t){try{if(!e.localStorage)return!1}catch(e){return!1}var i=e.localStorage[t];return null!=i&&"true"===String(i).toLowerCase()}t.exports=function(e,t){if(i("noDeprecation"))return e;var n=!1;return function(){if(!n){if(i("throwDeprecation"))throw new Error(t);i("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],161:[function(require,module,exports){var indexOf=require("indexof"),Object_keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var i in e)t.push(i);return t},forEach=function(e,t){if(e.forEach)return e.forEach(t);for(var i=0;i<e.length;i++)t(e[i],i,e)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(e,t,i){Object.defineProperty(e,t,{writable:!0,enumerable:!1,configurable:!0,value:i})}}catch(e){return function(e,t,i){e[t]=i}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(e){if(!(this instanceof Script))return new Script(e);this.code=e};Script.prototype.runInContext=function(e){if(!(e instanceof Context))throw new TypeError("needs a 'context' argument.");var t=document.createElement("iframe");t.style||(t.style={}),t.style.display="none",document.body.appendChild(t);var i=t.contentWindow,n=i.eval,a=i.execScript;!n&&a&&(a.call(i,"null"),n=i.eval),forEach(Object_keys(e),function(t){i[t]=e[t]}),forEach(globals,function(t){e[t]&&(i[t]=e[t])});var o=Object_keys(i),s=n.call(i,this.code);return forEach(Object_keys(i),function(t){(t in e||-1===indexOf(o,t))&&(e[t]=i[t])}),forEach(globals,function(t){t in e||defineProp(e,t,i[t])}),document.body.removeChild(t),s},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(e){var t=Script.createContext(e),i=this.runInContext(t);return forEach(Object_keys(t),function(i){e[i]=t[i]}),i},forEach(Object_keys(Script.prototype),function(e){exports[e]=Script[e]=function(t){var i=Script(t);return i[e].apply(i,[].slice.call(arguments,1))}}),exports.createScript=function(e){return exports.Script(e)},exports.createContext=Script.createContext=function(e){var t=new Context;return"object"==typeof e&&forEach(Object_keys(e),function(i){t[i]=e[i]}),t}},{indexof:100}],CallAndRecall:[function(e,t,i){"use strict";cc._RF.push(t,"5bda8fBLUZAl7HQ5k7q7c3c","CallAndRecall");var n=function(e){return e&&e.__esModule?e:{default:e}}(e("net"));e("url");var a=e("GameDataCenter").getInstance();cc.Class({extends:cc.Component,properties:{callTotalLabel:cc.Label,layout:cc.Node,callItem:cc.Prefab},start:function(){var e=this;cc.log("CallAndRecall.js-----"),new Promise(function(e){n.default.requestApiGet("query","?type=calling",function(t){cc.log("\u8bf7\u6c42\u6210\u529f\uff0cresponse= ",t),e(t.response)},function(e){cc.log("\u8bf7\u6c42\u5931\u8d25fail--\x3e",e)})}).then(function(t){cc.log("promise-then",t),e.callRes=t[0],e.recallRes=t[1];for(var i=0,n=0;i<a.isGetArr.length;i++)n+=a.isGetArr[i];if(a.coinArr.length&&n!=a.isGetArr.length)e.callTask();else{if(cc.log("24---!gameDataCenter.coinArr.length",!a.coinArr.length),e.node.getChildByName("call_title").active=!1,e.node.getChildByName("call_btn").active=!1,e.node.getChildByName("recall_title").active=!0,e.node.getChildByName("recall_btn").active=!0,a.saveData(),e.recallTask(),!a.coinArr.length)return;cc.log("\u53ec\u5524\u4efb\u52a1\u5956\u52b1\u5df2\u5168\u90e8\u9886\u53d6");for(i=0;i<a.isGetArr.length;i++)a.isGetArr[i]=0;cc.log("\u5faa\u73af\u8bbe\u7f6e\u65b0\u7684\u51680\u6570\u7ec4",a.isGetArr),a.coinArr=[],a.saveData()}})},createPrefab:function(){var e=cc.instantiate(this.callItem);return e.parent=this.layout,e},callTask:function(){var e=this.callRes;this.callTotalLabel.string=cc.gameConfig.gameString.callFullLabel+"\uff08"+e+"/100\uff09";for(var t=a.callArr,i=a.coinArr,n=0;n<t.length;n++){var o=this.createPrefab().getComponent("CallItem");e>t[n]?o.setData(t[n],t[n],i[n],!0,n+""):o.setData(t[n],e,i[n])}},recallTask:function(){var e=this.recallRes;this.callTotalLabel.string=cc.gameConfig.gameString.recallFullLabel+"\uff08"+e+"/100\uff09";var t=a.callArr,i=a.recallCoinArr;cc.log("recallCoinArr",i);for(var n=0;n<t.length;n++){var o=this.createPrefab().getComponent("CallItem");e>t[n]?o.setData(t[n],t[n],i[n],!0,n+""):o.setData(t[n],e,i[n])}},onShareToCall:function(){},onClose:function(){this.node.destroy()}}),cc._RF.pop()},{GameDataCenter:"GameDataCenter",net:void 0,url:158}],CallItem:[function(e,t,i){"use strict";cc._RF.push(t,"60d4fmN1e1HXawpdeamTiE1","CallItem");var n=e("GameDataCenter").getInstance();cc.Class({extends:cc.Component,properties:{callLabel:cc.Label,prizeLabel:cc.Label,getBtn:cc.Button},setData:function(e,t,i,n,a){this.num=e,this.subNum=t,this.coin=i,n&&(this.isFinish=n),a&&(this.index=parseInt(a))},start:function(){var e;n.isGetArr[this.index]&&this.node.destroy(),e=n.coinArr.length?cc.gameConfig.gameString.callLabel:cc.gameConfig.gameString.recallLabel,this.callLabel.string=e+"\uff08"+this.subNum+"/"+this.num+"\uff09"+cc.gameConfig.gameString.playerLabel,this.prizeLabel.string=cc.gameConfig.gameString.prizeLabel+"\uff1a"+this.coin,this.getBtn.getComponent(cc.Button).interactable=!!this.isFinish},onGet:function(){this.node.destroy(),n.totalCoins+=this.coin,n.isGetArr[this.index]=1,n.saveData()}}),cc._RF.pop()},{GameDataCenter:"GameDataCenter"}],CardItem:[function(e,t,i){"use strict";cc._RF.push(t,"02a0cSO65xJZLaw/EI7U02X","CardItem"),cc.Class({extends:cc.Component,properties:{questionNode:cc.Node,showNode:cc.Node,lightNode:cc.Node,showIconNode:cc.Node,nameLabel:cc.Label,bagsLabel:cc.Label},start:function(){},setItemData:function(e,t,i,n,a,o){e?this.bagsLabel.node.active=!1:(this.questionNode.active=!1,this.lightNode.active=!1,this.showNode.active=!0),this.isDouble=o,this.showNode.getChildByName("bg").active=t<=1,this.nameLabel.node.active=t<=1,this.showIconNode.getComponent(cc.Sprite).spriteFrame=i,t<=1&&(this.nameLabel.string=n),this.bagsLabel.string="/"+a},setComposeCard:function(e){this.questionNode.active=!1,this.showNode.active=!0,this.lightNode.opacity=0,this.bagsLabel.node.active=!1,this.showNode.getChildByName("bg").active=!1,this.nameLabel.node.active=!1,this.nameLabel.node.active=!1,this.showIconNode.getComponent(cc.Sprite).spriteFrame=e},playClickAudio:function(){cc.audioComponent.play("click_card")},playShowAudio:function(){this.isDouble?cc.audioComponent.play("extra_award"):cc.audioComponent.play("show_card")}}),cc._RF.pop()},{}],ChangeBike:[function(e,t,i){"use strict";cc._RF.push(t,"dc28eDDG35FPZg3MV0d8t9M","ChangeBike");o(e("share")),o(e("videoAd")),o(e("statistics"));var n=o(e("banner")),a=o(e("ChanneConfig"));function o(e){return e&&e.__esModule?e:{default:e}}var s=e("GameDataCenter").getInstance(),r=a.default.channelId;cc.Class({extends:cc.Component,properties:{_path:"bike/bike",equipmentBtn:cc.Node,prevBtn:cc.Node,nextBtn:cc.Node},showIcon:function(e){cc.log("\u663e\u793a\u56fe\u7247",e);var t=this.node.getChildByName("show");t.getChildByName("equipment").active=e==s.curUseBike;var i=this;t&&cc.loader.loadRes(this._path+e,cc.SpriteFrame,function(n,a){if(!n){if(t.isValid)t.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=a,i.showIconName(e);i.refreshDescription()}})},showIconName:function(e){var t=this;cc.loader.loadRes("bike/bike_name_"+e,cc.SpriteFrame,function(e,i){e||(t.node.getChildByName("show").getChildByName("bikeName").getComponent(cc.Sprite).spriteFrame=i)})},refreshDescription:function(){for(var e=this.node.getChildByName("msg"),t=0;t<e.children.length;t++){var i="",n="";switch(t){case 0:i="maxSpeed",n="upgradeMaxSpeed";break;case 1:i="accRate",n="upgradeAccRate";break;case 2:i="maxSteer",n="upgradeMaxSteer";break;case 3:i="steerRate",n="upgradeSteerRate"}var a=this.getBikeUpgradeData(this._idx+1,i,n,t),o=303*Number(a.totalPercent),r=s.getBikeUpgrade(this._idx);e.children[t].getChildByName("purple").active=r[t]>0,e.children[t].getChildByName("purple").width=o,e.children[t].getChildByName("red").width=o*Number(a.currentPercent),e.children[t].getChildByName("value").active=!0;var c=0==t?Math.floor(10*a.curVal)/10:1==t?a.curVal:Math.floor(a.curVal);e.children[t].getChildByName("value").getComponent(cc.Label).string=c+""}},getBikeUpgradeData:function(e,t,i,n){for(var a=function(e){return e.reduce(function(e,t){return Number(e)+Number(t)})},o=0,r=0,c=[],h=0,d=0;d<cc.gameConfig.bikeData.length;d++){var u=cc.gameConfig.bikeData[d],l=Number(u[t])+a(u[i]);o=Math.max(l,o),u.id==e&&(r=Number(u[t]),c=u[i],h=l)}var f=s.getBikeUpgrade(e-1),p=r+s.getUpgradeData(c,f[n]),m=0==o?0:Number(h/o),g=0==h?0:Number(p/h);return{id:e,curVal:p.toFixed(2),curMaxVal:h.toFixed(2),maxVal:o.toFixed(2),totalPercent:m.toFixed(2),currentPercent:g.toFixed(2)}},setButtonState:function(){this._idx==s.curUseBike?(this.equipmentBtn.getComponent(cc.Button).interactable=!1,cc.uiCenter.setState(this.equipmentBtn.getChildByName("bg").getComponent(cc.Sprite),0)):(this.equipmentBtn.getComponent(cc.Button).interactable=!0,cc.uiCenter.setState(this.equipmentBtn.getChildByName("bg").getComponent(cc.Sprite),1))},onLoad:function(){this._idx=s.curUseBike,this.updateBikeDetails(s.curUseBike),this.node.getChildByName("btn_close").active=!0},start:function(){this.isControl=!1,this.node.getChildByName("control").on(cc.Node.EventType.TOUCH_MOVE,this.onControlMove,this),this.node.getChildByName("control").on(cc.Node.EventType.TOUCH_END,this.onControlEnd,this),this.node.getChildByName("control").on(cc.Node.EventType.TOUCH_CANCEL,this.onControlEnd,this)},onSelectBike:function(){cc.audioComponent.play("button"),s.curUseBike=this._idx,s.saveData(),this.updateBikeDetails(this._idx)},onControlEnd:function(){this.isControl=!1},onControlMove:function(e){this.isControl||(this.isControl=!0,e.touch.getStartLocation().x-e.touch._point.x>0?this.onNext():this.onPrev())},updateBikeDetails:function(e){this._idx=e;var t=s.getBikeIdSortArr(!0);this.showIcon(e),this.setChangeButton(e,t.length-1),this.setButtonState(e)},onPrev:function(e){cc.audioComponent.play("button");var t=s.getBikeIdSortArr(!0);if(t&&t.length>0)for(var i=0;i<t.length;i++)if(t[i]==this._idx&&i>0)return void this.updateBikeDetails(t[i-1])},onNext:function(e){cc.audioComponent.play("button");var t=s.getBikeIdSortArr(!0);if(t&&t.length>0)for(var i=0;i<t.length;i++)if(t[i]==this._idx&&i<t.length-1)return void this.updateBikeDetails(t[i+1])},setChangeButton:function(e,t){this.prevBtn.color=this.nextBtn.color=new cc.Color(255,255,255),this.prevBtn.opacity=this.nextBtn.opacity=255,this.prevBtn.getComponent(cc.Button).interactable=this.nextBtn.getComponent(cc.Button).interactable=!0,e<=0&&(this.prevBtn.getComponent(cc.Button).interactable=!1,this.prevBtn.color=new cc.Color(103,103,103),this.prevBtn.opacity=200),e>=t&&(this.nextBtn.getComponent(cc.Button).interactable=!1,this.nextBtn.color=new cc.Color(103,103,103),this.nextBtn.opacity=200)},onClose:function(){cc.audioComponent.play("button"),this.node.destroy()},onEnable:function(){-1==s.newGuidelinesCount&&r==a.default.toutiao&&n.default.show("main")},onDisable:function(){r==a.default.toutiao&&(n.default.hide(),-1==s.newGuidelinesCount&&window.InterstitialAd.createInterstitialAdByAdId("main"))}}),cc._RF.pop()},{ChanneConfig:void 0,GameDataCenter:"GameDataCenter",banner:void 0,share:void 0,statistics:void 0,videoAd:void 0}],CheckIn:[function(e,t,i){"use strict";cc._RF.push(t,"51cd78jxM9NF5zRstvO3kIO","CheckIn");var n=h(e("buttonConfig")),a=h(e("share")),o=h(e("videoAd")),s=h(e("statistics")),r=h(e("banner")),c=(h(e("login")),h(e("ChanneConfig")));function h(e){return e&&e.__esModule?e:{default:e}}var d=c.default.channelId,u=e("GameDataCenter").getInstance();cc.Class({extends:cc.Component,properties:{day1Node:cc.Node,day2Node:cc.Node,day3Node:cc.Node,day4Node:cc.Node,day5Node:cc.Node,day6Node:cc.Node,day7Node:cc.Node,doubleGetBtn:cc.Node,updateCallback:function(){},turnTableScene:cc.Prefab,gainPrefab:cc.Prefab},loadCheckinList:function(){for(var e=1;e<=7;e++){var t=this.checkinToday?this.checkinTimes==e:this.checkinTimes+1==e;this.loadCheckinItem(this["day"+e+"Node"],cc.gameConfig.checkinData[e-1],this.checkinTimes>=e,t)}if(6==this.checkinTimes||this.checkinTimes>6){this.loadCheckinItem(this.day7Node,cc.gameConfig.checkinData[6],this.checkinTimes>=7,!0);for(var i=!0,n=u.getBikeDataFragment(),a=0;a<n.length;a++)if(!n[a].buyed&&n[a].fragment<n[a].cost){i=!1;break}for(var o=0;o<this.doubleGetBtn.children.length;o++)cc.uiCenter.setState(this.doubleGetBtn.children[o].getComponent(cc.Sprite),i?1:0);i&&this.doubleGetBtn.getComponent(cc.Animation).play()}},loadCheckinItem:function(e,t,i,n){e.getChildByName("received").active=i,e.getComponent(cc.Button).interactable=n&&!i,7!=t.id&&(e.getChildByName("selected").active=n,i&&(e.getChildByName("selected").getChildByName("selected").active=!1),e.getChildByName("number").getComponent(cc.Label).string=t.awards[0].totalNum+"",this.loadPic(e,t.res))},loadPic:function(e,t){cc.loader.loadRes(t,cc.SpriteFrame,function(t,i){t||e.isValid&&(e.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=i)})},getCheckInDays:function(e){var t=(new Date).setHours(0,0,0,0)-new Date(e).setHours(0,0,0,0);return parseInt(t/864e5)},resetCheckIn:function(){u.resetCheckIn(),u.saveData(),this.checkinTimes=u.checkinTimes},setAward:function(e){if(e){var t=cc.instantiate(this.gainPrefab),i=parseInt(e.awards.totalNum)*(this.doubleDraw?2:1);t.getComponent("gainModel").setData(3,e,i),t.on("onClose",this.close,this),this.node.addChild(t)}},checkinSuccess:function(){this.checkinToday=!0,this.checkinTimes++,cc.loading.getCustomData()&&"upgradeGuidelines"==cc.loading.getCustomData().cmd&&u.newGuidelinesCount<7&&(u.newGuidelinesCount=7,u.saveData());for(var e=0;e<cc.gameConfig.checkinData.length;e++){var t=cc.gameConfig.checkinData[e];if(t.id==this.checkinTimes){if(t.awards.length>1){for(var i=u.getBikeDataFragment(),n=null,a=0;a<i.length;a++)if(!i[a].buyed&&i[a].fragment<i[a].cost){n={type:0,id:i[a].id-1,res:"award/card_"+(i[a].id-1),awards:t.awards[0]};break}n||(n={res:t.res,awards:t.awards[1],isDouble:this.doubleDraw?2:1}),this.setAward(n)}else this.setAward({name:t.name,res:t.res,awards:t.awards[0],isDouble:this.doubleDraw?2:1});for(var o=0;o<this.doubleGetBtn.children.length;o++)cc.uiCenter.setState(this.doubleGetBtn.children[o].getComponent(cc.Sprite),0);this.doubleGetBtn.getComponent(cc.Animation).play();break}}u.setCheckIn(),u.saveData(),this["day"+this.checkinTimes+"Node"].getChildByName("received").active=!0,this["day"+this.checkinTimes+"Node"].getComponent(cc.Button).interactable=!1,this.doubleGetBtn.getComponent(cc.Button).interactable=!1,this.doubleGetBtn.getComponent(cc.Animation).stop(),this.updateCallback&&this.updateCallback()},onGet:function(){cc.audioComponent.play("button"),cc.loading.getCustomData()&&"upgradeGuidelines"==cc.loading.getCustomData().cmd&&u.newGuidelinesCount>=0&&u.newGuidelinesCount<=6&&cc.eventCenter.emit("changeGuidelines",6,!1),this.doubleDraw=!1,this.checkinSuccess(),s.default.setSceneEvent("\u6bcf\u65e5\u7b7e\u5230","\u70b9\u51fb","\u7b7e\u5230-\u9886\u53d6")},onDoubleGet:function(){s.default.setSceneEvent("\u6bcf\u65e5\u7b7e\u5230","\u70b9\u51fb","\u7b7e\u5230-\u53cc\u500d"),this.doubleDraw=!0;var e=this.checkinSuccess.bind(this);"share"==n.default.getState("zhujiemianqiandao",0)?a.default.shareToSociety({shareType:1,buttonKey:"zhujiemianqiandao"},e):o.default.show("zhujiemianqiandao",e)},onShareAndClose:function(){this.onCloseGainNode()},onCloseGainNode:function(){cc.audioComponent.play("button"),this.gainNode.active=!1},onClose:function(){cc.audioComponent.play("button"),this.close()},close:function(){this.isAutoOpen&&u.freeTurnNum<1&&(this.isOpenTurnTable=!0,this.openTurnTable()),this.node.emit("onClose"),this.node.destroy()},openTurnTable:function(){var e=cc.instantiate(this.turnTableScene);this.node.parent.addChild(e)},onShareFriend:function(){this.shareFriend=!this.shareFriend,this.shareFriendBtn.getChildByName("on").active=this.shareFriend},onLoad:function(){if(this.checkinToday=!1,this.checkinTimes=0,u.lastCheckinDate){cc.log(u.lastCheckinDate);var e=this.getCheckInDays(u.lastCheckinDate);if(cc.log(e),e<=1)if(this.checkinToday=0==e,this.checkinTimes=u.checkinTimes,0==e||this.checkinToday){this.doubleGetBtn.getComponent(cc.Button).interactable=!1;for(var t=0;t<this.doubleGetBtn.children.length;t++)cc.uiCenter.setState(this.doubleGetBtn.children[t].getComponent(cc.Sprite),0);this.doubleGetBtn.getComponent(cc.Animation).stop()}else this.checkinTimes>=7&&this.resetCheckIn();else this.resetCheckIn()}else this.resetCheckIn();this.doubleDraw=!1,this.loadCheckinList(),this.isAutoOpen=!1,this.node.getChildByName("btn_close").active=!1,this.schedule(function(){this.node.getChildByName("btn_close").active=!0},2)},start:function(){cc.loading.getCustomData()&&"upgradeGuidelines"==cc.loading.getCustomData().cmd&&u.newGuidelinesCount>0&&u.newGuidelinesCount<7&&this.scheduleOnce(function(){this.node.getChildByName("infoPanel").emit("show_coins_animation"),this.node.getChildByName("infoPanel").emit("show_diamonds_animation")},.5)},onEnable:function(){-1==u.newGuidelinesCount&&d==c.default.toutiao&&r.default.show("main")},onDisable:function(){d==c.default.toutiao&&(r.default.hide(),-1==u.newGuidelinesCount&&window.InterstitialAd.createInterstitialAdByAdId("main"))}}),cc._RF.pop()},{ChanneConfig:void 0,GameDataCenter:"GameDataCenter",banner:void 0,buttonConfig:void 0,login:void 0,share:void 0,statistics:void 0,videoAd:void 0}],CoinLabel:[function(e,t,i){"use strict";cc._RF.push(t,"2f0c4pbqX9IFq+49FV6Tph9","CoinLabel");var n=e("GameDataCenter").getInstance();cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.isMini=!0,this.updateTotalCoins()},start:function(){cc.eventCenter.on("total_coins_change",this.updateTotalCoins,this)},updateTotalCoins:function(){var e=n.totalCoins;if(this.isMini){var t=e<1e3?e:e<1e4?Math.floor(e/100)/10+"k":Math.floor(e/1e3)/10+"w";this.node.getComponent(cc.Label).string=t+""}else this.node.getComponent(cc.Label).string=e+""}}),cc._RF.pop()},{GameDataCenter:"GameDataCenter"}],CreatUserIcon:[function(e,t,i){"use strict";cc._RF.push(t,"30e2co/kKpNM6dusJvA3QWt","CreatUserIcon");var n=e("GameDataCenter").getInstance();cc.Class({extends:cc.Component,properties:{layout:cc.Node,userIcon:cc.Prefab},onLoad:function(){this.showIcon(),"userIcon"!=n.avatarUrl.substring(0,8)&&this.onItemSelected("",1)},start:function(){},showIcon:function(){this.layout.removeAllChildren();for(var e=function(e,t){cc.loader.loadRes("userIcon/"+t,cc.SpriteFrame,function(t,i){t||(e.getComponent(cc.Sprite).spriteFrame=i)})},t=1;t<=30;t++){var i=cc.instantiate(this.userIcon);i.getChildByName("select").active=!1;var n=new cc.Component.EventHandler;n.target=this.node,n.component="CreatUserIcon",n.handler="onItemSelected",n.customEventData=t.toString(),i.getComponent(cc.Button).clickEvents.push(n),this.layout.addChild(i),e(i,t)}},onItemSelected:function(e,t){cc.audioComponent.play("button"),cc.log("\u9009\u4e2d\u5934\u50cf",t),this._selectedItemId=parseInt(t);for(var i=0;i<30;i++)this.layout.children[i].getChildByName("select").active=i==this._selectedItemId-1},onConfirm:function(){n.avatarUrl="userIcon/"+this._selectedItemId,n.saveData(),this.node.active=!1},onClose:function(){cc.audioComponent.play("button"),this.node.active=!1},onEnable:function(){},onDisable:function(){}}),cc._RF.pop()},{GameDataCenter:"GameDataCenter"}],CreatUserName:[function(e,t,i){"use strict";cc._RF.push(t,"b9255XC5wNAUZqKoKHS+x0U","CreatUserName");var n=e("GameDataCenter").getInstance();cc.Class({extends:cc.Component,properties:{userName:cc.EditBox},onLoad:function(){},start:function(){},onConfirm:function(){this.userName.string?(n.username=this.userName.string,n.saveData()):(cc.toast.node.zIndex=1,cc.toast.show(cc.gameConfig.gameString.changeNameFail,1)),this.node.active=!1},onClose:function(){this.userName.string||cc.toast.show(cc.gameConfig.gameString.changeNameFail,1),cc.audioComponent.play("button"),this.node.active=!1},onEnable:function(){},onDisable:function(){}}),cc._RF.pop()},{GameDataCenter:"GameDataCenter"}],Director:[function(e,t,i){"use strict";cc._RF.push(t,"cc4c0OHB91I75USh7B47qRo","Director");var n=o(e("banner")),a=o(e("login"));function o(e){return e&&e.__esModule?e:{default:e}}var s=e("GameDataCenter").getInstance();cc.Class({extends:cc.Component,properties:{directFrame:{default:[],type:cc.SpriteFrame},left:cc.Button,right:cc.Button,startBtn:cc.Node},onLoad:function(){this.index=null,this.maxIndex=this.directFrame.length-1,this.setIndex(0)},start:function(){},onClose:function(){cc.audioComponent.play("button"),this.node.emit("onClose"),this.node.active=!1},onDirectLeft:function(){cc.audioComponent.play("button"),this.setIndex(this.index-1)},onDirectRight:function(){cc.audioComponent.play("button"),this.setIndex(this.index+1)},setIndex:function(e){e!=this.index&&(this.index=e,this.index<=0?(this.index=0,this.left.node.active=!1):this.left.node.active=!0,this.index>=this.maxIndex?(this.index=this.maxIndex,this.right.node.active=!1,this.startBtn&&(this.startBtn.active=!0)):(this.right.node.active=!0,this.startBtn&&(this.startBtn.active=!1)),this.node.getChildByName("picture").getComponent(cc.Sprite).spriteFrame=this.directFrame[this.index])},onGoToMap:function(){cc.log("\u5173\u95ed\u6309\u94ae"),s.isOverDirector=!0,cc.audioComponent.play("button"),this.node.active=!1},onEnable:function(){n.default.hide(),a.default.hideLogin()},onDisable:function(){"MainScene"==cc.loading.preloadScene&&a.default.showLogin()}}),cc._RF.pop()},{GameDataCenter:"GameDataCenter",banner:void 0,login:void 0}],DisplayText:[function(e,t,i){"use strict";cc._RF.push(t,"cc18d21DVhAoJ8cElxOK79T","DisplayText"),cc.Class({extends:cc.Component,properties:{atlasName:"numbers",scale:1},getSpriteFrameName:function(e){var t=this._text[e];switch(t){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":t=t;break;case":":t="maohao";break;case".":t="point";break;case"/":t="xiegan";break;case"+":t="plus";break;case"|":t="shuhao";break;default:t=""}return t},drawText:function(){for(var e=0;e<this._length;e++){var t=this.getSpriteFrameName(e),i=this.node.children[e];i.getComponent(cc.Sprite).spriteFrame=this._atlas.getSpriteFrame(t),i.setScale(this.scale),i.x=24*e*this.scale,i.active=!0}},start:function(){this._text=this.node.getComponent(cc.Label).string,this._length=this._text.length,this.node.getComponent(cc.Label).fontSize=0;for(var e=0;e<this._length;e++){var t=new cc.Node;t.addComponent(cc.Sprite).active=!1,this.node.addChild(t)}if(this.atlasName){var i=this;cc.loader.loadRes(i.atlasName,cc.SpriteAtlas,function(e,t){e||(i._atlas=t,i.drawText())})}},onLoad:function(){},update:function(e){var t=this.node.getComponent(cc.Label).string;this._atlas&&t!=this._text&&(this._text=t,this.drawText())}}),cc._RF.pop()},{}],ExperienceAeard:[function(e,t,i){"use strict";cc._RF.push(t,"0e69fETUGVHGI99BlrzpNzq","ExperienceAeard");var n=e("GameDataCenter").getInstance();cc.Class({extends:cc.Component,properties:{icons:{type:cc.Sprite,default:[]},nums:{type:cc.Label,default:[]},nameLabel:cc.Label,timeLabel:cc.Label,launch:cc.Node,layout:cc.Layout},setData:function(e){var t=this;this.data=e,this.nameLabel.string=e.name;var i=0,n=function(){var n=t.icons[i],o=t.nums[i];i++,n&&(n.spriteFrame=null,cc.loading.loadRes(a,cc.SpriteFrame,function(e,t){this.isValid&&(n.spriteFrame=t)}.bind(t))),o&&(o.string=e.prize[a])};for(var a in e.prize)n();this.launch.active=e.launch,e.launch?this.layout.spacingX=20:this.layout.spacingX=70},start:function(){this.startGameTime=5,this.onStartGameTime(),this.schedule(this.onStartGameTime,1)},onStartGameTime:function(){this.timeLabel.string=this.startGameTime,this.startGameTime--,this.startGameTime<0&&(this.unschedule(this.onStartGameTime),this.startGame())},onStartGame:function(){cc.audioComponent.play("button"),this.startGame()},startGame:function(){var e=["accel"];for(var t in this.data.prize)"accel"!=t&&e.push(t);var i=n.getGameDaoJuList();if(e.length<3)for(var a=0;a<i.length;a++){var o=i[a];if("accel"!=o&&!this.data.prize[o]&&e.unshift(o)>=3)break}this.node.emit("onStartGame",this.data.prize,this.data.launch,e),cc.log("onStartGame1 = "),this.node.destroy()},onClose:function(){cc.audioComponent.play("button"),this.node.emit("onClose"),this.node.destroy()}}),cc._RF.pop()},{GameDataCenter:"GameDataCenter"}],ExperienceItem:[function(e,t,i){"use strict";cc._RF.push(t,"a1ed3OeopxBJbbXqrM10AXG","ExperienceItem");a(e("buttonConfig")),a(e("share"));var n=a(e("videoAd"));a(e("statistics"));function a(e){return e&&e.__esModule?e:{default:e}}var o=e("GameDataCenter").getInstance();cc.Class({extends:cc.Component,properties:{icons:{type:cc.Sprite,default:[]},nums:{type:cc.Label,default:[]},stars:{type:cc.Node,default:[]},winLabel:cc.Node,launch:cc.Node,layout:cc.Layout,getVideoBtn:cc.Node,buyPropsBtn:cc.Node,winSprite:[cc.SpriteFrame]},start:function(){},setData:function(e){var t=this;this.data=e,this.icons[1].node.active=!1,this.nums[2].node.active=!1;var i="60%"==e.win?0:"80%"==e.win?1:2;this.winLabel.getComponent(cc.Sprite).spriteFrame=this.winSprite[i];var n=0,a=0,o=function(){var i=t.icons[a],o=t.nums[n];n++,"oil"==s&&(t.icons[1].node.active=!0,t.nums[2].node.active=!0),"accel"!=s&&(a++,i&&(i.spriteFrame=null,cc.loading.loadRes("prop/"+s,cc.SpriteFrame,function(e,t){i.spriteFrame=t}.bind(t)))),o&&(o.string=e.props[s])};for(var s in e.props)o();for(var r=0;r<this.stars.length;r++)r<e.star?this.stars[r].active=!0:this.stars[r].active=!1;this.prize=e.prize,this.getVideoBtn.active=-1==e.prize,this.buyPropsBtn.active=-1!=e.prize,-1!=e.prize&&(this.buyPropsBtn.getChildByName("prize").getComponent(cc.Label).string=e.prize+"")},onGet:function(){if(cc.audioComponent.play("button"),-1!=this.prize){if(o.totalDiamonds<this.prize)return cc.toast.show("diamonds_not_enough",1),void cc.uiCenter.showMoreDiamonds();o.totalDiamonds-=this.prize,this.getSuccess()}else n.default.show("saiqiandaojubaotuisong",this.getSuccess.bind(this))},getSuccess:function(){var e=["accel"];for(var t in this.data.props)"accel"!=t&&e.push(t);this.node.emit("onGetSuccess",this.data.props,e)}}),cc._RF.pop()},{GameDataCenter:"GameDataCenter",buttonConfig:void 0,share:void 0,statistics:void 0,videoAd:void 0}],Experience:[function(e,t,i){"use strict";cc._RF.push(t,"b9d37ze0RtNFLPRXXnv9IOH","Experience");var n=o(e("banner")),a=(o(e("buttonConfig")),o(e("ChanneConfig")));function o(e){return e&&e.__esModule?e:{default:e}}var s=e("ExperienceItem"),r=a.default.channelId;cc.Class(function(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}({extends:cc.Component,properties:{items:{type:s,default:[]}},start:function(){this.index=-1;for(var e=cc.gameConfig.tryPropkit,t=0;t<this.items.length;t++)e[t]?(this.items[t].node.active=!0,this.items[t].setData(e[t])):this.items[t].node.active=!1,this.items[t].node.on("onGetSuccess",this.onStartGame,this)},onClose:function(){cc.audioComponent.play("button"),this.close()},close:function(){this.node.emit("experienceClose"),this.node.destroy()},onStartGame:function(e,t){cc.log("onStartGame2 = "),this.node.emit("experienceClose",e,t),this.node.destroy()},onEnable:function(){r==a.default.toutiao&&n.default.hide()}},"onEnable",function(){r==a.default.toutiao&&n.default.hide()})),cc._RF.pop()},{ChanneConfig:void 0,ExperienceItem:"ExperienceItem",banner:void 0,buttonConfig:void 0}],Fcdb:[function(e,t,i){"use strict";cc._RF.push(t,"db9c5uDNTxKHojfziykAfdQ","Fcdb");var n=o(e("banner")),a=(o(e("buttonConfig")),o(e("videoAd")));function o(e){return e&&e.__esModule?e:{default:e}}var s=e("GameDataCenter").getInstance();cc.Class({extends:cc.Component,properties:{contentLabel:cc.Label},goGo:function(){a.default.show("",function(){cc.loading.loadScene("GameScene",{level:40,daojuList:[],isFcdb:!0},!0),s.userGameData.lastFreeTimeOfFcdb=new Date,s.saveData()})},onLoad:function(){},start:function(){var e=this;this.node.getChildByName("close").active=!1,this.scheduleOnce(function(){e.node.getChildByName("close").active=!0},2)},onClose:function(){cc.audioComponent.play("button"),this.node.destroy()},onEnable:function(){n.default.show("main")},onDisable:function(){n.default.hide()}}),cc._RF.pop()},{GameDataCenter:"GameDataCenter",banner:void 0,buttonConfig:void 0,videoAd:void 0}],FightScene:[function(e,t,i){"use strict";cc._RF.push(t,"24b0dzFQsFIyJ0QHHsHT5xt","FightScene");var n=o(e("athletics")),a=(o(e("share")),o(e("Portrait")));function o(e){return e&&e.__esModule?e:{default:e}}var s=e("GameDataCenter").getInstance();cc.Class({extends:cc.Component,properties:{icon:cc.Sprite,nickName:cc.Label,icon2:cc.Sprite,nickName2:cc.Label,coinLabel:cc.Label,coinLabel2:cc.Label,inviteBut:cc.Button,tipsLabel:cc.Label,portrait2:a.default},onLoad:function(){cc.userInfo;this.coinLabel.string="1000",this.coinLabel2.string="1000",this.tipsLabel.node.active=!1,this.node.on("onClose",this.onClose,this),this.node.on("onInit",this.onInit,this),this.node.on("acceptInvite",this.acceptInvite,this),this.node.on("onInviteApp",this.onInviteApp,this),this.roomid=null},start:function(){},onReady:function(){},onInvite:function(){var e=s.getCurBikeAndUpgradeData();e.id=s.curUseBike,this.tipsLabel.node.active=!1,n.default.invite({bike:e,conf:{}},function(e){cc.log("roomid = ",e),this.roomid=e,this.tipsLabel.string="\u7b49\u5f85\u597d\u53cb\u8fdb\u5165",this.tipsLabel.node.active=!0,this.schedule(this.queryStatus,5)}.bind(this))},onInviteApp:function(){var e=s.getCurBikeAndUpgradeData();e.id=s.curUseBike,this.tipsLabel.node.active=!1,n.default.inviteApp({bike:e,conf:{}},function(e){cc.log("roomid = ",e),this.roomid=e,this.tipsLabel.string="\u7b49\u5f85\u597d\u53cb\u8fdb\u5165",this.tipsLabel.node.active=!0,this.schedule(this.queryStatus,5),cc.log("\u7b49\u5f85\u597d\u53cb\u8fdb\u5165")}.bind(this))},acceptInvite:function(e){var t=s.getCurBikeAndUpgradeData();t.id=s.curUseBike,this.tipsLabel.node.active=!1,n.default.acceptInvite({roomid:e,bike:t},function(e){var t=e;this.portrait2&&this.portrait2.setAvatarUrl(t.avatarUrl),this.tipsLabel.node.active=!0,this.nickName2.string=t.nickName||t.nickname||"",this.schedule(this.onStartGame,1),this.startGameTime=3,this.tipsLabel.string="\u51c6\u5907\u8fdb\u5165\u5bf9\u6218..."+this.startGameTime,this.node.emit("offClose",!1)}.bind(this))},queryStatus:function(){n.default.queryStatus(function(e){this.unschedule(this.queryStatus);var t=e;this.portrait2&&this.portrait2.setAvatarUrl(t.avatarUrl),this.nickName2.string=t.nickName||t.nickname||"",this.schedule(this.onStartGame,1),this.startGameTime=3,this.tipsLabel.string="\u51c6\u5907\u8fdb\u5165\u5bf9\u6218..."+this.startGameTime,this.node.emit("offClose",!1)}.bind(this))},onStartGame:function(){this.startGameTime--,this.tipsLabel.string="\u51c6\u5907\u8fdb\u5165\u5bf9\u6218..."+this.startGameTime,this.startGameTime<=0&&(this.unschedule(this.onStartGame),n.default.initSoket(function(e){e?cc.loading.loadScene("GameScene",{level:0,daojuList:["accel"],accelOn:!1,isMatch:!0},!0):this.node.emit("offClose",!0)}.bind(this)))},onKitOut:function(){},onFightStart:function(){},onClose:function(e){this.unschedule(this.onMatchIng),this.roomid?(this.tipsLabel.string="\u6b63\u5728\u9000\u51fa\u623f\u95f4",this.node.emit("offClose",!1),n.default.destroyRoom(function(t){t?this.node.emit("close",e):this.node.emit("offClose",!0)}.bind(this))):this.node.emit("close",e)},onInit:function(){this.tipsLabel.node.active=!1,this.roomid=null}}),cc._RF.pop()},{GameDataCenter:"GameDataCenter",Portrait:"Portrait",athletics:void 0,share:void 0}],FlauntAward:[function(e,t,i){"use strict";cc._RF.push(t,"994600ru0dMyJthcVwcV6be","FlauntAward");var n=c(e("share")),a=c(e("banner")),o=c(e("buttonConfig")),s=c(e("login")),r=c(e("statistics"));function c(e){return e&&e.__esModule?e:{default:e}}var h=e("GameDataCenter").getInstance();cc.Class({extends:cc.Component,properties:{awardLabel:cc.Label,awardSprite:cc.Sprite,noThanksLabel:cc.RichText,isGoToShop:!0,isFirstTime:!1},setData:function(e,t,i){this.id=t,this.count=i,this.type=e},setGoToShop:function(e){this.isGoToShop=e},onLoad:function(){},start:function(){o.default.isShow("xuanyaoyixia")?this.isFirstTime||this.showBtn():this.onFlaunt(),cc.log("this is FlautAward"),this.res="ico_coin";var e=cc.gameConfig.gameString.coinLabel+"x"+this.count;if("moto"==this.type)this.res="bike"+this.id,e=h.getBikeName(this.id),this.awardSprite.node.scale=.6,this.node.getChildByName("daojuBg").active=!1;else if("coin"!=this.id){var t=cc.gameConfig.daojuDataForKey[this.id];cc.log("daoju =",t),this.res=t.res,e=t.name+"x"+this.count}this.scheduleOnce(function(){cc.loader.loadRes(this.res,cc.SpriteFrame,function(e,t){this.awardSprite.spriteFrame=t}.bind(this))},0),this.awardLabel.string=e,this.noThanksLabel.string=cc.gameConfig.gameString.noThanksLabel,this.isFirstTime&&(this.node.getChildByName("shareBtn").active=!1,this.node.getChildByName("go_btn").active=!0,s.default.createLogin({left:-1,top:390,width:250,height:140},function(e){this.isValid&&(h.username=e.nickName||e.nickname||"\u6e38\u5ba2\u73a9\u5bb6",h.avatarUrl=e.avatarUrl,s.default.hideLogin(),this.goToGame())}.bind(this)))},onBack:function(){this.node.getChildByName("go_btn").active?this.node.destroy():this.onFlaunt()},onShareFriend:function(){n.default.shareToSociety({shareType:2,buttonKey:"xuanyaoyixia"},this.onFlaunt.bind(this))},onFlaunt:function(){"ShopScene"!==cc.director.getScene().name&&"moto"==this.type&&this.isGoToShop?(this.node.getChildByName("shareBtn").active=!1,this.noThanksLabel.node.active=!1,this.isFirstTime||this.showBtn(),this.node.getChildByName("go_btn").active=!0,this.currentShareTime=(new Date).getTime()):this.node.destroy()},goToShop:function(){cc.audioComponent.pauseMusic(),cc.loading.loadScene("ShopScene",{type:1})},goToGame:function(){cc.audioComponent.pauseMusic(),cc.loading.loadScene("GameScene",{level:h.levelNum,daojuList:h.getGameDaoJuList(),accelOn:!0},!0),r.default.setSceneEvent("\u4e3b\u754c\u9762\u514d\u8d39\u8d5b\u8f66","\u70b9\u51fb","\u4e3b\u754c\u9762-\u514d\u8d39\u8d5b\u8f66-\u4f53\u9a8c")},onDestroy:function(){},showBtn:function(){var e=this;this.scheduleOnce(function(){e.noThanksLabel.node.active=!0},2)},onEnable:function(){this.banner=a.default.show("main"),this.isFirstTime||s.default.hideLogin()},onDisable:function(){"MainScene"==cc.loading.preloadScene?(s.default.showLogin(),a.default.hide()):a.default.show("main")}}),cc._RF.pop()},{GameDataCenter:"GameDataCenter",banner:void 0,buttonConfig:void 0,login:void 0,share:void 0,statistics:void 0}],FreeGainDaoju:[function(e,t,i){"use strict";cc._RF.push(t,"8ed33oy52NIN56XOuCmlgOK","FreeGainDaoju");var n=o(e("statistics")),a=o(e("ChanneConfig"));function o(e){return e&&e.__esModule?e:{default:e}}var s=e("GameDataCenter").getInstance();a.default.channelId;cc.Class({extends:cc.Component,properties:{gainModel:cc.Prefab,gainPrizeNode:cc.Prefab,getPropCountDownLabel:{default:null,type:cc.Node},propBtn:cc.Node},start:function(){cc.log("FreeGainDaoju.js-this",this)},onGetProp:function(){if(cc.audioComponent.play("button"),n.default.setSceneEvent("\u4e3b\u754c\u9762","\u70b9\u51fb","\u4e3b\u754c\u9762-\u514d\u8d39\u52a0\u901f"),this.checkLeftTime(s.lastShareTimeOfProp,"freeJiasuDaojuTime"))cc.toast.show(cc.gameConfig.gameString.freeDaojuTimeNoArrived,1);else{var e=cc.instantiate(this.gainModel);this.node.addChild(e);var t={id:"accel",count:1};e.getComponent("FreeGainModel").setData("jiasu",t.id,t.count)}0},onClose:function(){this.node.destroy()},update:function(e){var t=this.getLeftTimeFormatString(s.lastShareTimeOfProp,"freeJiasuDaojuTime");this.getPropCountDownLabel.getComponent(cc.Label).string=t;var i=this.checkLeftTime(s.lastShareTimeOfProp,"freeJiasuDaojuTime");this.flag!=i&&(this.flag=i,this.propBtn.getComponent(cc.Button).interactable=!i,i?this.propBtn.getComponent(cc.Animation).stop():this.propBtn.getComponent(cc.Animation).play())},checkLeftTime:function(e,t,i){var n=!1,a=new Date(e),o=new Date,r=s.getCountDownInterVal(t,i)-(o.getTime()-a.getTime());if(r>0){Math.floor(r/36e5);var c=r%36e5;Math.floor(c/6e4);c%=6e4;Math.floor(c/1e3);n=!0}return n},getLeftTimeFormatString:function(e,t,i){if(""==e)return"";var n="",a=new Date(e),o=new Date,r=s.getCountDownInterVal(t,i)-(o.getTime()-a.getTime());if(r>0){var c=Math.floor(r/36e5),h=r%36e5,d=Math.floor(h/6e4);h%=6e4;var u=Math.floor(h/1e3),l=function(e){return e<10?"0"+e:e};n=l(c),n+=":"+l(d),n+=":"+l(u)}return n}}),cc._RF.pop()},{ChanneConfig:void 0,GameDataCenter:"GameDataCenter",statistics:void 0}],FreeGainModel:[function(e,t,i){"use strict";cc._RF.push(t,"5f443Xf0qJGdLFx8GlCFM7H","FreeGainModel");var n=c(e("buttonConfig")),a=c(e("share")),o=c(e("videoAd")),s=(c(e("statistics")),c(e("banner"))),r=(c(e("login")),c(e("ChanneConfig")));function c(e){return e&&e.__esModule?e:{default:e}}var h=e("GameDataCenter").getInstance(),d=r.default.channelId;cc.Class({extends:cc.Component,properties:{gainPrefab:cc.Prefab,icon:cc.Sprite,bikeName:cc.Sprite,timeLabel:cc.Label,getBtn:cc.Button,isGoToShop:!0,isGet:!1,isTimeCanGet:!0,mysticalBox:dragonBones.ArmatureDisplay,titleSrpite:cc.SpriteFrame,npcGirlSprite:cc.SpriteFrame},onLoad:function(){if(this.node.getChildByName("show").active=!0,this.node.getChildByName("freeBox").active=!1,this.node.getChildByName("npc").active=!0,-1!=h.rankLevel&&(this.node.getChildByName("npc").getChildByName("role").getComponent(cc.Sprite).spriteFrame=this.npcGirlSprite),this.playShakeEffect(),this.res="ico_coin","moto"==this.type)this.res="bike/bike"+this.id,this.nameRes="bike/bike_name_"+this.id,this.haoche();else{if("coin"!=this.id){var e=cc.gameConfig.daojuDataForKey[this.id];cc.log("daoju =",e),this.res=e.res}"jiasu"==this.type?this.jiasu():this.baoxiang()}this.isTimeCanGet?this.getBtn.node.getComponent(cc.Animation).play():(this.getBtn.interactable=!1,cc.uiCenter.setState(this.getBtn.node.getChildByName("bg").getComponent(cc.Sprite),0),cc.uiCenter.setState(this.getBtn.node.getChildByName("icon_video").getComponent(cc.Sprite),0)),this.node.getChildByName("btn_close").active=!1,this.scheduleOnce(function(){this.node.getChildByName("btn_close").active=!0},2)},setData:function(e,t,i){this.id=t,this.count=i,this.type=e},setOpenType:function(e){this.openType=e},setGoToShop:function(e){this.isGoToShop=e},start:function(){},playShakeEffect:function(){this.mysticalBox.playAnimation("\u6296\u52a8",0)},playOpenEffect:function(){this.mysticalBox.on(dragonBones.EventObject.COMPLETE,this.showCoinsAnimation,this),this.mysticalBox.playAnimation("\u6253\u5f00",1)},showCoinsAnimation:function(){this.node.getChildByName("infoPanel").emit("show_coins_animation"),h.totalCoins=h.totalCoins+this.count,cc.toast.show(cc.gameConfig.gameString.gainLabel+cc.gameConfig.gameString.coinLabel+"x"+this.count,1)},haoche:function(){cc.loader.loadRes(this.res,cc.SpriteFrame,function(e,t){e||(this.icon.spriteFrame=t)}.bind(this)),cc.loader.loadRes(this.nameRes,cc.SpriteFrame,function(e,t){e||(this.bikeName.spriteFrame=t)}.bind(this))},baoxiang:function(){cc.log("baoxiang!!!"),this.node.getChildByName("show").active=!1,this.node.getChildByName("freeBox").active=!0,this.node.getChildByName("npc").active=!1,this.node.getChildByName("title").getComponent(cc.Sprite).spriteFrame=this.titleSrpite},jiasu:function(){cc.log("daoju !!"),this.textSprite.spriteFrame=this.daojuTextSprite,n.default.isShow("mianfeidaojuqinglinqu")?(this.getBtn.node.active=!0,"share"!=n.default.getState("mianfeidaojuqinglinqu",0)&&(this.getBtn.node.getComponent(cc.Sprite).spriteFrame=this.getBtnVideo)):(this.yesBtn.node.active=!0,this.getBtn.node.active=!1)},setAndShow:function(){if(cc.log("\u5206\u4eab\u540e\u6267\u884c"),this.isGet&&(h.freeBikeNum=2),"moto"==this.type){h.lastShareTimeOfBike=new Date,h.freeBikeNum+=1,h.userGameData.bikeUpgrade[this.id].buyed=!0,h.curUseBike=this.id,cc.eventCenter.emit("curBike");var e=cc.instantiate(this.gainPrefab);e.getComponent("gainModel").setData(0,this.res,this.id,1),e.on("onMap",this.onGameMap,this),e.on("showNewGain",this.close,this),this.node.parent.addChild(e),this.node.getChildByName("show").active=!1,cc.toast.show("\u5df2\u9886\u53d6\u514d\u8d39\u8c6a\u8f66\uff0c\u4e0b\u4e00\u8f86\u656c\u8bf7\u671f\u5f85\uff01",1.5)}else"jiasu"==this.type?h.lastShareTimeOfProp=new Date:h.lastShareTimeOfBike=new Date,"coin"==this.id?this.playOpenEffect():(h.setDaoJuNum(1,this.id,this.count),cc.toast.show(cc.gameConfig.gameString.gainLabel+cc.gameConfig.daojuDataForKey[this.id].name+"x"+this.count,1));h.saveData(),this.getBtn.interactable=!1,cc.uiCenter.setState(this.getBtn.node.getChildByName("bg").getComponent(cc.Sprite),0),cc.uiCenter.setState(this.getBtn.node.getChildByName("icon_video").getComponent(cc.Sprite),0)},onShareGet:function(){cc.audioComponent.play("button");var e=this.setAndShow.bind(this);"moto"==this.type?"share"==n.default.getState("mianfeihaochelingqu",0)?a.default.shareToSociety({shareType:1,buttonKey:"mianfeihaochelingqu"},e):o.default.show("mianfeihaochelingqu",e):"jiasu"==this.type?"share"==n.default.getState("mianfeidaojuqinglinqu",0)?a.default.shareToSociety({shareType:1,buttonKey:"mianfeidaojuqinglinqu"},e):o.default.show("mianfeidaojuqinglinqu",e):"share"==n.default.getState("mianfeibaoxianglingqu",0)?a.default.shareToSociety({shareType:1,buttonKey:"mianfeibaoxianglingqu"},e):o.default.show("mianfeibaoxianglingqu",e)},onClose:function(){cc.audioComponent.play("button"),this.close()},onGameMap:function(){this.node.emit("onMap"),this.node.destroy()},close:function(){this.node.emit("onClose"),this.node.destroy()},onEnable:function(){-1==h.newGuidelinesCount&&d==r.default.toutiao&&s.default.show("main")},onDisable:function(){d==r.default.toutiao&&(s.default.hide(),-1==h.newGuidelinesCount&&window.InterstitialAd.createInterstitialAdByAdId("main"))}}),cc._RF.pop()},{ChanneConfig:void 0,GameDataCenter:"GameDataCenter",banner:void 0,buttonConfig:void 0,login:void 0,share:void 0,statistics:void 0,videoAd:void 0}],FreeGain:[function(e,t,i){"use strict";cc._RF.push(t,"e7b65TK6NZDhp9q+HBpI5q5","FreeGain");a(e("statistics"));var n=a(e("ChanneConfig"));function a(e){return e&&e.__esModule?e:{default:e}}var o=e("GameDataCenter").getInstance();n.default.channelId;cc.Class({extends:cc.Component,properties:{freeGainModel:cc.Prefab,mapPrefab:cc.Prefab,freeBtn:{default:[],type:cc.Node},freeGiftSrpite:cc.SpriteFrame},start:function(){this.freeBikeNum=cc.gameConfig.config.freeGainBikeTime.length,o.freeBikeNum>=2&&(this.freeBtn[0].getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this.freeGiftSrpite,this.freeBtn[1].getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this.freeGiftSrpite)},onGetBike:function(){cc.audioComponent.play("button"),this.onGain(),0},onGain:function(e){var t,i=function(){return s=cc.instantiate(this.freeGainModel),t=s.getComponent("FreeGainModel")}.bind(this);if(o.freeBikeNum<this.freeBikeNum)if(cc.log("\u83b7\u53d6\u8c6a\u8f66"),e)cc.log("\u7b2c\u4e00\u6b21",e);else{cc.log("\u975e\u7b2c\u4e00\u6b21");var n;o.userGameData.bikeUpgrade;0==o.freeBikeNum?(cc.log("\u514d\u8d39\u8c6a\u8f66\u7b2c\u4e00\u6b21\u9886\u53d6"),n=1,this.gain=i(),t.setData("moto",n,1)):1==o.freeBikeNum&&(n=3,this.gain=i(),t.setData("moto",n,1)),(a=this.checkLeftTime(o.lastShareTimeOfBike,"freeGainBikeTime",o.freeBikeNum))&&(t.isTimeCanGet=!1)}if(o.freeBikeNum>=2){var a=this.checkLeftTime(o.lastShareTimeOfBike,"freeGainPrizeTime"),s=i();this.gain=s.getComponent("FreeGainModel"),this.gain.setData("coin","coin",8888),a&&(t.isTimeCanGet=!1),o.saveData()}console.log(this.node.chilren),this.node.addChild(this.gain.node),this.gain&&(this.gain.node.on("onClose",this.gainNodeClose,this),this.gain.node.on("onMap",this.openGameMap,this),this.gain.node.on("showNewGain",this.onGetBike,this))},gainNodeClose:function(){this.gain=null},openGameMap:function(){this.gain=null;var e=cc.instantiate(this.mapPrefab);this.node.addChild(e)},onClose:function(){cc.audioComponent.play("button"),this.node.destroy()},update:function(e){var t=o.userGameData.bikeUpgrade;t[1].buyed&&t[5].buyed&&(o.freeBikeNum=2);var i="",n=!0;o.freeBikeNum>=0&&o.freeBikeNum<this.freeBikeNum?(n=this.checkLeftTime(o.lastShareTimeOfBike,"freeGainBikeTime",o.freeBikeNum),i=this.getLeftTimeFormatString(o.lastShareTimeOfBike,"freeGainBikeTime",o.freeBikeNum),this.gain&&(this.gain.timeLabel.string=i),this.flag!=n&&(this.flag=n,n?(this.freeBtn[0].getChildByName("light").active=!1,this.freeBtn[0].getChildByName("tips").active=!1,this.freeBtn[1].getChildByName("light").active=!1,this.freeBtn[1].getChildByName("tips").active=!1):(this.freeBtn[0].getChildByName("light").active=!0,this.freeBtn[0].getChildByName("tips").active=!0,this.freeBtn[1].getChildByName("light").active=!0,this.freeBtn[1].getChildByName("tips").active=!0))):o.freeBikeNum>=this.freeBikeNum&&(n=this.checkLeftTime(o.lastShareTimeOfBike,"freeGainPrizeTime"),i=this.getLeftTimeFormatString(o.lastShareTimeOfBike,"freeGainPrizeTime"),this.gain&&(this.gain.timeLabel.string=i),this.flag!=n&&(this.flag=n,n?(this.freeBtn[0].getChildByName("light").active=!1,this.freeBtn[0].getChildByName("tips").active=!1,this.freeBtn[1].getChildByName("light").active=!1,this.freeBtn[1].getChildByName("tips").active=!1):(this.freeBtn[0].getChildByName("light").active=!0,this.freeBtn[0].getChildByName("tips").active=!0,this.freeBtn[0].getChildByName("light").active=!0,this.freeBtn[0].getChildByName("tips").active=!0)))},checkLeftTime:function(e,t,i){var n=!1,a=new Date(e),s=new Date,r=o.getCountDownInterVal(t,i)-(s.getTime()-a.getTime());if(r>0){Math.floor(r/36e5);var c=r%36e5;Math.floor(c/6e4);c%=6e4;Math.floor(c/1e3);n=!0}return n},getLeftTimeFormatString:function(e,t,i){if(""==e)return"";var n="",a=new Date(e),s=new Date,r=o.getCountDownInterVal(t,i)-(s.getTime()-a.getTime());if(r>0){var c=Math.floor(r/36e5),h=r%36e5,d=Math.floor(h/6e4);h%=6e4;var u=Math.floor(h/1e3),l=function(e){return e<10?"0"+e:e};c>0?(n=l(c),n+=":"+l(d),n+=":"+l(u)):(n=l(d),n+=":"+l(u))}return n}}),cc._RF.pop()},{ChanneConfig:void 0,GameDataCenter:"GameDataCenter",statistics:void 0}],GameAward:[function(e,t,i){"use strict";cc._RF.push(t,"7784dfN6VJBe4A4Uf7I6yc7","GameAward");o(e("share")),o(e("buttonConfig")),o(e("videoAd")),o(e("login")),o(e("statistics"));var n=o(e("banner")),a=o(e("ChanneConfig"));function o(e){return e&&e.__esModule?e:{default:e}}var s=e("GameDataCenter").getInstance(),r=a.default.channelId;cc.Class({extends:cc.Component,properties:{titleNode:cc.Node,rankNode:cc.Node,amuseNode:cc.Node,boxNode:cc.Node,awardTipsLabel:cc.Label,rankTitleSprite:cc.SpriteFrame,amuseTitleSprite:cc.SpriteFrame,amusementBoxSprite:cc.SpriteFrame,openBoxBtn:cc.Node,gainModelPrefab:cc.Prefab},onLoad:function(){s.saveData(),1==this.sceneType?(this.titleNode.getComponent(cc.Sprite).spriteFrame=this.rankTitleSprite,this.rankNode.active=!0,this.amuseNode.active=!1,this.setRankAward()):(this.titleNode.getComponent(cc.Sprite).spriteFrame=this.amuseTitleSprite,this.rankNode.active=!1,this.amuseNode.active=!0,this.setAmuseAward()),this.node.getChildByName("btn_close").active=!1,this.schedule(function(){this.node.getChildByName("btn_close").active=!0},2)},start:function(){},setSceneData:function(e){this.sceneType=e},setRankAward:function(){var e=cc.gameConfig.rankData.length-1,t=s._userGameData.rankAwardIndex>e?e:s._userGameData.rankAwardIndex;cc.loader.loadRes("rank/box/box"+t,cc.SpriteFrame,function(e,t){e||(this.boxNode.getComponent(cc.Sprite).spriteFrame=t)}.bind(this));var i=s.getRankData(),n=s._userGameData.rankAwardIndex+1>=e?e:s._userGameData.rankAwardIndex+1,a=cc.gameConfig.rankData[n],o=i.id-1>s._userGameData.rankAwardIndex;i.id>=7&&(o=i.id+Math.floor(i.starNum/50)>s._userGameData.rankAwardIndex);var r=cc.gameConfig.gameString.rankAwardTips.replace("X",a.title);this.awardTipsLabel.string=r,this.openBoxBtn.getComponent(cc.Button).interactable=o,cc.uiCenter.setState(this.openBoxBtn.getComponent(cc.Sprite),o?1:0),o&&this.openBoxBtn.getComponent(cc.Animation).play()},setAmuseAward:function(){var e=s.getTotalAmusementCount(!0),t=cc.gameConfig.amusementAward,i=t[s._userGameData.amusementAwardIndex>=t.length?t.length-1:s._userGameData.amusementAwardIndex].condition,n=e>=i&&s._userGameData.amusementAwardIndex<t.length;this.amuseNode.getChildByName("count").getComponent(cc.Label).string=e+"/"+i+"\u6b21",this.boxNode.getComponent(cc.Sprite).spriteFrame=this.amusementBoxSprite;var a=cc.gameConfig.gameString.amuseAwardTips.replace("X",i);this.awardTipsLabel.string=a,this.openBoxBtn.getComponent(cc.Button).interactable=n,cc.uiCenter.setState(this.openBoxBtn.getComponent(cc.Sprite),n?1:0),n&&this.openBoxBtn.getComponent(cc.Animation).play()},openBox:function(){var e,t,i;if(1==this.sceneType){i=1,e="award/diamonds";var n=cc.gameConfig.config.rankAwardNums,a=cc.gameConfig.rankData.length-1,o=s._userGameData.rankAwardIndex>a?a:s._userGameData.rankAwardIndex;t=n[o],s._userGameData.rankAwardIndex++,s.totalDiamonds+=t}else{var r=cc.gameConfig.amusementAward,c=s._userGameData.amusementAwardIndex>=r.length?r.length-1:s._userGameData.amusementAwardIndex;t=r[c].nums,i=r[c].award,0==r[c].award?(e="award/bullions",s.totalCoins+=t):(e="award/diamonds",s.totalDiamonds+=t),s._userGameData.amusementAwardIndex++}s.saveData();var h=this.node.parent,d=cc.instantiate(this.gainModelPrefab);cc.loader.loadRes(e,cc.SpriteFrame,function(e,n){e||(d.getComponent("gainModel").isShowGain=i,d.getComponent("gainModel").setData(5,n,t,null,!1),h.addChild(d))}),this.close()},onClose:function(){cc.audioComponent.play("button"),this.close()},close:function(){this.node.emit("onClose"),this.node.destroy()},onEnable:function(){-1==s.newGuidelinesCount&&r==a.default.toutiao&&n.default.show("main")},onDisable:function(){r==a.default.toutiao&&(n.default.hide(),-1==s.newGuidelinesCount&&1!=s.rankLevel&&window.InterstitialAd.createInterstitialAdByAdId("main"))}}),cc._RF.pop()},{ChanneConfig:void 0,GameDataCenter:"GameDataCenter",banner:void 0,buttonConfig:void 0,login:void 0,share:void 0,statistics:void 0,videoAd:void 0}],GameConfig:[function(e,t,i){"use strict";var n;function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}cc._RF.push(t,"2210c0m7QNK84LOyUyp4tTA","GameConfig"),cc.Class({extends:cc.Component,properties:(n={stringJson:{default:null,type:cc.JsonAsset},globalConf:{default:null,type:cc.JsonAsset},bikeData:{default:null,type:cc.JsonAsset},levelData:{default:null,type:cc.JsonAsset},vehicleAIData:{default:null,type:cc.JsonAsset},vehicleData:{default:null,type:cc.JsonAsset},guankaData:{default:null,type:cc.JsonAsset},testRankData:{default:null,type:cc.JsonAsset},turnTableData:{default:null,type:cc.JsonAsset},checkinData:{default:null,type:cc.JsonAsset},daojuData:{default:null,type:cc.JsonAsset},freePrizeData:{default:null,type:cc.JsonAsset},startNum:0,wheelData:{default:null,type:cc.JsonAsset}},a(n,"startNum",0),a(n,"wcInfo",{default:null,type:cc.JsonAsset}),a(n,"guankaScenery",{default:null,type:cc.JsonAsset}),a(n,"tryPropkit",{default:null,type:cc.JsonAsset}),a(n,"effectData",{default:null,type:cc.JsonAsset}),a(n,"redPacketData",{default:null,type:cc.JsonAsset}),a(n,"moreCoinsData",{default:null,type:cc.JsonAsset}),a(n,"rankData",{default:null,type:cc.JsonAsset}),a(n,"achievementData",{default:null,type:cc.JsonAsset}),a(n,"rankMapData",{default:null,type:cc.JsonAsset}),a(n,"amusementAward",{default:null,type:cc.JsonAsset}),a(n,"obstacleGameData",{default:null,type:cc.JsonAsset}),n),onLoad:function(){this.config=this.globalConf.json,this.gameString=this.stringJson.json,this.bikeData=this.bikeData.json,this.bikeSortData=[],this.bikeSortData=this.bikeSortData.concat(this.bikeData),this.bikeSortData.sort(function(e,t){return e.sort-t.sort}),this.levelData=this.levelData.json,this.guankaData=this.guankaData.json,this.vehicleData=this.vehicleData.json,this.vehicleAIData=this.vehicleAIData.json,this.testRankData=this.testRankData.json,this.turnTableData=this.turnTableData.json,this.checkinData=this.checkinData.json,this.daojuData=this.daojuData.json,this.wheelData=this.wheelData.json,this.daojuDataForKey={},this.freePrizeData=this.freePrizeData.json,this.wcInfoData=this.wcInfo.json,this.guankaScenery=this.guankaScenery.json,this.tryPropkit=this.tryPropkit.json,this.effectData=this.effectData.json,this.redPacketData=this.redPacketData.json,this.moreCoinsData=this.moreCoinsData.json,this.rankData=this.rankData.json,this.achievementData=this.achievementData.json,this.rankMapData=this.rankMapData.json,this.amusementAward=this.amusementAward.json,this.obstacleGameData=this.obstacleGameData.json;for(var e=0;e<this.daojuData.length;e++)this.daojuDataForKey[this.daojuData[e].id]=this.daojuData[e];cc.log("GameConfig onLoad"),null==cc.gameConfig&&(cc.gameConfig=this,cc.game.isPersistRootNode(this.node)||cc.game.addPersistRootNode(this.node))},start:function(){this.startNum++,cc.log("GameConfig start =",this.startNum)}}),cc._RF.pop()},{}],GameDataCenter:[function(e,t,n){"use strict";cc._RF.push(t,"0e40eq0wd1MHpqp577/NBGp","GameDataCenter");var a=s(e("ChanneConfig")),o=s(e("login"));function s(e){return e&&e.__esModule?e:{default:e}}var r=a.default.channelId,c="game_data_bbfc2_0",h=cc.Class({statics:{instance:void 0,getInstance:function(){return h.instance||(h.instance=new h),h.instance}},properties:{userGameDataKey:{get:function(){return this._userGameData._userGameDataKey},set:function(e){this._userGameData._userGameDataKey=e}},userGameDataTime:{get:function(){return this._userGameData._userGameDataTime}},accelOn:{get:function(){return this._accelOn||!1},set:function(e){this._accelOn=e}},userGameData:{get:function(){return this._userGameData}},levelNum:{get:function(){return this._userGameData.levelNum},set:function(e){this._userGameData.levelNum=e}},rankLevel:{get:function(){return this._userGameData.rankLevel||0},set:function(e){-1==this._userGameData.rankLevel&&cc.eventCenter.emit("showPlayerRank"),this._userGameData.rankLevel=e}},totalCoins:{get:function(){return this._userGameData.totalCoins=this._userGameData.totalCoins||0,this._userGameData.totalCoins},set:function(e){this._userGameData.totalCoins=e,cc.eventCenter.emit("total_coins_change",e)}},totalDiamonds:{get:function(){return this._userGameData.totalDiamonds=this._userGameData.totalDiamonds||0,this._userGameData.totalDiamonds},set:function(e){this._userGameData.totalDiamonds=e,cc.eventCenter.emit("total_diamonds_change",e)}},onlineTimes:{get:function(){var e=(new Date).getTime(),t=this._userGameData.joinTime;return cc.log("\u5728\u7ebf\u65f6\u957f",e-t),e-t}},isBonusLevel:!1,gameData:null,curBike:{get:function(){return this._userGameData.curBike},set:function(e){this._userGameData.curBike=e}},curUseBike:{get:function(){return this._userGameData.curUseBike||0},set:function(e){this._userGameData.curUseBike=e,cc.eventCenter.emit("curUseBike")}},curUseEffect:{get:function(){return this._userGameData.curUseEffect||0},set:function(e){this._userGameData.curUseEffect=e}},MAX_BIKE_NUM:{get:function(){return cc.gameConfig.bikeData.length||this._userGameData.totalBikeCount}},MAX_UPGRADE_LEVEL:{get:function(){return d}},OLD_MAX_UPGRADE_LEVEL:{get:function(){return 5}},BIKE_UPGRADE_PROPS_COUNT:{get:function(){return u}},lastShareTimeOfBike:{get:function(){return this._userGameData.lastShareTimeOfBike},set:function(e){this._userGameData.lastShareTimeOfBike=e}},lastShareTimeOfProp:{get:function(){return this._userGameData.lastShareTimeOfProp},set:function(e){this._userGameData.lastShareTimeOfProp=e}},lastFreeTimeOfFcdb:{get:function(){return this._userGameData.lastFreeTimeOfFcdb},set:function(e){this._userGameData.lastFreeTimeOfFcdb=e}},lastFreeTimeOfTurnTable:{get:function(){return this._userGameData.lastFreeTimeOfTurnTable||null},set:function(e){this._userGameData.lastFreeTimeOfTurnTable=e}},musicOn:{get:function(){return this._userGameData.musicOn},set:function(e){this._userGameData.musicOn=e}},audioOn:{get:function(){return!this._userGameData||this._userGameData.audioOn},set:function(e){this._userGameData.audioOn=e}},levelDatas:{get:function(){return this._userGameData.levelDatas},set:function(e){this._userGameData.levelDatas=e}},lastCheckinDate:{get:function(){return this._userGameData.lastCheckinDate||null}},checkinTimes:{get:function(){return this._userGameData.checkinTimes||0}},freeBikeNum:{get:function(){return this._userGameData.freeBikeNum},set:function(e){this._userGameData.freeBikeNum=e}},videoTurnNum:{get:function(){return this._userGameData.videoTurnNum||0},set:function(e){this._userGameData.videoTurnNum=e}},freeTurnNum:{get:function(){return this._userGameData.freeTurnNum||0},set:function(e){this._userGameData.freeTurnNum=e}},totalMatchNum:{get:function(){return this._userGameData.totalMatchNum||0},set:function(e){this._userGameData.totalMatchNum=e}},totalGameNum:{get:function(){return this._userGameData.totalGameNum||0},set:function(e){this._userGameData.totalGameNum=e}},turnTableCount:{get:function(){return this._userGameData.turnTableCount||0},set:function(e){this._userGameData.turnTableCount=e}},callArr:{get:function(){return this._userGameData.callArr},set:function(e){this._userGameData.callArr=e}},coinArr:{get:function(){return this._userGameData.coinArr},set:function(e){this._userGameData.coinArr=e}},isGetArr:{get:function(){return this._userGameData.isGetArr},set:function(e){this._userGameData.isGetArr=e}},recallCoinArr:{get:function(){return this._userGameData.recallCoinArr},set:function(e){this._userGameData.recallCoinArr=e}},lastFreeGetDaojuEveryday:{get:function(){return this._userGameData.lastFreeGetDaojuEveryday||null},set:function(e){this._userGameData.lastFreeGetDaojuEveryday=e}},lastDiscountEveryday:{get:function(){return this._userGameData.lastDiscountEveryday||null},set:function(e){this._userGameData.lastDiscountEveryday=e}},aiDaoju:{get:function(){return this._userGameData._aiDaoju||0},set:function(e){this._userGameData._aiDaoju=e}},isOverDirector:!1,gameSocoreCount:{get:function(){return this._userGameData.gameSocoreCount||0},set:function(e){this._userGameData.gameSocoreCount=e}},username:{get:function(){return this._userGameData.username||"\u6e38\u5ba2\u73a9\u5bb6"},set:function(e){this._userGameData.username=e,cc.eventCenter.emit("username_change",e)}},avatarUrl:{get:function(){return this._userGameData.avatarUrl||"userIcon"},set:function(e){this._userGameData.avatarUrl=e,cc.eventCenter.emit("avatarUrl_change",e)}},_isInit:!1,openGameCount:{get:function(){return this._userGameData.openGameCount||0},set:function(e){this._userGameData.openGameCount=e}},addCoinCount:{get:function(){return this._userGameData.addCoinTime&&!this.getCheckInDays(this._userGameData.addCoinTime)||(this._userGameData.addCoinCount=0),this._userGameData.addCoinCount||0},set:function(e){this._userGameData.addCoinCount=e,this._userGameData.addCoinTime=new Date}},matchWin:{get:function(){return this._userGameData.matchWin||0},set:function(e){this._userGameData.matchWin=e}},isIconTop:{get:function(){return this._userGameData.isIconTop||!1},set:function(e){this._userGameData.isIconTop=e}},isAddDesktop:{get:function(){return this._userGameData.isAddDesktop||!1},set:function(e){this._userGameData.isAddDesktop=e}},isRecorderTips:{get:function(){return this._userGameData.isRecorderTips||!1},set:function(e){this._userGameData.isRecorderTips=e}},isAuthorze:{get:function(){return this._userGameData.isAuthorze||!1},set:function(e){this._userGameData.isAuthorze=e}},newGuidelinesCount:{get:function(){return this._userGameData.newGuidelinesCount||0},set:function(e){this._userGameData.newGuidelinesCount=e}},lastFreeAccel:{get:function(){return this._userGameData.lastFreeAccel||null},set:function(e){this._userGameData.lastFreeAccel=e}},lastFreeDiamonds:{get:function(){return this._userGameData.lastFreeDiamonds||null},set:function(e){this._userGameData.lastFreeDiamonds=e}},rankAwardIndex:{get:function(){return this._userGameData.rankAwardIndex||0},set:function(e){this._userGameData.rankAwardIndex=e}},amusementAwardIndex:{get:function(){return this._userGameData.amusementAwardIndex||0},set:function(e){this._userGameData.amusementAwardIndex=e}},isUnlockAchievement:{get:function(){return this._userGameData.isUnlockAchievement||!1},set:function(e){this._userGameData.isUnlockAchievement=e}},isUnlockRankAward:{get:function(){return this._userGameData.isUnlockRankAward||!1},set:function(e){this._userGameData.isUnlockRankAward=e}},isUnlockAmusementAward:{get:function(){return this._userGameData.isUnlockAmusementAward||!1},set:function(e){this._userGameData.isUnlockAmusementAward=e}}},getCheckInDays:function(e){var t=(new Date).setHours(0,0,0,0)-new Date(e).setHours(0,0,0,0);return parseInt(t/864e5)},ctor:function(){5!=r&&this.getUserGameData()},init:function(){this._isInit||(this._userGameData.username=o.default.setNickName(this.username),this._userGameData.avatarUrl=o.default.setAvatarUrl(this.avatarUrl),this._isInit=!0)},getUserGameData:function(){var e;if(r!=a.default.toutiao&&r!=a.default.toutiao||(c="game_data_bbfc2_0bbfc2_0_001"),""!=(e=cc.sys.localStorage.getItem(c)||"")){this.setUserGameData(e);for(var t=0;t<this._userGameData.bikeUpgrade.length;t++){var i=this._userGameData.bikeUpgrade[t];if(!i.hasOwnProperty("max")||i.max==this.OLD_MAX_UPGRADE_LEVEL){for(var n=i.upgrade,o=0;o<this.BIKE_UPGRADE_PROPS_COUNT;o++)n[o]*=this.MAX_UPGRADE_LEVEL/this.OLD_MAX_UPGRADE_LEVEL;i.max=this.MAX_UPGRADE_LEVEL}}}else{var s={username:"\u6e38\u5ba2\u73a9\u5bb6",avatarUrl:"user_avatar",musicOn:!0,audioOn:!0,totalLevelCount:50,levelNum:0,rankLevel:-1,totalCoins:0,totalDiamonds:0,levelScore:[],totalBikeCount:11,curBike:-1,curUseBike:0,bikeUpgrade:[],lastShareTimeOfBike:"",lastShareTimeOfProp:"",lastFreeTimeOfTurnTable:null,lastUpgradeTime:null,lastPlayRankGameTime:null,lastRecorderVideoTime:null,lastFreeTimeOfPrize:"",lastFreeTimeOfFcdb:"",daojuList:[],useDaojuList:[],lastCheckinDate:null,checkinTimes:0,freeBikeNum:0,videoTurnNum:0,freeTurnNum:0,totalMatchNum:0,totalGameNum:0,turnTableCount:0,callArr:[2,7,17,35,55,75,100],coinArr:[150,150,200,250,350,450,600],recallCoinArr:[300,300,350,400,500,600,750],isGetArr:[0,0,0,0,0,0,0],lastFreeGetDaojuEveryday:null,lastDiscountEveryday:null,mapDaojuDiscountArr:[],daojuDiscountArr:[],bikeDiscountArr:[],effectDisCountArr:[],openGameCount:0,joinTime:(new Date).getTime(),curUseEffect:1,getEffectList:[1,0,0,0],effectCardArr:[0,0,0,0],moreCoinsArr:[0,0,0,0,0],isRecorderTips:!1,isAuthorze:!1,newGuidelinesCount:0,lastFreeAccel:null,lastFreeDiamonds:null,moreDiamondsArr:[0,0,0],achievementArr:[],rankAwardArr:[],rankAwardIndex:0,amusementCountArr:[],amusementAwardIndex:0,isUnlockAchievement:!1,isUnlockRankAward:!1,isUnlockAmusementAward:!1,isUnlockRankModeArr:[!1,!1,!1],isUnlockAmuseModeArr:[!1,!1,!1,!1]};for(t=0;t<s.totalLevelCount;t++){var h=new Array(3);s.levelScore.push({num:t,finish:!1,score:0,coins:0,stars:0,state:h,unlockAwards:!1,boxAwards:!1})}for(t=0;t<18;t++){var u=new Array(this.BIKE_UPGRADE_PROPS_COUNT),l=new Array(this.BIKE_UPGRADE_PROPS_COUNT);u.fill(0),l.fill(0),s.bikeUpgrade.push({id:t,upgrade:u,property:l,max:d,buyed:!1,fragment:0,discountCountArr:[0,0,0,0]})}var f=[{id:"accel",num:2,buyNum:0},{id:"banana",num:2,buyNum:0},{id:"oil",num:2,buyNum:0},{id:"nail",num:2,buyNum:0},{id:"smoke",num:2,buyNum:0},{id:"bar",num:2,buyNum:0}];for(t=0;t<f.length;t++)s.daojuList.push(f[t]);s.useDaojuList=["accel","banana","bar"],cc.sys.localStorage.setItem(c,JSON.stringify(s)),this._userGameData=s}},setUserGameData:function(e){if(this._userGameData=JSON.parse(e),this._userGameData.daojuList=this._userGameData.daojuList||[],this._userGameData.bikeUpgrade.length<18)for(var t=9;t<18;t++){var i=new Array(this.BIKE_UPGRADE_PROPS_COUNT);i.fill(0);var n=new Array(this.BIKE_UPGRADE_PROPS_COUNT);n.fill(0),this._userGameData.bikeUpgrade.push({id:t,upgrade:i,property:n,buyed:!1,fragment:0,discountCountArr:[0,0,0,0]})}if(this._userGameData.daojuList.length<6&&this._userGameData.daojuList.push({id:"bar",num:3,buyNum:0}),this._userGameData.totalLevelCount<=40){this._userGameData.totalLevelCount=50;for(t=this._userGameData.levelScore.length;t<this._userGameData.totalLevelCount;t++){var a=new Array(3);this._userGameData.levelScore.push({num:t,finish:!1,score:0,coins:0,stars:0,state:a,unlockAwards:!1,boxAwards:!1})}}if(!this._userGameData.bikeUpgrade[0].discountCountArr)for(t=0;t<11;t++)Object.assign(this._userGameData.bikeUpgrade[t],{discountCountArr:[0,0,0,0]});if(this._userGameData.mapDaojuDiscountArr||(this._userGameData.mapDaojuDiscountArr=[]),this._userGameData.daojuDiscountArr||(this._userGameData.daojuDiscountArr=[]),this._userGameData.bikeDiscountArr||(this._userGameData.bikeDiscountArr=[]),this._userGameData.effectDiscountArr||(this._userGameData.effectDiscountArr=[]),this._userGameData.joinTime||(this._userGameData.joinTime=(new Date).getTime()),this._userGameData.curUseEffect||(this._userGameData.curUseEffect=1),this._userGameData.getEffectList||(this._userGameData.getEffectList=[1,0,0,0]),this._userGameData.effectCardArr||(this._userGameData.effectCardArr=[0,0,0,0]),this._userGameData.moreCoinsArr||(this._userGameData.moreCoinsArr=[0,0,0,0,0]),!this._userGameData.achievementArr){this._userGameData.achievementArr=[];for(t=0;t<30;t++)this._userGameData.achievementArr.push(!1)}if(!this._userGameData.amusementCountArr||this._userGameData.amusementCountArr.length<1){this._userGameData.amusementCountArr=[];for(var o={win:0,fail:0},s=0;s<4;s++)this._userGameData.amusementCountArr.push(o)}this._userGameData.isUnlockRankModeArr||(this._userGameData.isUnlockRankModeArr=[!1,!1,!1]),this._userGameData.isUnlockAmuseModeArr||(this._userGameData.isUnlockAmuseModeArr=[!1,!1,!1,!1]),this._userGameData.rankAwardArr||(this._userGameData.rankAwardArr=[])},saveData:function(){cc.log("savedata"),this._userGameData._userGameDataTime=(new Date).getTime(),cc.sys.localStorage.setItem(c,JSON.stringify(this._userGameData))},saveData2:function(){cc.log("savedata2"),cc.sys.localStorage.setItem(c,JSON.stringify(this._userGameData))},getTotalLevelCount:function(){return cc.gameConfig.guankaData.length||0},getLevelParams:function(e,t){for(var i=0;i<cc.gameConfig.guankaData.length;i++){var n=cc.gameConfig.guankaData[i];if(n.key==e&&n.hasOwnProperty(t))return n[t]}return null},getLevelState:function(e){if(this._userGameData.levelScore[e])return this._userGameData.levelScore[e].finish},setLevelFinish:function(e){this._userGameData.levelScore[e].finish=!0,e==this._userGameData.levelNum&&e<this._userGameData.totalLevelCount&&this._userGameData.levelNum++},setLevelTime:function(e,t){this._userGameData.levelScore[e].score=t},getLevelTime:function(e){return this._userGameData.levelScore[e].score},getLevelStars:function(e){return this._userGameData.levelScore[e].stars},getTotalStar:function(e){for(var t=0,i=0;i<=this._userGameData.levelNum;i++)t+=this._userGameData.levelScore[i].stars;return t},setLevelStars:function(e,t){t>this._userGameData.levelScore[e].stars&&(this._userGameData.levelScore[e].stars=t)},getLevelTask:function(e){return this._userGameData.levelScore[e].state},setLevelTask:function(e,t){for(var i=0,n=0,a=0;a<t.length;a++)t[a]&&i++,this._userGameData.levelScore[e].state[a]&&n++;i>n&&(this._userGameData.levelScore[e].state=t)},getRankData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._userGameData.rankLevel;e=e<0?0:e;for(var t=cc.gameConfig.rankData,i=0,n=0;i<t.length;n+=t[i].star,i++){if(e>=n&&e<n+t[i].star){var a=t[i];return a.starNum=e-n,a.total=n,a}if(i==t.length-1)return t[i].starNum=e-n,t.total=n,t[i]}},getRankIdStar:function(e){for(var t=cc.gameConfig.rankData,i=0,n=0;n<e;n++)i+=t[n].star;return i},getAchievementData:function(){for(var e=cc.gameConfig.achievementData,t=[],i=0,n=0;n<e.length;n++)this._userGameData.achievementArr[n]||(e[n].index=i,t.push(e[n]),i++);return t},getTotalAmusementCount:function(){for(var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=0,i=0;i<this._userGameData.amusementCountArr.length;i++)t+=e?this._userGameData.amusementCountArr[i].win:this._userGameData.amusementCountArr[i].win+this._userGameData.amusementCountArr[i].fail;return cc.log("\u5a31\u4e50\u8d5b\u6b21\u6570",t),t},getTotalBikeCount:function(e){if(1==e){for(var t=0,i=0;i<this._userGameData.bikeUpgrade.length;i++)this._userGameData.bikeUpgrade[i].buyed&&t++;return t}return cc.gameConfig.bikeData.length||0},getBikeData:function(e){var t=Object.assign({},cc.gameConfig.bikeData[e]);if(t)for(var i=0;i<this._userGameData.bikeUpgrade.length;i++)if(this._userGameData.bikeUpgrade[i].id==e){t.buyed=this._userGameData.bikeUpgrade[i].buyed;break}return t||null},getBikeDataSort:function(e){var t=Object.assign({},cc.gameConfig.bikeSortData[e]);if(t)for(var i=0;i<this._userGameData.bikeUpgrade.length;i++)if(this._userGameData.bikeUpgrade[i].id==t.id-1){t.buyed=this._userGameData.bikeUpgrade[i].buyed,t.fragment=this._userGameData.bikeUpgrade[i].fragment;break}return t||null},getBikeDataFragment:function(){var e=cc.gameConfig.bikeSortData,t=[];if(e)for(var i=0;i<e.length;i++)if(2==e[i].gainType){var n=Object.assign({},e[i]);n.buyed=this._userGameData.bikeUpgrade[i].buyed,n.fragment=this._userGameData.bikeUpgrade[i].fragment,t.push(n)}return t||null},getEffectFragment:function(){var e=cc.gameConfig.effectData,t=[];if(e)for(var i=0;i<e.length;i++)if(2==e[i].condition){var n=Object.assign({},e[i]);n.fragment=this._userGameData.effectCardArr[i],t.push(n)}return t},getGameDaoJuList:function(){return this._userGameData.useDaojuList||[]},setGameDaoJuList:function(e){this._userGameData.useDaojuList=e},setCheckIn:function(){this._userGameData.checkinTimes++,this._userGameData.lastCheckinDate=new Date},resetCheckIn:function(){this._userGameData.checkinTimes=0,this._userGameData.lastCheckinDate=null},getBikeName:function(e){return cc.gameConfig.bikeData[e].name||""},getBikeIdArr:function(e){for(var t=new Array,i=0;i<this._userGameData.bikeUpgrade.length;i++)e&&this._userGameData.bikeUpgrade[i].buyed==e?t.push(this._userGameData.bikeUpgrade[i].id):e||t.push(this._userGameData.bikeUpgrade[i].id);return t},getBikeIdSortArr:function(e){for(var t=new Array,i=0;i<cc.gameConfig.bikeSortData.length;i++){var n=this._userGameData.bikeUpgrade[cc.gameConfig.bikeSortData[i].id-1];n&&(e&&n.buyed==e?t.push(n.id):e||t.push(n.id))}return t},getBikeUpgrade:function(e){for(var t=0;t<this._userGameData.bikeUpgrade.length;t++)if(this._userGameData.bikeUpgrade[t].id==e)return this._userGameData.bikeUpgrade[t].upgrade;return null},getBikeUpgradeCost:function(e,t,i){if(i>this.MAX_UPGRADE_LEVEL)return null;for(var n=0;n<cc.gameConfig.bikeData.length;n++)if(cc.gameConfig.bikeData[n].id==e+1){var a=cc.gameConfig.bikeData[n],o="";switch(t){case 0:o="upgradeMaxSpeed","maxSpeedDisplay";break;case 1:o="upgradeAccRate","accRateDisplay";break;case 2:o="upgradeMaxSteer","maxSteerDisplay";break;case 3:o="upgradeSteerRate","steerRateDisplay"}var s={id:e,propId:t};return s.level=i,s.cost=a.upgradeCost[i],s.discount=a.upgradeDiscount[i],s.upgradeDiscount=a.upgradeDiscount,s.add=Number(a[o][i+1]),s.discountCount=this._userGameData.bikeUpgrade[n].discountCountArr[t],s.doubleUpgradeRate=a.doubleUpgradeRate,s}return null},setBikeUpgrade:function(e,t){for(var i=0;i<this._userGameData.bikeUpgrade.length;i++)if(this._userGameData.bikeUpgrade[i].id==e)return this._userGameData.bikeUpgrade[i].property[t]=0,void this._userGameData.bikeUpgrade[i].upgrade[t]++},setPropertyUpgrade:function(e,t){for(var i=!1,n=0;n<this._userGameData.bikeUpgrade.length;n++)if(this._userGameData.bikeUpgrade[n].id==e)return this._userGameData.bikeUpgrade[n].property[t]+1<l?(this._userGameData.bikeUpgrade[n].property[t]+=1,cc.log("property")):(i=!0,cc.log("upgrade"),this.setBikeUpgrade(e,t)),i},getPropertyUpgrade:function(e,t){for(var i=0;i<this._userGameData.bikeUpgrade.length;i++)if(this._userGameData.bikeUpgrade[i].id==e)return this._userGameData.bikeUpgrade[i].property[t]},setBikeFragment:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=cc.gameConfig.bikeData[e];if(i)for(var n=0;n<this._userGameData.bikeUpgrade.length;n++)if(this._userGameData.bikeUpgrade[n].id==e){cc.log("upgrade cost: ",i.cost);var a=i.cost;this._userGameData.bikeUpgrade[n].fragment=this._userGameData.bikeUpgrade[n].fragment+t>a?a:this._userGameData.bikeUpgrade[n].fragment+t,this.saveData()}},setEffectFragment:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=cc.gameConfig.effectData[e];if(n){var a=n.cost;this._userGameData.effectCardArr[i]=this._userGameData.effectCardArr[i]+t>a?a:this._userGameData.effectCardArr[i]+t,this.saveData()}},setUpgradeDiscountCount:function(e,t){for(var i=0;i<this._userGameData.bikeUpgrade.length;i++)if(this._userGameData.bikeUpgrade[i].id==e)return void(this._userGameData.bikeUpgrade[i].discountCountArr[t]+=1)},getUpgradeFreeNum:function(e,t){for(var i=0;i<this._userGameData.bikeUpgrade.length;i++)if(this._userGameData.bikeUpgrade[i].id==e)return this._userGameData.bikeUpgrade[i].free||(cc.log("free\u65e0\u6570\u636e==========="),this._userGameData.bikeUpgrade[i].free=[0,0,0,0]),this._userGameData.bikeUpgrade[i].free[t];return 0},getMapPropDiscountCount:function(e){if(!this._userGameData.mapDaojuDiscountArr.length)for(var t=0;t<cc.gameConfig.daojuData.length;t++)this._userGameData.mapDaojuDiscountArr.push(0);return this._userGameData.mapDaojuDiscountArr[e]},getPropDiscountCount:function(e){if(!this._userGameData.daojuDiscountArr.length)for(var t=0;t<cc.gameConfig.daojuData.length;t++)this._userGameData.daojuDiscountArr.push(0);return this._userGameData.daojuDiscountArr[e]},getBikeDiscountCount:function(e){if(!this._userGameData.bikeDiscountArr.length)for(var t=0;t<this._userGameData.totalBikeCount;t++)this._userGameData.bikeDiscountArr.push(0);return this._userGameData.bikeDiscountArr[e]},getEffectDiscountCount:function(e){if(!this._userGameData.effectDiscountArr.length)for(var t=0;t<cc.gameConfig.effectData.length;t++)this._userGameData.effectDiscountArr.push(0);return this._userGameData.effectDiscountArr[e]},getDaoJuNum:function(e){for(var t=0;t<this._userGameData.daojuList.length;t++)if(this._userGameData.daojuList[t].id==e)return this._userGameData.daojuList[t].num||0;return 0},getDaoJuFreeNum:function(e){for(var t=0;t<this._userGameData.daojuList.length;t++)if(this._userGameData.daojuList[t].id==e)return this._userGameData.daojuList[t].freeNum=isNaN(this._userGameData.daojuList[t].freeNum)?-1:this._userGameData.daojuList[t].freeNum,this._userGameData.daojuList[t].freeNum;return 0},getShopDaoJuFreeNum:function(e){for(var t=0;t<this._userGameData.daojuList.length;t++)if(this._userGameData.daojuList[t].id==e)return this._userGameData.daojuList[t].shopFreeNum=isNaN(this._userGameData.daojuList[t].shopFreeNum)?-1:this._userGameData.daojuList[t].shopFreeNum,this._userGameData.daojuList[t].shopFreeNum;return 0},getDaoJuBuyNum:function(e){for(var t=0;t<this._userGameData.daojuList.length;t++)if(this._userGameData.daojuList[t].id==e)return this._userGameData.daojuList[t].buyNum||0;return 0},setDaoJuNum:function(e,t,i){for(var n=0;n<this._userGameData.daojuList.length;n++)if(this._userGameData.daojuList[n].id==t){switch(this._userGameData.daojuList[n].num+=i,0==e&&this._userGameData.daojuList[n].buyNum++,e){case 2:this._userGameData.daojuList[n].freeNum+=i;break;case 3:this._userGameData.daojuList[n].shopFreeNum+=i}return}var a={id:t,num:i<0?0:i,buyNum:0==e?1:0};this._userGameData.daojuList.push(a)},setNewDaoJuNum:function(){this._userGameData.bikeUpgrade[0].buyed=!0,this.freeBikeNum+=1,this.lastShareTimeOfBike=new Date;for(var e=0;e<this._userGameData.daojuList.length;e++)this._userGameData.daojuList[e].num=3;this.saveData()},getCountDownInterVal:function(e,t){return e&&(0==t||t)?cc.gameConfig.config[e][t]||0:e?cc.gameConfig.config[e]||0:cc.gameConfig.config.shareTotalLeftTime||0},resetGameData:function(){var t=e("GameData");this.gameData=new t;var i=cc.loading.getCustomData(),n=i.level,a=cc.gameConfig.guankaData[n],o=cc.gameConfig.obstacleGameData[i.sceneType];if(i.isMatch&&0!=i.rankMap)this.gameData.raceDist=o.sceneDist;else{var s=i.raceDist;this.gameData.raceDist=s||a.raceDist}var r=i.circle;if(this.gameData.circle=r||a.circle,this.gameData.levelNum=n,this.gameData.curveCount=a.curveCount,i.isAmusement){var c=i.amusementType,h=[10,2,25,25];switch(this.gameData.time=[4e3,6e3,3e3,3e3][c],c){case 0:this.gameData.amusementOverTake=this.gameData.amusementOverTake+h[c]*this._userGameData.amusementCountArr[c].win;break;case 1:this.gameData.amusementHitVehicle=this.gameData.amusementHitVehicle+h[c]*this._userGameData.amusementCountArr[c].win;break;case 2:this.gameData.amusementGetBullions=this.gameData.amusementGetBullions+h[c]*this._userGameData.amusementCountArr[c].win;break;case 3:this.gameData.amusementGetDiamonds=this.gameData.amusementGetDiamonds+h[c]*this._userGameData.amusementCountArr[c].win}}},getCurBikeAndUpgradeData:function(){var e={},t=this.getBikeData(this.curUseBike),i=this.getBikeUpgrade(this.curUseBike),n=this._userGameData.bikeUpgrade[this.curUseBike].property;return e.minSpeed=t.minSpeed,e.maxSpeed=t.maxSpeed+this.getUpgradeData(t.upgradeMaxSpeed,i[0],n[0]),e.accRate=t.accRate+this.getUpgradeData(t.upgradeAccRate,i[1],n[1]),e.maxSteer=t.maxSteer+this.getUpgradeData(t.upgradeMaxSteer,i[2],n[2]),e.steerRate=t.steerRate+this.getUpgradeData(t.upgradeSteerRate,i[3],n[3]),e},getBikeAndUpgradeData:function(e){var t={},i=this.getBikeData(e),n=this.getBikeUpgrade(e),a=this._userGameData.bikeUpgrade[e].property;return t.maxSpeed=i.maxSpeed+this.getUpgradeData(i.upgradeMaxSpeed,n[0],a[0]),t.accRate=i.accRate+this.getUpgradeData(i.upgradeAccRate,n[1],a[1]),t.steerRate=i.steerRate+this.getUpgradeData(i.upgradeSteerRate,n[2],a[2]),t.maxSteer=i.maxSteer+this.getUpgradeData(i.upgradeMaxSteer,n[3],a[3]),t},getUpgradeData:function(e,t,i){for(var n=0,a=0;a<e.length;a++)a<t?n+=Number(e[a]):a<=t&&i>0&&(n+=Number(e[a])-Number(e[a])/l*i);return n},getGuankaUnlockAwards:function(e){return this._userGameData.levelScore[e].unlockAwards||!1},setGuankaUnlockAwards:function(e){return this._userGameData.levelScore[e].unlockAwards=!0},getLevelBoxAwards:function(e){return this._userGameData.levelScore[e].boxAwards||!1},setLevelBoxAwards:function(e){return this._userGameData.levelScore[e].boxAwards=!0},discountDataReset:function(){if((new Date).setHours(0,0,0,0)-new Date(this.lastDiscountEveryday).setHours(0,0,0,0)>=cc.gameConfig.config.shareTotalLeftTime){this._userGameData.mapDaojuDiscountArr=[],this._userGameData.daojuDiscountArr=[],this._userGameData.bikeDiscountArr=[],this._userGameData.effectDiscountArr=[];for(var e=0;e<11;e++)this._userGameData.bikeUpgrade[e].discountCountArr=[0,0,0,0];this.saveData()}},getTestBikeData:function(e){return this._userGameData.testBikeData=this._userGameData.testBikeData||{},this._userGameData.testBikeData[e]},setTestBikeData:function(e){this._userGameData.testBikeData=this._userGameData.testBikeData||{},this._userGameData.testBikeData[e]=!0}}),d=25,u=4,l=10;cc._RF.pop()},{ChanneConfig:void 0,GameData:void 0,login:void 0}],GameMap:[function(e,t,i){"use strict";cc._RF.push(t,"781a5xlyf9DuJhXBxZnkYEk","GameMap");var n=c(e("share")),a=c(e("buttonConfig")),o=c(e("videoAd")),s=(c(e("login")),c(e("statistics")),c(e("banner"))),r=c(e("ChanneConfig"));function c(e){return e&&e.__esModule?e:{default:e}}var h=e("GameDataCenter").getInstance(),d=r.default.channelId;cc.Class({extends:cc.Component,properties:{guanqiaBtn:{default:[],type:cc.Node},mysticalMapSprite:cc.SpriteFrame,levelTxtSprite:{default:[],type:cc.SpriteFrame},inventoryPrefab:cc.Prefab,upgradeBikePrefab:cc.Prefab,playButton:cc.Node,noOpenedTips:cc.Node,mysticalBoxTips:cc.Node,guidelinesBoxTips:cc.Node,pageItem:cc.Node,mysticalBoxPrefab:cc.Prefab,authorzePrefab:cc.Prefab,taskItems:{default:[],type:cc.Node},recommendBike:cc.Label,conditionNode:cc.Node,experiencePrefab:cc.Prefab,achievePrefab:cc.Prefab,achieveBtn:cc.Node,freeAccelBtn:cc.Node,upgradeBtn:cc.Node},onLoad:function(){this._level=h.levelNum,cc.gameConfig.guankaData[this._level].isBoss&&cc.audioComponent.play("boss_selected"),this._currentPage=Math.floor(this._level/5);var e=h.getTotalLevelCount();this._totalPage=e/5,e%5!=0&&this._totalPage++,this.setGuankaArea(),this.node.getChildByName("btn_close").active=!0,this.achieveButtonTips(),this.upgradeButtonTips()},upgradeButtonTips:function(){for(var e=!1,t=0;t<4;t++){var i=h.getBikeUpgrade(t)||[],n=this.getCost(h.curUseBike,t,i[t])||{id:t},a=n&&n.cost||"";n&&n.discountCount&&n.discountCount>0&&(n.discountCost=Math.floor(parseInt(n.cost)*parseFloat(n.upgradeDiscount[n.discountCount-1])));var o=n&&n.discountCost||"",s=o?o/10:a/10;if(e=h.totalCoins>s)break}this.upgradeBtn.getChildByName("tips").active=e},start:function(){this.isControl=!1,this.node.getChildByName("control").on(cc.Node.EventType.TOUCH_MOVE,this.onControlMove,this),this.node.getChildByName("control").on(cc.Node.EventType.TOUCH_END,this.onControlEnd,this),this.node.getChildByName("control").on(cc.Node.EventType.TOUCH_CANCEL,this.onControlEnd,this);var e=h.getTotalStar(),t=0;this.node.getChildByName("achievement").getChildByName("levelProgress").getChildByName("stars").getComponent(cc.Label).string=e+"";for(var i=cc.gameConfig.achievementData,n=0;n<i.length;n++)if(e<i[n].star){t=i[n].star-e;break}var a=this.node.getChildByName("achievement").getChildByName("tips").getChildByName("txt").getComponent(cc.Label),o=cc.gameConfig.gameString.gameMapAchievementTips.replace("X",t);a.string=o},onControlEnd:function(){this.isControl=!1},onControlMove:function(e){this.isControl||(this.isControl=!0,e.touch.getStartLocation().x-e.touch._point.x>0?this.onPageButtonClick("","1"):this.onPageButtonClick("","-1"))},setGuankaArea:function(){var e=5*this._currentPage,t=this.node.getChildByName("mapArea").getChildByName("bg_map");this._currentPage<9?this.loadMapImage(this._currentPage+1,t.getComponent(cc.Sprite)):t.getComponent(cc.Sprite).spriteFrame=this.mysticalMapSprite;var i=t.getChildByName("black"),n=!(Math.floor(h.levelNum/5)>=this._currentPage);i.active=n,t.getChildByName("tips").active=n,t.getChildByName("tips").active&&(t.getChildByName("tips").getComponent(cc.Label).string=" \u9700\u6ee1\u8db3\u7b2c"+this._currentPage+"\u7ae0\u8282\u6240\u6709\u5173\u5361\u901a\u5173\u5373\u53ef\u5f00\u542f"),this.node.getChildByName("mapArea").getChildByName("txt_level").getComponent(cc.Sprite).spriteFrame=this.levelTxtSprite[this._currentPage];var a=h.getLevelBoxAwards(5*(this._currentPage+1)-1);this.mysticalBoxTips.getChildByName("on").active=!a,this.mysticalBoxTips.getChildByName("off").active=a;var o=this.node.getChildByName("mapArea").getChildByName("pages");if(o.children.length<this._totalPage){o.removeAllChildren();for(var s=0;s<this._totalPage;s++){var r=cc.instantiate(this.pageItem);o.addChild(r),r.getChildByName("selected").active=s==this._currentPage}}else for(var c=0;c<this._totalPage;c++)o.children[c].getChildByName("selected").active=c==this._currentPage;var d=this.node.getChildByName("mapArea").getChildByName("btn_left"),u=this.node.getChildByName("mapArea").getChildByName("btn_right");d.color=u.color=new cc.Color(255,255,255),d.opacity=u.opacity=255,0===this._currentPage?(d.color=new cc.Color(103,103,103),d.opacity=200):this._currentPage===this._totalPage-1&&(u.color=new cc.Color(103,103,103),u.opacity=200),this._currentPage===this._totalPage-1?u.getComponent(cc.Animation).stop("focus"):u.getComponent(cc.Animation).play("focus"),0===this._currentPage?d.getComponent(cc.Animation).stop("focus"):d.getComponent(cc.Animation).play("focus"),this.playButton.getComponent(cc.Button).interactable=!1,this.resetStars();for(var l=0;l<5&&!(e>=h.getTotalLevelCount());l++){var f=h.getLevelState(e+l);if(this.guanqiaBtn[l].getChildByName("select").active=!1,e+l!=this._level||f)if(f){if(f){for(m=this.guanqiaBtn[l].getChildByName("star").children,g=0;g<3;g++){b=m[g];var p=h.getLevelStars(e+l);b.active=p>g}h.getLevelStars(e+l)}else if(e+l==h.levelNum){for(m=this.guanqiaBtn[l].getChildByName("star").children,g=0;g<3;g++){(b=m[g])&&(b.active=!1)}this.guanqiaBtn[l].getChildByName("select").active=!0}}else for(m=this.guanqiaBtn[l].getChildByName("star").children,g=0;g<3;g++){(b=m[g])&&(b.active=!1)}else if(!f||this._level==h.levelNum){for(var m=this.guanqiaBtn[l].getChildByName("star").children,g=0;g<3;g++){var b;(b=m[g])&&(b.active=!1)}this.guanqiaBtn[l].getChildByName("select").active=!0}this.noOpenedTips.active=this.noOpenedTips.active&&n,this.playButton.active=!this.noOpenedTips.active,this.playButton.getComponent(cc.Button).interactable=this.playButton.active}this.onMapButtonClick(null,this._level-5*this._currentPage+"")},loadMapImage:function(e,t){var i="https://minigame.hanchor.cn/qmscs/game/map/bg_map_"+e+".png";cc.loader.load(i,function(e,i){var n=new cc.SpriteFrame(i);t.spriteFrame=n}.bind(this))},onMapButtonClick:function(e,t){if(cc.log("1\u9009\u4e2d\u5173\u5361",this._level),this.guanqiaBtn[t].getComponent(cc.Button).isLock)cc.toast.show(cc.gameConfig.gameString.levelLockTips,1);else{var i=5*this._currentPage;if(this._level=parseInt(t)+5*this._currentPage,this._level>=i&&this._level<=i+5-1)for(var n=0;n<5;n++)this.guanqiaBtn[n].getChildByName("select").active=this._level-5*this._currentPage==n;var a=cc.gameConfig.guankaData;if((this._level+1)%5==0){e&&cc.audioComponent.play("boss_selected"),this.conditionNode.getChildByName("taskItems").active=!1;var o=this.conditionNode.getChildByName("bossTask");o.active=!0,this.conditionNode.height=35,this.conditionNode.getChildByName("title").y=0;var s=h.getLevelStars(this._level);o.getChildByName("name").color=s>=3?new cc.Color(21,255,15):new cc.Color(255,255,255)}else{e&&cc.audioComponent.play("button"),this.conditionNode.getChildByName("taskItems").active=!0,this.conditionNode.getChildByName("bossTask").active=!1,this.conditionNode.height=75,this.conditionNode.getChildByName("title").y=23;for(var r=a[this._level].levelTask[a[this._level].levelTask.length-1],c=h.getLevelTask(this._level),d=0;d<this.taskItems.length;d++){var u=parseInt(r.type[d]),l=this.taskItems[d].getChildByName("name"),f=r.starsConditions[d]+"",p=cc.gameConfig.config.mapShowTaskName[u].replace("X",f);l.getComponent(cc.Label).string=p,c[d]?l.color=new cc.Color(21,255,15):l.color=new cc.Color(255,255,255)}}this.playButton.active=this._level<=h.levelNum,this.playButton.getComponent(cc.Button).interactable=this.playButton.active,this.noOpenedTips.active=!this.playButton.active;var m=h.getBikeData(a[this._level].recommend);this.recommendBike.string=m.name}},resetStars:function(){for(var e=0;e<5;e++)for(var t=this.guanqiaBtn[e].getChildByName("star").children,i=1;i<=3;i++){var n=t[e];n&&(n.active=!1)}},getPageLevelStar:function(e){for(var t=0,i=5*e,n=0;n<5;n++){t+=h.getLevelStars(i+n)}return t},onPageButtonClick:function(e,t){cc.audioComponent.play("button");var i=this._currentPage+parseInt(t);i<0||i>=this._totalPage||(this._currentPage=i,this._level=Math.floor(h.levelNum/5)==this._currentPage?h.levelNum:5*this._currentPage,this.setGuankaArea())},showBossBoxTips:function(){var e=5*(this._currentPage+1)-1,t=h.getLevelState(e);if(h.levelNum<=e&&!t)cc.toast.show("\u6311\u6218\u5b8cboss\u624d\u80fd\u83b7\u5f97\u795e\u79d8\u5b9d\u7bb1\u54e6\uff01",1);else if(!h.getLevelBoxAwards(e)){var i=cc.gameConfig.guankaData[e],n=cc.instantiate(this.mysticalBoxPrefab);n.getComponent("MysticalBox").setLevelData(i),n.on("onClose",this.setGuankaArea,this),this.node.addChild(n)}},onClose:function(){cc.audioComponent.play("button"),cc.log("gameDataCenter.newGuidelinesCount",h.newGuidelinesCount),this.close()},close:function(){cc.loading.getCustomData()&&"showAchievement"==cc.loading.getCustomData().cmd&&!h.isUnlockAchievement?cc.eventCenter.emit("changeGuidelines",-2):cc.loading.getCustomData()&&"rankGuidelines"==cc.loading.getCustomData().cmd&&-1==h.rankLevel&&(cc.eventCenter.emit("changeGuidelines",9),this.node.emit("onClose")),this.node.emit("onClose"),this.node.destroy()},onInventory:function(){cc.audioComponent.play("button"),this.openInventory()},openInventory:function(){var e=cc.instantiate(this.inventoryPrefab);this.node.addChild(e)},onUpgradebike:function(){cc.audioComponent.play("button");var e=cc.instantiate(this.upgradeBikePrefab);this.node.addChild(e),cc.loading.getCustomData()&&"upgradeGuidelines"==cc.loading.getCustomData().cmd&&h.newGuidelinesCount>=0&&h.newGuidelinesCount<1&&cc.eventCenter.emit("changeGuidelines",1)},onStartGame:function(){var e,t;cc.audioComponent.play("button"),this._customeData=cc.loading.getCustomData();var i=function(){console.log("level",this._level),this._startGame=!0,cc.loading.loadScene("GameScene",{level:this._level,daojuList:t||h.getGameDaoJuList(),tryProps:e,isGame:!0},!0)}.bind(this),n=function(n,a){t=a,(e=n)&&t?cc.toast.show(cc.gameConfig.gameString.gainExperienceTips,null,0,i):i()}.bind(this),a=function(){if(this._customeData&&this._customeData.isFailure){var e=cc.instantiate(this.experiencePrefab);e.on("experienceClose",n,this),this.node.addChild(e)}else i()}.bind(this),o=function(){for(var e=h.getGameDaoJuList(),t=0,i=0;i<e.length&&(t=h.getDaoJuNum(e[i])>0);i++);if(cc.log("daojuTotal",t),t)a();else{cc.toast.show(cc.gameConfig.gameString.daojuInventoryTips,1);var n=cc.instantiate(this.inventoryPrefab);n.on("inventoryClose",a,this),this.node.addChild(n)}}.bind(this);if(2!=this._level||h.isAuthorze||d!=r.default.toutiao)o();else{var s=cc.instantiate(this.authorzePrefab);s.on("onClose",o,this),this.node.addChild(s)}},onFreeProp:function(){cc.audioComponent.play("button");var e=function(){h.setDaoJuNum(0,"accel",5),h.lastFreeAccel=new Date,h.saveData(),cc.toast.show("\u5df2\u83b7\u5f97\u52a0\u901fx5",1)}.bind(this);h.lastFreeAccel?cc.toast.show("\u51b7\u5374\u65f6\u95f4\u672a\u5230,\u8bf7\u7a0d\u540e\u518d\u6765",1):(cc.audioComponent.play("button"),"share"==a.default.getState("gengduojini",0)?n.default.shareToSociety({shareType:1,buttonKey:"gengduojini"},e):o.default.show("mianfeijiasu",e))},onAchievement:function(e,t){cc.audioComponent.play("button");var i=cc.instantiate(this.achievePrefab);i.getComponent("Achievement").isInMain=!t,i.on("onClose",function(){this.achieveButtonTips()}.bind(this),this),this.node.addChild(i)},achieveButtonTips:function(){if(h.isUnlockAchievement){var e=cc.gameConfig.achievementData;this.achieveBtn.active=!0,this.achieveBtn.getChildByName("tips").active=!1;for(var t=0;t<e.length;t++){if(h.getTotalStar()/e[t].star>=1&&!h._userGameData.achievementArr[e[t].id-1]){this.achieveBtn.getChildByName("tips").active=!0;break}}}else this.achieveBtn.active=!1},onEnable:function(){d==r.default.toutiao&&s.default.hide()},update:function(e){var t=this.checkLeftTime(h.lastFreeAccel),i=this.freeAccelBtn.getChildByName("sprite");t?(this.freeAccelBtn.getChildByName("time").active=!0,this.freeAccelBtn.getChildByName("time").getComponent(cc.Label).string=this.getLeftTimeFormatString(h.lastFreeAccel),i.getChildByName("nums").color=cc.Color.GRAY,i.getChildByName("nums").getComponent(cc.LabelOutline).color=cc.Color.GRAY,cc.uiCenter.setState(i.getChildByName("accel").getComponent(cc.Sprite),0),cc.uiCenter.setState(i.getChildByName("video").getComponent(cc.Sprite),0)):(h.lastFreeAccel=null,this.freeAccelBtn.getChildByName("time").active=!1,cc.uiCenter.setState(i.getChildByName("accel").getComponent(cc.Sprite),1),cc.uiCenter.setState(i.getChildByName("video").getComponent(cc.Sprite),1),i.getChildByName("nums").color=cc.Color.RED,i.getChildByName("nums").getComponent(cc.LabelOutline).color=cc.Color.RED)},getCost:function(e,t,i){return h.getBikeUpgradeCost(e,t,i)},checkLeftTime:function(e){var t=!1,i=new Date(e),n=9e4-((new Date).getTime()-i.getTime());if(n>0){Math.floor(n/36e5);var a=n%36e5;Math.floor(a/6e4);a%=6e4;Math.floor(a/1e3);t=!0}return t},getLeftTimeFormatString:function(e){if(""==e)return"";var t="",i=new Date(e),n=9e4-((new Date).getTime()-i.getTime());if(n>0){var a=Math.floor(n/36e5),o=n%36e5,s=Math.floor(o/6e4);o%=6e4;var r=Math.floor(o/1e3),c=function(e){return e<10?"0"+e:e};a>0?(t=c(a),t+=":"+c(s),t+=":"+c(r)):(t=c(s),t+=":"+c(r))}return t}}),cc._RF.pop()},{ChanneConfig:void 0,GameDataCenter:"GameDataCenter",banner:void 0,buttonConfig:void 0,login:void 0,share:void 0,statistics:void 0,videoAd:void 0}],GameMode:[function(e,t,i){"use strict";cc._RF.push(t,"1c965bLyFtOeoQc9XENFUy+","GameMode"),Object.defineProperty(i,"__esModule",{value:!0}),i.random=f,i.choice=function(e){return e[f(0,e.length)]};var n=r(e("banner")),a=r(e("ChanneConfig")),o=r(e("athletics")),s=r(e("MainScene"));function r(e){return e&&e.__esModule?e:{default:e}}function c(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var h=a.default.channelId,d=e("GameDataCenter").getInstance(),u=[13,45,65],l=[1,2,3,4];function f(e,t){return Math.floor(Math.random()*(t-e))+e}cc.Class({extends:cc.Component,properties:{main:s.default,aiItem:{default:[],type:cc.Node},rankBtnList:{default:[],type:cc.Node},amuseBtnList:{default:[],type:cc.Node},mapPrefab:{default:null,type:cc.Prefab},inventoryPrefab:cc.Prefab,experiencePrefab:cc.Prefab,levelBtnNode:cc.Node,searchNode:cc.Node,amusementPrefab:cc.Prefab,moveNode:cc.Node,gameMapBtn:cc.Node,unlockModeNode:cc.Node,unlockNameLabel:cc.Label},onLoad:function(){this.setButtonList(),this.searchNode.active=!1,this.unlockModeNode.active=!1,this.returnButtonTips()},start:function(){this._customeData=cc.loading.getCustomData()},returnButtonTips:function(){for(var e=!1,t=0;t<4;t++){var i=d.getBikeUpgrade(t)||[],n=this.getCost(d.curUseBike,t,i[t])||{id:t},a=n&&n.cost||"";n&&n.discountCount&&n.discountCount>0&&(n.discountCost=Math.floor(parseInt(n.cost)*parseFloat(n.upgradeDiscount[n.discountCount-1])));var o=n&&n.discountCost||"",s=o?o/10:a/10;if(e=d.totalCoins>s)break}if(!e)for(var r=0;r<d.getTotalBikeCount();r++){var c=d.getBikeDataSort(r);if(c.buyed||3==c.gainType||(0==c.gainType?e=d.totalCoins>=c.cost:1==c.gainType?e=c.totalDiamonds>=c.cost:2==c.gainType&&(e=c.fragment>=c.cost)),e)break}if(!e)for(var h=cc.gameConfig.effectData,u=0;u<h.length&&(d._userGameData.getEffectList[u]&&0!=h[u].condition&&(1==h[u].condition?e=d.totalDiamonds>=h[u].cost:1==h[u].condition&&(e=d.effectCardArr[1]>=h[u].cost)),!e);u++);this.node.getChildByName("btn_close").getChildByName("tips").active=e},getCost:function(e,t,i){return d.getBikeUpgradeCost(e,t,i)},showUnlockButton:function(e,t){var i=void 0;i=e?this.rankBtnList[t]:this.amuseBtnList[t],this.showUnlockAnimation(i)},showUnlockAnimation:function(e){var t=e.getChildByName("mask");t.getChildByName("lock").active=!1;var i=t.getChildByName("unlock").getComponent(dragonBones.ArmatureDisplay);i.on(dragonBones.EventObject.COMPLETE,function(){t.runAction(cc.sequence(cc.fadeOut(1),cc.callFunc(function(){this._customeData&&"rankGuidelines"==this._customeData.cmd?this.main.mainGuidelines.guidelines[10].active=!0:(e.getChildByName("hand").active=!0,this.setButtonList())},this)))},this),i.node.active=!0,i.playAnimation("newAnimation",1)},setButtonList:function(){var e=d.getTotalStar();this.levelBtnNode.getChildByName("count").getComponent(cc.Label).string=e+"/"+3*d.getTotalLevelCount(),this.levelBtnNode.getChildByName("select").active=!(this._customeData&&(this._customeData.rankType||this._customeData.amusementType));for(var t=0;t<this.rankBtnList.length;t++){var i=this.rankBtnList[t],n=e>=u[t];if(i.getChildByName("select").active=this._customeData&&this._customeData.rankType==t,n&&d._userGameData.isUnlockRankModeArr[t])i.getChildByName("mask").active=!1;else i.getChildByName("mask").getChildByName("count").getComponent(cc.Label).string=e+"/"+u[t]}for(var a=0;a<this.amuseBtnList.length;a++){var o=this.amuseBtnList[a],s=d.getRankData(),r=s.id,c=s.starNum,h=d.getRankData(d.getRankIdStar(l[a])),f=r>=h.id&&c>=1;if(o.getChildByName("select").active=!1,f&&d._userGameData.isUnlockAmuseModeArr[a])o.getChildByName("mask").active=!1;else{var p=o.getChildByName("mask").getChildByName("rank"),m=p.getChildByName("rank_item");p.getChildByName("rankStar");this.showRankIcon(m.getChildByName("icon"),h,2),this.showRankName(m.getChildByName("txt"),h.nameRes,2)}}},showLockAnimation:function(e){e.isLock||e.runAction(cc.sequence(cc.callFunc(function(){e.isLock=!0},this),cc.rotateTo(.2,45).easing(cc.easeBackOut()),cc.rotateTo(.1,0),cc.rotateTo(.2,-45).easing(cc.easeBackOut()),cc.rotateTo(.1,0),cc.delayTime(.5),cc.callFunc(function(){e.isLock=!1},this)))},showAmusementView:function(e){this.moveNode.y=1040;for(var t=0;t<this.amuseBtnList.length;t++){var i=this.amuseBtnList[t];e==t&&(i.getChildByName("select").active=!0)}},onMap:function(){cc.audioComponent.play("button"),this.showMap()},showMap:function(){var e=cc.instantiate(this.mapPrefab);this.mapItem=e,e.on("onClose",this.getButtonType,this),this.node.addChild(e)},getButtonType:function(){if(this._customeData)switch(this._customeData.cmd){case"rankGuidelines":case"UnlockPropsMode":case"UnlockObstacleMode":this.scheduleOnce(function(){this.showUnlockButton(!0,this._customeData.type)},1);case"UnlockOvertaskMode":case"UnlockCollideMode":case"UnlockBullionMode":case"UnlockDiamondMode":this.scheduleOnce(function(){this.showUnlockButton(!1,this._customeData.type)},1)}},onMatch:function(e,t){if(cc.audioComponent.play("button"),this.rankType=parseInt(t),d.getTotalStar()>=u[this.rankType]&&d._userGameData.isUnlockRankModeArr[this.rankType]){this.updateAiList(),this.searchNode.active=!0;var i=function(){this.match()}.bind(this),n=function(e,t){e&&t?(this.useProps=e,this.daojuList=t,cc.toast.show(cc.gameConfig.gameString.gainExperienceTips,1,0,i)):i()}.bind(this),a=function(){if(this._customeData&&this._customeData.isFailure){var e=cc.instantiate(this.experiencePrefab);e.on("experienceClose",n,this),this.node.addChild(e)}else i()}.bind(this);(function(){cc.toast.show(cc.gameConfig.gameString.daojuInventoryTips,1);var e=cc.instantiate(this.inventoryPrefab);e.on("inventoryClose",a,this),this.node.addChild(e)}).bind(this)()}else{var o=this.rankBtnList[this.rankType].getChildByName("mask").getChildByName("lock");this.showLockAnimation(o)}},updateAiList:function(){for(var e=0;e<this.aiItem.length;e++){this.aiItem[e].getChildByName("info").active=!1}},match:function(){this.isMatching=!0,this.playerIndex=0;var e=d.getCurBikeAndUpgradeData();e.id=d.curUseBike;for(var t=0,i=[],n=0;n<this.aiItem.length;n++){t+=Math.floor(Math.random()*cc.gameConfig.wcInfoData.length-t);var a={};a.userinfo=cc.gameConfig.wcInfoData[t],a.bike={},a.bike.isAi=!0,a.bike.maxSpeed=e.maxSpeed+5+5*Math.random(),a.bike.minSpeed=e.maxSpeed-5-5*Math.random(),a.bike.accRate=e.accRate-.3*e.accRate+Math.random()*e.accRate*.3,a.bike.id=1,i.push(a)}o.default.players=i,this.players=i,this.schedule(this.onMatchIng,.5)},onMatchIng:function(){this.playerIndex<this.players.length?this.updatePlayer():(this.unschedule(this.onMatchIng),this.onMatchBack())},updatePlayer:function(){var e=this.players[this.playerIndex].userinfo,t=this.aiItem[this.playerIndex].getChildByName("info");t.active=!0,this.showIcon(t.getChildByName("bike"),f(0,10)),t.getChildByName("name").getComponent(cc.Label).string=e.nickName||"";var i=d.rankLevel,n=d.getRankData(),a=i-f(0,n.star);a=a>0?a:0;var o=i+f(0,Math.random()<.7?n.star:2*n.star);o=(o=o<a?o+a/2:o)<0?0:o,console.log("lower",a),console.log("upper",o);var s=t.getChildByName("rank_item").getChildByName("rank"),r=d.getRankData(f(a,o));this.showRankIcon(s.getChildByName("icon"),r,2),this.showRankName(s.getChildByName("txt"),r.nameRes,2),this.playerIndex++},onMatchBack:function(){this.isMatching=!1,h==a.default.toutiao&&-1!=d.rankLevel&&n.default.show("paiweisai"),this.onStartGame()},onStartGame:function(){var e;this._startGame=!0;var t=d.getRankData(),i=d.getTotalLevelCount()-10,n=cc.gameConfig.rankData.length,a=t.id-1,o=f(Math.floor(i/n)*a,Math.floor(i/n)*t.id);console.log("level: "+o),d.lastPlayRankGameTime=new Date,d.saveData();var s=Math.floor(Math.random()*cc.gameConfig.obstacleGameData.length/2),r=1==this.rankType?s:cc.gameConfig.obstacleGameData.length/2+s;cc.log("sceneTpe",r),cc.loading.loadScene("GameScene",(c(e={level:o,daojuList:this.daojuList?this.daojuList:d.getGameDaoJuList(),tryProps:this.useProps,isMatch:!0},"tryProps",this.tryProps),c(e,"launch",this.launch),c(e,"rankMap",this.rankType),c(e,"circle",2),c(e,"sceneType",r),e),!0)},showUnlockMode:function(){this.unlockModeNode.active=!0,this.unlockModeNode.getChildByName("btn_close").active=!1,this.unlockModeNode.zIndex=99,-1==d.newGuidelinesCount&&h==a.default.toutiao&&n.default.show("main");var e,t=cc.loading.getCustomData().cmd;switch(t){case"UnlockObstacleMode":e=cc.gameConfig.gameString.unlockObstacleMode,d._userGameData.isUnlockRankModeArr[1]=!0;break;case"UnlockPropsMode":e=cc.gameConfig.gameString.unlockPropsMode,d._userGameData.isUnlockRankModeArr[2]=!0;break;case"UnlockOvertaskMode":e=cc.gameConfig.gameString.unlockOvertaskMode,d._userGameData.isUnlockAmuseModeArr[0]=!0;break;case"UnlockCollideMode":e=cc.gameConfig.gameString.unlockCollideMode,d._userGameData.isUnlockAmuseModeArr[1]=!0;break;case"UnlockBullionMode":e=cc.gameConfig.gameString.unlockBullionMode,d._userGameData.isUnlockAmuseModeArr[2]=!0;break;case"UnlockDiamondMode":e=cc.gameConfig.gameString.unlockDiamondMode,d._userGameData.isUnlockAmuseModeArr[3]=!0}console.log("isUnlockAmuseModeArr[i]",t),d.saveData(),this.unlockNameLabel.string=e},onGoToMode:function(){this.unlockModeNode.active=!1,h==a.default.toutiao&&n.default.hide(),this.mapItem?this.mapItem.getComponent("GameMap").close():("UnlockObstacleMode"!=cc.loading.getCustomData().cmd&&"UnlockPropsMode"!=cc.loading.getCustomData().cmd&&this.showAmusementView(this._customeData.type),this.getButtonType())},onCloseUnlock:function(){this.unlockModeNode.active=!1},showIcon:function(e,t){e&&cc.loader.loadRes("bike/bike"+t,cc.SpriteFrame,function(t,i){t||(e.getComponent(cc.Sprite).spriteFrame=i)})},showRankIcon:function(e,t,i){var n=t.iconRes,a=1==i?t.id>=6?.2:.3:t.id>=6?.15:.2;e.setScale(a),e&&cc.loader.loadRes(n,cc.SpriteFrame,function(t,i){t||(e.getComponent(cc.Sprite).spriteFrame=i)})},showRankName:function(e,t){e&&cc.loader.loadRes(t,cc.SpriteFrame,function(t,i){t||(e.getComponent(cc.Sprite).spriteFrame=i)})},onAmusementGame:function(e,t){if(cc.audioComponent.play("button"),t=parseInt(t),console.log("button type",t),d._userGameData.isUnlockAmuseModeArr[t]){var i=cc.instantiate(this.amusementPrefab);i.getComponent("AmusementGame").setSceneData(t),this.node.addChild(i)}else{var n=this.amuseBtnList[t].getChildByName("mask").getChildByName("lock");this.showLockAnimation(n)}},onDisable:function(){(!this._customeData||"upgradeGuidelines"!=this._customeData.cmd&&"plateGuidelines"!=this._customeData.cmd&&"rankGuidelines"!=this._customeData.cmd)&&h==a.default.toutiao&&(this._startGame||-1==d.newGuidelinesCount&&window.InterstitialAd.createInterstitialAdByAdId("main"))},onEnable:function(){this.returnButtonTips(),this.moveNode.y=0}}),cc._RF.pop()},{ChanneConfig:void 0,GameDataCenter:"GameDataCenter",MainScene:"MainScene",athletics:void 0,banner:void 0}],GameOverRanking:[function(e,t,i){"use strict";cc._RF.push(t,"e998bhUW4pNNYn19UJ7VXBB","GameOverRanking");var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(e){return e&&e.__esModule?e:{default:e}}(e("net"));cc.Class({extends:cc.Component,properties:{prefab:cc.Prefab,layout:cc.Node,level:0},start:function(){var e=this,t="?levelNum="+(this.level+1);cc.log("levelNum---\x3e",t,void 0===t?"undefined":n(t)),a.default.requestApiGet("getLevelRanking",t,function(t){cc.log("\u83b7\u53d6\u5230\u76844399\u6392\u884c\u6570\u636eres---",t);var i=t.response;if(i.rank)for(var n=0;n<i.rank.length;n++){var a=i.rank[n];e.createUserBlock(a)}})},createUserBlock:function(e){var t=this.createPrefab(),i=e.nickname,n=e.avatarUrl,a=e.rank,o=e.spendTime,s=t.getComponent("RankingItem");s.setName(i),s.setRanking(a),s.setTimeString(o),s.setAvtar(n)},createPrefab:function(){var e=cc.instantiate(this.prefab);return e.parent=this.layout,e}}),cc._RF.pop()},{net:void 0}],GameRecommended2:[function(e,t,i){"use strict";cc._RF.push(t,"c2077hzDiZKKKkNomPWOztf","GameRecommended2");var n=o(e("banner")),a=o(e("statistics"));function o(e){return e&&e.__esModule?e:{default:e}}cc.Class({extends:cc.Component,properties:{},start:function(){a.default.setSceneEvent("","adshow",7,{pos:"youxituijiang2"})},onClose:function(){this.node.emit("onClose"),this.node.destroy()},onEnable:function(){n.default.show("top")},onDisable:function(){}}),cc._RF.pop()},{banner:void 0,statistics:void 0}],GameRecommended:[function(e,t,i){"use strict";cc._RF.push(t,"f253fAD10JEpbc3o2pC9ZyO","GameRecommended");var n=function(e){return e&&e.__esModule?e:{default:e}}(e("statistics"));cc.Class({extends:cc.Component,properties:{},start:function(){n.default.setSceneEvent("","adshow",7,{pos:"youxituijiang"})},onClose:function(){this.node.destroy()}}),cc._RF.pop()},{statistics:void 0}],GameRecorder:[function(e,t,i){"use strict";cc._RF.push(t,"eacd99jJBBGcbIofk0tRKdH","GameRecorder");var n=o(e("ChanneConfig")),a=o(e("recorder"));function o(e){return e&&e.__esModule?e:{default:e}}var s=e("GameDataCenter").getInstance(),r=n.default.channelId;cc.Class({extends:cc.Component,properties:{recorderStartBtn:cc.Node,recorderStopBtn:cc.Node,recorderShareBtn:cc.Node,guidelinesPrefab:cc.Prefab},onLoad:function(){this.initRecorder(),cc.log("channelId",r,s.newGuidelinesCount),r==n.default.toutiao&&-1==s.newGuidelinesCount?a.default.recorderManager&&("MainScene"==cc.director.getScene().name&&a.default.automatic&&(a.default.vedioPath=a.default.gameIsWin?a.default.vedioPath:null),this.recorderStartBtn&&(this.recorderStartBtn.active=!a.default.isRecorder),this.recorderStopBtn&&(this.recorderStopBtn.active=a.default.isRecorder),console.log("recorder.videoPath:"+a.default.vedioPath),this.recorderShareBtn&&(this.recorderShareBtn.active=!!a.default.vedioPath)):(this.recorderStartBtn&&(this.recorderStartBtn.active=!1),this.recorderStopBtn&&(this.recorderStopBtn.active=!1),this.recorderShareBtn&&(this.recorderShareBtn.active=!1))},start:function(){cc.eventCenter.on("main_recorder_over",this.recStop,this),cc.eventCenter.on("hide_share_btn",this.hideShareVedioBtn,this),cc.eventCenter.on("game_recoreder_start",this.onRecoderStart,this),cc.eventCenter.on("game_recoreder_stop",this.recStop,this)},initRecorder:function(){r==n.default.toutiao&&null==a.default.recorderManager&&(console.log("recorderManager create............."),a.default.createRecorder(),a.default.recorderManager.onStop(function(e){console.log(e),a.default.setVedioPath(e.videoPath),console.log("onStop: "+a.default.vedioPath)}),a.default.recorderManager.onStart(function(e){console.log("recorder.automatic: ",a.default.automatic),a.default.automatic||cc.toast.show("\u5f00\u59cb\u5f55\u5c4f\uff0c\u6700\u957f5\u5206\u949f",1),a.default.expire1=setTimeout(function(){if(a.default.isRecorder){cc.toast.show("\u5f55\u5c4f\u7ed3\u675f\u8fd8\u52695\u79d2",1);var e=setTimeout(function(){cc.eventCenter.emit("main_recorder_over"),clearTimeout(e)},5e3)}},295e3)}),a.default.recorderManager.onPause(function(e){console.log("on recorder puase................"),console.log(e)}))},recStart:function(){this.onRecoderStart()},onRecoderStart:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];a.default.vedioPath&&this.hideShareVedioBtn(),a.default.recorderStart(),a.default.cleanVedioPath(),a.default.isShowRecorder=!1,a.default.automatic=e,this.recorderStartBtn.active=!a.default.isRecorder,this.recorderStopBtn.active=a.default.isRecorder;var t=0,i=function(){console.log("this.isRecorder: "+a.default.isRecorder),console.log("count: "+t),t++,!a.default.isRecorder&&t<4?(a.default.isShowRecorder=!1,cc.toast.show("\u5f55\u5c4f\u65f6\u95f4\u8fc7\u77ed\uff01",1),a.default.recorderStop(),a.default.cleanVedioPath(),this.unschedule(i)):t>=4?(a.default.isShowRecorder=!0,this.unschedule(i)):(cc.log("\u8ba1\u65f6\u4e2d"),a.default.isShowRecorder=!1)}.bind(this);this.schedule(i,1,4)},recStop:function(){a.default.recorderStop(),console.log("recorder.isShowRecorde: "+a.default.isShowRecorder),a.default.isShowRecorder&&(console.log("recorder.automatic: "+a.default.automatic),a.default.automatic||cc.toast.show("\u5f55\u5c4f\u6210\u529f",1),this.recorderShareBtn.active=!0,s.isRecorderTips||a.default.automatic||"MainScene"!=cc.director.getScene().name||this.recorderGuidelinesTips()),"MainScene"==cc.director.getScene().name?(this.recorderStartBtn.active=!a.default.isRecorder,this.recorderStopBtn.active=a.default.isRecorder):(this.recorderStartBtn.active=!1,this.recorderStopBtn.active=!1)},recorderShare:function(e,t){console.log("recorder.videoPath: "+a.default.vedioPath),a.default.vedioPath&&tt.shareAppMessage({channel:"video",title:"\u7cbe\u5f69\u7684\u4e00\u5c40",imageUrl:"",query:"",extra:{videoPath:a.default.vedioPath,videoTopics:["\u98d9\u98d9\u98de\u8f66"]},success:function(){s.totalDiamonds+=50,cc.eventCenter.emit("hide_share_btn"),cc.toast.show("\u83b7\u5f97\u94bb\u77f350",1),a.default.cleanVedioPath(),console.log("\u89c6\u9891\u5df2\u5206\u4eab")},fail:function(e){console.log(e),"shareAppMessage:cancel"==e.errMsg&&cc.toast.show("\u53d6\u6d88\u5206\u4eab",1)}})},hideShareVedioBtn:function(){this.recorderStartBtn&&(this.recorderStartBtn.active=!0),this.recorderStopBtn&&(this.recorderStopBtn.active=!1),this.recorderShareBtn&&(this.recorderShareBtn.active=!1)},recorderGuidelinesTips:function(){var e=cc.instantiate(this.guidelinesPrefab),t=this.node.parent.parent;e.getChildByName("guidelines").getChildByName("control").on(cc.Node.EventType.TOUCH_START,function(){t.removeChild(e),s.isRecorderTips=!0,s.saveData()}.bind(this),this),t.addChild(e)}}),cc._RF.pop()},{ChanneConfig:void 0,GameDataCenter:"GameDataCenter",recorder:void 0}],GetAward:[function(e,t,i){"use strict";cc._RF.push(t,"433c3L9SpRFjoQ1XkBZY5yC","GetAward");var n=c(e("buttonConfig")),a=c(e("share")),o=c(e("videoAd")),s=(c(e("statistics")),c(e("banner"))),r=c(e("login"));function c(e){return e&&e.__esModule?e:{default:e}}var h=e("GameDataCenter").getInstance();cc.Class({extends:cc.Component,properties:{awardLabel:cc.Label,awardSprite:cc.Sprite,doubleAwardButton:cc.Node,noThanksBtn:cc.RichText,shareBtn:cc.Node,doubleAwardButtonVideo:cc.SpriteFrame,yesBtn:cc.Node},setData:function(e,t){this.id=e,this.count=t},onLoad:function(){var e=this;n.default.isShow("bisaipaimingshuangbeijiangli")?(this.doubleAwardButton.active=!0,"share"!=n.default.getState("bisaipaimingshuangbeijiangli",0)&&(this.doubleAwardButton.getComponent(cc.Sprite).spriteFrame=this.doubleAwardButtonVideo),this.scheduleOnce(function(){e.node.getChildByName("noThanksLabel").active=!0},2)):(this.doubleAwardButton.active=!1,this.yesBtn.active=!0)},start:function(){if(this.res="ico_coin",this.name=cc.gameConfig.gameString.coinLabel,"coin"!=this.id){var e=cc.gameConfig.daojuDataForKey[this.id];cc.log("daoju =",e),this.res=e.res,this.name=e.name}cc.loader.loadRes(this.res,cc.SpriteFrame,function(e,t){this.awardSprite.spriteFrame=t}.bind(this)),this.awardLabel.string=this.name+"x"+this.count,"coin"==this.id?h.totalCoins=h.totalCoins+this.count:h.setDaoJuNum(1,this.id,this.count),h.saveData(),this.noThanksBtn.string=cc.gameConfig.gameString.noThanksLabel},onGetAward:function(){this.node.active=!1,this.node.destroy()},onGetDoubleAward:function(){var e=function(){var e=this;n.default.getState("bisaipaimingshuangbeijiangli",1),"coin"==this.id?h.totalCoins=h.totalCoins+this.count:h.setDaoJuNum(1,this.id,this.count),h.saveData(),this.awardLabel.string=this.name+"x"+2*this.count,this.doubleAwardButton.active=!1,this.shareBtn.active=!0,this.noThanksBtn.node.active=!1,this.scheduleOnce(function(){e.noThanksBtn.node.active=!0},2)}.bind(this);"share"==n.default.getState("bisaipaimingshuangbeijiangli",0)?a.default.shareToSociety({shareType:1,buttonKey:"bisaipaimingshuangbeijiangli"},e):o.default.show("bisaipaimingshuangbeijiangli",e)},onShareFriend:function(){a.default.shareToSociety({shareType:2,buttonKey:"xuanyaoyixia"},this.onClose.bind(this))},onClose:function(){this.node.active=!1,this.node.destroy()},onDestroy:function(){cc.loader.releaseRes(this.res,cc.SpriteFrame)},onEnable:function(){this.banner=s.default.show("top"),r.default.hideLogin()},onDisable:function(){this.banner?s.default.show(this.banner):s.default.hide(),r.default.showLogin()}}),cc._RF.pop()},{GameDataCenter:"GameDataCenter",banner:void 0,buttonConfig:void 0,login:void 0,share:void 0,statistics:void 0,videoAd:void 0}],GetTimeAward:[function(e,t,i){"use strict";cc._RF.push(t,"eaca2Dq7XBG5o2Pd/fiBnje","GetTimeAward");var n=c(e("buttonConfig")),a=c(e("share")),o=c(e("videoAd")),s=c(e("statistics")),r=c(e("banner"));c(e("login"));function c(e){return e&&e.__esModule?e:{default:e}}var h=e("GameDataCenter").getInstance();function d(e){cc.log("time",e);var t=Math.floor(e/6e4%60).toString(),i=Math.floor(e%6e4/1e3).toString(),n=Math.floor(e/36e5).toString();return n.length<2&&(n="0"+n),t.length<2&&(t="0"+t),i.length<2&&(i="0"+i),n+":"+t+":"+i}cc.Class({extends:cc.Component,properties:{awardLabel:cc.Label,awardSprite:cc.Sprite,doubleAwardButton:cc.Node,getAwardButton:cc.Node,noThanksBtn:cc.RichText,shareBtn:cc.Node,doubleAwardButtonVideo:cc.SpriteFrame,getAwardButtonVideo:cc.SpriteFrame,yesBtn:cc.Node,timeLabel:cc.Label,_subsidyAward:0},setData:function(e){this.levelData=e},setSubsidyAward:function(e){this._subsidyAward=e},onLoad:function(){"share"!=n.default.getState("bisaipaiming",0)&&(this.getAwardButton.getComponent(cc.Sprite).spriteFrame=this.getAwardButtonVideo),"share"!=n.default.getState("bisaipaimingshuangbeijiangli",0)&&(this.doubleAwardButton.getComponent(cc.Sprite).spriteFrame=this.doubleAwardButtonVideo)},start:function(){var e,t=this,i=new Date,n=this.levelData.timeAward[0];if(this.levelData.timeAward.length>0){for(var a=0,o=0;o<this.levelData.timeAward.length;o++)a+=this.levelData.timeAward[o].probability;var r=a*Math.random();a=0;for(o=0;o<this.levelData.timeAward.length;o++)if(r<(a+=this.levelData.timeAward[o].probability)){n=this.levelData.timeAward[o];break}}if(e=12==i.getHours()||20==i.getHours()?{id:n.timeAwardId,count:n.timeAwardNum}:{id:n.awardId,count:n.awardNum},this.id=e.id,this.count=e.count,this.res="ico_coin",this.name=cc.gameConfig.gameString.coinLabel,"coin"!=this.id){var c=cc.gameConfig.daojuDataForKey[this.id];cc.log("daoju =",c),this.res=c.res,this.name=c.name}else this.count+=this._subsidyAward/2;cc.loader.loadRes(this.res,cc.SpriteFrame,function(e,t){this.awardSprite.spriteFrame=t}.bind(this)),this.awardLabel.string=this.name+"x"+this.count,this.noThanksBtn.string=cc.gameConfig.gameString.noThanksLabel,this.doubleAwardButton.active=!0,this.getAwardButton.active=!1,this.scheduleOnce(function(){t.noThanksBtn.node.active=!0},2),this.time=(new Date).getTime(),this.schedule(this.timeCall,1),this.timeCall(),s.default.setSceneEvent("","adshow",7,{pos:"xianshijiangli"})},timeCall:function(){var e=new Date,t=new Date;e.getHours()<12?(t.setTime(this.time),t.setHours(12),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),this.timeLabel.string=""):12==e.getHours()?(t.setTime(this.time),t.setHours(13),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),this.timeLabel.string=cc.gameConfig.gameString.limit_time+d(t.getTime()-this.time)):e.getHours()<17?(t.setTime(this.time),t.setHours(17),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),this.timeLabel.string=""):e.getHours()>=17&&e.getHours()<20?(t.setTime(this.time),t.setHours(20),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),this.timeLabel.string=cc.gameConfig.gameString.limit_time+d(t.getTime()-this.time)):e.getHours()<=23&&(t.setTime(this.time+864e5),t.setHours(12),t.setMinutes(0),t.setSeconds(0),this.timeLabel.string=""),this.time+=1e3},onGetAward:function(){cc.audioComponent.play("button"),s.default.setSceneEvent("\u751f\u6daf\u6311\u6218-\u9650\u65f6\u5956\u52b1","\u70b9\u51fb","\u9886\u53d6");var e=function(){var e=this;n.default.getState("bisaipaiming",1),"coin"==this.id?h.totalCoins=h.totalCoins+this.count:h.setDaoJuNum(1,this.id,this.count),h.saveData(),cc.toast.show("\u606d\u559c\u83b7\u5f97"+this.name+"x"+this.count,1.5),n.default.isShow("bisaipaimingshuangbeijiangli")?(this.awardLabel.string=this.name+"x"+2*this.count,this.doubleAwardButton.active=!0,this.getAwardButton.active=!1,this.noThanksBtn.node.active=!1,"share"!=n.default.getState("bisaipaimingshuangbeijiangli",0)&&(this.doubleAwardButton.getComponent(cc.Sprite).spriteFrame=this.doubleAwardButtonVideo),this.scheduleOnce(function(){e.noThanksBtn.node.active=!0},2)):this.onClose()}.bind(this),t=function(){}.bind(this);"share"==n.default.getState("bisaipaiming",0)?a.default.shareToSociety({shareType:1,buttonKey:"bisaipaiming"},e,t):o.default.show("bisaipaiming",e,t)},onGetDoubleAward:function(){cc.audioComponent.play("button"),s.default.setSceneEvent("\u751f\u6daf\u6311\u6218-\u9650\u65f6\u5956\u52b1","\u70b9\u51fb","\u53cc\u500d\u9886\u53d6");var e=function(){n.default.getState("bisaipaimingshuangbeijiangli",1),"coin"==this.id?h.totalCoins=h.totalCoins+2*this.count:h.setDaoJuNum(1,this.id,this.count),h.saveData(),cc.toast.show("\u606d\u559c\u83b7\u5f97"+this.name+"x"+2*this.count,1.5),this.onClose()}.bind(this);"share"==n.default.getState("bisaipaimingshuangbeijiangli",0)?a.default.shareToSociety({shareType:1,buttonKey:"bisaipaimingshuangbeijiangli"},e):o.default.show("bisaipaimingshuangbeijiangli",e)},onShareFriend:function(){cc.audioComponent.play("button"),a.default.shareToSociety({shareType:2,buttonKey:"xuanyaoyixia"},this.onClose.bind(this))},onClose:function(){this.node.emit("onClose"),cc.audioComponent.play("button"),this.node.active=!1,this.node.destroy()},onDestroy:function(){},onEnable:function(){r.default.show("main")},onDisable:function(){}}),cc._RF.pop()},{GameDataCenter:"GameDataCenter",banner:void 0,buttonConfig:void 0,login:void 0,share:void 0,statistics:void 0,videoAd:void 0}],GoMatch:[function(e,t,i){"use strict";cc._RF.push(t,"73c25HQQDVBzpjorynfN8ZJ","GoMatch");var n=o(e("banner")),a=o(e("buttonConfig"));function o(e){return e&&e.__esModule?e:{default:e}}var s=e("GameDataCenter").getInstance();cc.Class({extends:cc.Component,properties:{contentLabel:cc.Label},gotoMatch:function(){cc.audioComponent.play("button"),cc.loading.loadScene("MainScene",{cmd:"showMatch"})},gotoMap:function(){cc.audioComponent.play("button"),cc.loading.loadScene("MainScene",{cmd:"showMap",level:s.levelNum})},onLoad:function(){this.contentLabel.string=cc.gameConfig.gameString.coinNotEnoughAndGotoMatch},start:function(){},onClose:function(){this.node.parent.active=!1,this.node.parent.removeFromParent()},onEnable:function(){a.default.isSceneOpen("shengjibanner")&&n.default.show("main")},onDisable:function(){n.default.hide()}}),cc._RF.pop()},{GameDataCenter:"GameDataCenter",banner:void 0,buttonConfig:void 0}],IconTop:[function(e,t,i){"use strict";cc._RF.push(t,"be39dpptUJIA41eVyhdOQ1f","IconTop");var n=function(e){return e&&e.__esModule?e:{default:e}}(e("login"));var a=e("GameDataCenter").getInstance();cc.Class({extends:cc.Component,properties:{},start:function(){},onGet:function(){cc.audioComponent.play("button"),1022==window.wxBanner.scene||1089==window.wxBanner.scene||1104==window.wxBanner.scene||1001==window.wxBanner.scene?(a.totalCoins=a.totalCoins+5e3,a.isIconTop=!0,a.saveData(),cc.toast.show("\u83b7\u5f97\u91d1\u5e015000",1),this.node.destroy()):cc.toast.show("\u8bf7\u6309\u6307\u793a\u64cd\u4f5c\u65b9\u53ef\u83b7\u53d6\u5956\u52b1",1)},onClose:function(){cc.audioComponent.play("button"),this.node.destroy()},onEnable:function(){this.loginIsShow=n.default.hideLogin()},onDisable:function(){this.loginIsShow&&n.default.showLogin()}}),cc._RF.pop()},{GameDataCenter:"GameDataCenter",login:void 0}],InfoPanel:[function(e,t,i){"use strict";cc._RF.push(t,"6594fzvkPJO8LBHasCffZE1","InfoPanel");a(e("statistics")),a(e("login")),a(e("buttonConfig"));var n=a(e("ChanneConfig"));a(e("share")),a(e("videoAd"));function a(e){return e&&e.__esModule?e:{default:e}}var o=e("GameDataCenter").getInstance();n.default.channelId;cc.Class({extends:cc.Component,properties:{moreCoinsPrefab:cc.Prefab,moreDiamondsPrefab:cc.Prefab,bullionPos:cc.Node,diamondPos:cc.Node,bullionSprite:cc.SpriteFrame,diamondSprite:cc.SpriteFrame,authorzePrefab:cc.Prefab,rankRulesPrefab:cc.Prefab},onMoreCoins:function(){cc.audioComponent.play("button"),cc.uiCenter.showMoreCoins()},onShowDiamonds:function(){var e=this.diamondPos.parent.convertToWorldSpaceAR(this.diamondPos.position),t=this.node.convertToNodeSpaceAR(e);this.playAnim(this.node,cc.v2(0,0),t,this.diamondSprite,150,1)},onShowCoins:function(){var e=this.bullionPos.parent.convertToWorldSpaceAR(this.bullionPos.position),t=this.node.convertToNodeSpaceAR(e);this.playAnim(this.node,cc.v2(0,0),t,this.bullionSprite,100,0)},onLoad:function(){this.node.getChildByName("info").getComponent(cc.Widget).left=-15,this.node.getChildByName("info").getComponent(cc.Widget).updateAlignment(),this.showPool=new cc.NodePool,this.initShowPool()},start:function(){cc.eventCenter.on("show_coins_animation",this.onShowCoins,this),cc.eventCenter.on("show_diamonds_animation",this.onShowDiamonds,this),this.node.on("show_coins_animation",this.onShowCoins,this),this.node.on("show_diamonds_animation",this.onShowDiamonds,this)},onMoreDiamonds:function(e,t){cc.audioComponent.play("button"),cc.uiCenter.showMoreDiamonds()},onUserAuthorze:function(){if("\u6e38\u5ba2\u73a9\u5bb6"==o.username){var e=cc.instantiate(this.authorzePrefab);this.node.addChild(e)}},onRankRules:function(){cc.uiCenter.showRankRules()},update:function(e){},initShowPool:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,t=new cc.Node;t.addComponent(cc.Sprite);for(var i=0;i<e;i++){var n=cc.instantiate(t);this.showPool.put(n)}},playAnim:function(e,t,i,n,a,o){var s=30*Math.random()+10;this.showSprite=n,this.showType=o,cc.log("startPoint: ",t),cc.log("endPoint: ",i),this.playCoinFlyAnim(e,s,t,i,a)},playCoinFlyAnim:function(e,t,i,n,a){var o=this,s=this.showPool.size(),r=s>t?0:t-s;this.initShowPool(r);var c=this.getCirclePoints(a,i,t).map(function(t){var a=o.showPool.get();return a.getComponent(cc.Sprite).spriteFrame=o.showSprite,a.setScale(.5*Math.random()+1),a.setPosition(i),e.addChild(a),{node:a,stPos:i,mdPos:t,edPos:n,dis:t.sub(n).mag()}}),h=0;(c=c.sort(function(e,t){return e.dis-t.dis>0?1:e.dis-t.dis<0?-1:0})).forEach(function(e,t){e.node.runAction(cc.sequence(cc.moveTo(.3,e.mdPos),cc.delayTime(.03*t),cc.spawn(cc.moveTo(.5,e.edPos),cc.scaleTo(.5,1,1)),cc.callFunc(function(){o.showPool.put(e.node),h<10&&(cc.log("audioCount",h),0==o.showType?cc.audioComponent.play("game_coins"):cc.audioComponent.play("game_diamonds"),h++)})))})},getCirclePoints:function(e,t,i){for(var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:180,a=[],o=Math.PI/180*Math.round(360/i),s=e>120?Math.random()<.5?1:-1:1,r=0;r<i;r++){var c=t.x+e*Math.sin(o*r)+Math.random()*n*s,h=t.y+e*Math.cos(o*r)+Math.random()*n*s;a.unshift(cc.v3(c,h,0))}return a}}),cc._RF.pop()},{ChanneConfig:void 0,GameDataCenter:"GameDataCenter",buttonConfig:void 0,login:void 0,share:void 0,statistics:void 0,videoAd:void 0}],Inventory:[function(e,t,i){"use strict";cc._RF.push(t,"df012I+x6xJa7A7oebEAaCj","Inventory");var n=h(e("banner")),a=h(e("buttonConfig")),o=h(e("share")),s=h(e("videoAd")),r=h(e("statistics")),c=h(e("ChanneConfig"));function h(e){return e&&e.__esModule?e:{default:e}}var d=e("GameDataCenter").getInstance(),u=c.default.channelId;cc.Class({extends:cc.Component,properties:{shopItemPrefab:cc.Prefab,daojuData:cc.JsonAsset,shopItemListPanel:cc.Node,discountBtn:cc.Node,confirmBtn:cc.Node,confirmCallback:function(){},scene:0,tipTitle:cc.Label,tipContent:cc.Label,gongneng:cc.Label},init:function(){cc.log("init------"),this.daojuJson=this.daojuData.json,this.daojuCount=0,this.saleDiscount=this.daojuJson[0].saleDiscount,this.daojuJson&&this.updateShopList(),this.onItemSelected("",0)},updateShopList:function(){if(this._shopItem=[],this.shopItemListPanel){this.shopItemListPanel.removeAllChildren();var e=function(e,t){cc.loader.loadRes("prop/"+t,cc.SpriteFrame,function(t,i){t||e.isValid&&(e.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=i)})};if(this.shopItemPrefab)for(var t=0,i=isNaN(this.scene)?0:this.scene,n=0;n<this.daojuJson.length;n++){var a=this.daojuJson[n];if(a.scene==i||0==a.scene){var o,s=cc.instantiate(this.shopItemPrefab);a.discountCount=d.getMapPropDiscountCount(n),a.discountCount?a.discountCost=a.cost*parseFloat(a.saleDiscount[a.discountCount-1]):a.discountCost=a.cost,o=a.discountCount?a.discountCost:a.cost,s.getChildByName("layout").getChildByName("price").getComponent(cc.Label).string=o,s.getChildByName("title").getComponent(cc.Label).string=a.name,s.getChildByName("selected").active=!1,s.getChildByName("tips_equipment").active=!1,s.getChildByName("btn_unequipment").active=!1,a.selected=!1,a.zhezhao=!1;(function(e,t){return-1!=(","+e.join(",")+",").indexOf(","+t+",")})(d.getGameDaoJuList(),a.id)&&(s.getChildByName("tips_equipment").active=!0,s.getChildByName("btn_unequipment").active=!0,this.daojuCount++,a.zhezhao=!0),0==n&&(s.getChildByName("btn_unequipment").active=!1,s.getChildByName("btn_equipment").active=!1,s.getChildByName("tips_equipment").active=!0);var r=d.getDaoJuNum(a.id);s.getChildByName("totalNum").getComponent(cc.Label).string=r;var c=d.getDaoJuFreeNum(a.id),h=new cc.Component.EventHandler;h.target=this.node,h.component="Inventory",h.handler="onItemSelected",h.customEventData=n.toString(),s.getComponent(cc.Button).clickEvents.push(h);var u=new cc.Component.EventHandler;u.target=this.node,u.component="Inventory",u.handler="onEquipment",u.customEventData=n.toString(),s.getChildByName("btn_equipment").getComponent(cc.Button).clickEvents.push(u),s.getChildByName("btn_unequipment").getComponent(cc.Button).clickEvents.push(u),this.shopItemListPanel.addChild(s),t=Math.max(t,s.height),a.totalNum=r,a.free=c,a.gongneng=a.effects,this._shopItem.push(a),e(s,a.res)}}if(this.discountBtn){this.discountBtn.getComponent(cc.Animation).play(),this.discountBtn.getComponent(cc.Button).interactable=!0;var l=-1*(100-Math.floor(100*this.saleDiscount[0]));this.discountBtn.getChildByName("discountLabel").getComponent(cc.Label).string=l+"%"}}},calcTotalCoins:function(){var e=0;if(this._shopItem)for(var t=0;t<this._shopItem.length;t++)e+=parseInt(this._shopItem[t].discountCost)*parseInt(this._shopItem[t].buyNum);return d.totalCoins-e},onItemSelected:function(e,t){e&&cc.audioComponent.play("button");var i=parseInt(t);this.selected=i;for(var n=this.shopItemListPanel.children,a=0;a<n.length;a++)n[a].getChildByName("selected").active=a==i;this.gongneng.string=this._shopItem[i].gongneng,this.buttonChange()},onEquipment:function(e,t){cc.audioComponent.play("button");var i=parseInt(t),n=this.shopItemListPanel.children[i].getChildByName("btn_unequipment").active;if(n||3!=this.daojuCount){var a=d.getGameDaoJuList();if(n){this.daojuCount--;for(var o=0;o<a.length;o++)this._shopItem[i].id==a[o]&&a.splice(o,1)}else this.daojuCount++,a.push(this._shopItem[i].id);d.setGameDaoJuList(a),d.saveData(),this.shopItemListPanel.children[i].getChildByName("tips_equipment").active=!n,this.shopItemListPanel.children[i].getChildByName("btn_equipment").active=n,this.shopItemListPanel.children[i].getChildByName("btn_unequipment").active=!n,this._shopItem[i].zhezhao=!n,n||(cc.log("233???"),0==this._shopItem[i].totalNum&&cc.toast.show(cc.gameConfig.gameString.daojuNotEnough,1))}else cc.toast.show(cc.gameConfig.gameString.daoju_over,1)},onDiscount:function(){cc.audioComponent.play("button"),r.default.setSceneEvent("\u88c5\u5907\u9053\u5177","\u70b9\u51fb","\u5173\u5361\u9875-\u88c5\u5907\u9053\u5177-\u780d\u4ef7"),this.discountBtn.getComponent(cc.Button).interactable=!0;var e=function(){this._shopItem[this.selected].discountCount=this._shopItem[this.selected].discountCount||0,this._shopItem[this.selected].discountCost=Math.floor(parseInt(this._shopItem[this.selected].cost)*parseFloat(this.saleDiscount[this._shopItem[this.selected].discountCount])),this.shopItemListPanel.children[this.selected].getChildByName("layout").getChildByName("price").getComponent(cc.Label).string=this._shopItem[this.selected].discountCost,this._shopItem[this.selected].discountCount++;var e=!this._shopItem[this.selected].discountCount||this._shopItem[this.selected].discountCount<this.saleDiscount.length;this.discountBtn.getComponent(cc.Button).interactable=e;var t=100*parseFloat(this.saleDiscount[this._shopItem[this.selected].discountCount-1]);if(e){var i=-1*Math.floor(100*parseFloat(this.saleDiscount[this._shopItem[this.selected].discountCount-1])-100*parseFloat(this.saleDiscount[this._shopItem[this.selected].discountCount]));this.discountBtn.getChildByName("discountLabel").getComponent(cc.Label).string=i+"%"}cc.toast.show(cc.gameConfig.gameString.discount_success+":"+t+"%",1),d._userGameData.mapDaojuDiscountArr[this.selected]+=1,d.lastDiscountEveryday=new Date,d.saveData(),this.buttonChange()}.bind(this);"share"==a.default.getState("zhuangbeidaoju",0)?o.default.shareToSociety({shareType:1,buttonKey:"zhuangbeidaoju"},e):s.default.show("zhuangbeidaoju",e)},buttonChange:function(){this.discountBtn.getComponent(cc.Button).interactable=!0;var e=!this._shopItem[this.selected].discountCount||this._shopItem[this.selected].discountCount<this.saleDiscount.length;if(this.discountBtn.getComponent(cc.Button).interactable=e,e){var t;this.discountBtn.getComponent(cc.Animation).play();var i=this._shopItem[this.selected].discountCount;t=i?-1*Math.floor(100*parseFloat(this.saleDiscount[i-1])-100*parseFloat(this.saleDiscount[i])):-1*(100-Math.floor(100*this.saleDiscount[0])),i&&i--,this.discountBtn.getChildByName("discountLabel").getComponent(cc.Label).string=t+"%",cc.uiCenter.setState(this.discountBtn.getChildByName("bg").getComponent(cc.Sprite),1),cc.uiCenter.setState(this.discountBtn.getChildByName("icon_video").getComponent(cc.Sprite),1)}else this.discountBtn.getComponent(cc.Animation).stop(),this.discountBtn.getChildByName("discountLabel").getComponent(cc.Label).string="0%",cc.uiCenter.setState(this.discountBtn.getChildByName("bg").getComponent(cc.Sprite),0),cc.uiCenter.setState(this.discountBtn.getChildByName("icon_video").getComponent(cc.Sprite),0)},onBuy:function(){if(cc.audioComponent.play("button"),this._shopItem){var e=this._shopItem[this.selected];if((d.totalCoins||0)<(e.discountCount?parseInt(e.discountCost):parseInt(e.cost)))return cc.toast.show(cc.gameConfig.gameString.coins_not_enough,1),void cc.uiCenter.showMoreCoins();this._shopItem[this.selected].totalNum++,d.totalCoins-=Math.floor(this._shopItem[this.selected].discountCost),d.setDaoJuNum(0,e.id,1),d.saveData(),this.shopItemListPanel.children[this.selected].getChildByName("totalNum").getComponent(cc.Label).string=this._shopItem[this.selected].totalNum,cc.toast.show(cc.gameConfig.gameString.prop_buy_success,1),cc.audioComponent.play("coinsChanged")}},onClose:function(){cc.audioComponent.play("button"),this.node.emit("inventoryClose"),this.node.destroy()},onLoad:function(){this.init(),this.buttonChange(),this.daojuList=[],this.node.getChildByName("btn_close").active=!0},start:function(){},onEnable:function(){u==c.default.toutiao&&n.default.hide()}}),cc._RF.pop()},{ChanneConfig:void 0,GameDataCenter:"GameDataCenter",banner:void 0,buttonConfig:void 0,share:void 0,statistics:void 0,videoAd:void 0}],LicenseTips:[function(e,t,i){"use strict";cc._RF.push(t,"a633bXktXdFMLaHM+APBAk8","LicenseTips");var n=function(e){return e&&e.__esModule?e:{default:e}}(e("login"));cc.Class({extends:cc.Component,properties:{},start:function(){},onClose:function(){cc.audioComponent.play("button"),this.node.destroy()},onEnable:function(){this.loginIsShow=n.default.hideLogin()},onDisable:function(){this.loginIsShow&&n.default.showLogin()}}),cc._RF.pop()},{login:void 0}],ListItem:[function(e,t,i){"use strict";cc._RF.push(t,"8e9d9wm/jVBYb9s0fFcXbf/","ListItem");(function(e){e&&e.__esModule})(e("share"));var n=e("GameDataCenter").getInstance(),a=cc.Enum({NONE:0,TOGGLE:1,SWITCH:2});cc.Class({editor:{disallowMultiple:!1,menu:"\u81ea\u5b9a\u4e49\u7ec4\u4ef6/List Item",executionOrder:-5001},extends:cc.Component,properties:{icon:{default:null,type:cc.Sprite},title:cc.Node,selectedMode:{default:a.NONE,type:a,tooltip:!1},selectedFlag:{default:null,type:cc.Node,visible:function(){var e=this.selectedMode>0;return e||(this.selectedFlag=null),e}},selectedSpriteFrame:{default:null,type:cc.SpriteFrame,visible:function(){var e=this.selectedMode==a.SWITCH;return e||(this.selectedSpriteFrame=null),e}},adaptiveSize:{default:!1,tooltip:!1},_selected:!1,selected:{visible:!1,get:function(){return this._selected},set:function(e){if(this._selected=e,this.selectedFlag)switch(this.selectedMode){case a.TOGGLE:this.selectedFlag.active=e;break;case a.SWITCH:this.selectedFlag.spriteFrame=e?this.selectedSpriteFrame:this._unselectedSpriteFrame}}},_btnCom:null,btnCom:{visible:!1,get:function(){return this._btnCom||(this._btnCom=this.node.getComponent(cc.Button)),this._btnCom}}},onLoad:function(){if(this.title){var e=this.title.getComponent(cc.Label);e||(e=this.title.getComponent(cc.RichText)),this.title=e}if(this.btnCom||(this.selectedMode,a.NONE),this.selectedMode==a.SWITCH){var t=this.selectedFlag.getComponent(cc.Sprite);this.selectedFlag=t,this._unselectedSpriteFrame=t.spriteFrame}},start:function(){},onDestroy:function(){var e=this;e.node.off(cc.Node.EventType.SIZE_CHANGED,e._onSizeChange,e)},_registerEvent:function(){var e=this;e.eventReg||(e.btnCom&&e._list.selectedMode>0&&e.btnCom.clickEvents.unshift(e.createEvt(e,"onClickThis")),e.adaptiveSize&&e.node.on(cc.Node.EventType.SIZE_CHANGED,e._onSizeChange,e),e.eventReg=!0)},_onSizeChange:function(){this._list._onItemAdaptive(this.node)},createEvt:function(e,t,i){if(e.isValid){e.comName=e.comName||e.name.match(/\<(.*?)\>/g).pop().replace(/\<|>/g,"");var n=new cc.Component.EventHandler;return n.target=i||e.node,n.component=e.comName,n.handler=t,n}},showAni:function(e,t,i){var n=this,a=void 0;switch(e){case 0:a=[new cc.scaleTo(.2,.7),new cc.moveBy(.3,0,2*this.node.height)];break;case 1:a=[new cc.scaleTo(.2,.7),new cc.moveBy(.3,2*this.node.width,0)];break;case 2:a=[new cc.scaleTo(.2,.7),new cc.moveBy(.3,0,-2*this.node.height)];break;case 3:a=[new cc.scaleTo(.2,.7),new cc.moveBy(.3,-2*this.node.width,0)];break;default:a=[new cc.scaleTo(.3,.1)]}(t||i)&&a.push(new cc.CallFunc(function(){if(i){n._list._delSingleItem(n.node);for(var e=n._list.displayData.length-1;e>=0;e--)if(n._list.displayData[e].listId==n.node._listId){n._list.displayData.splice(e,1);break}}t()})),this.node.runAction(new cc.Sequence(a))},onClickThis:function(){this._list.selectedId=this.node._listId},setAchieveItem:function(e){if(e){this.itemData=e;var t=this.node.getChildByName("show"),i=cc.gameConfig.gameString.achieveReceiveTips.replace("X",e.star)+(0==e.award?"\u94bb\u77f3":"\u7279\u6548\u5361\u724c");if(t.getChildByName("txt").getComponent(cc.Label).string=i,0==e.award){var a=t.getChildByName("diamonds");a.active=!0,t.getChildByName("card").active=!1,a.getChildByName("nums").getComponent(cc.Label).string=e.nums}else t.getChildByName("diamonds").active=!1,t.getChildByName("card").active=!0;this.node.getChildByName("count").getComponent(cc.Label).string=n.getTotalStar()+"/"+e.star;var o=n.getTotalStar()/e.star;this.node.getChildByName("progressBar").getComponent(cc.ProgressBar).progress=o;var s=this.node.getChildByName("btn").getComponent(cc.Button);s.interactable=o>=1&&!n._userGameData.achievementArr[e.id-1],cc.uiCenter.setState(s.node.getChildByName("bg").getComponent(cc.Sprite),o>=1&&!n._userGameData.achievementArr[e.id-1]);var r=new cc.Component.EventHandler;r.target=this.node,r.component="ListItem",r.handler="onReceive",s.getComponent(cc.Button).clickEvents.push(r)}},onReceive:function(){if(cc.audioComponent.play("button"),cc.log("achievementData",this.itemData),0==this.itemData.award){var e=this.itemData.nums;n.totalDiamonds+=e,cc.eventCenter.emit("show_diamonds_animation"),cc.toast.show(cc.gameConfig.gameString.gainLabel+e+cc.gameConfig.gameString.diamondLabel),this.node.emit("onGainModel",!1,this.itemData.index)}else 1==this.itemData.award&&(n._userGameData.effectCardArr[1]++,this.node.emit("onGainModel",!0,this.itemData.index));var t=n.getTotalStar()/this.itemData.star,i=this.node.getChildByName("btn").getComponent(cc.Button);i.interactable=t>=1&&!n._userGameData.achievementArr[this.itemData.id-1],cc.uiCenter.setState(i.node.getChildByName("bg").getComponent(cc.Sprite),t>=1&&!n._userGameData.achievementArr[this.itemData.id-1]),n.saveData()}}),cc._RF.pop()},{GameDataCenter:"GameDataCenter",share:void 0}],List:[function(e,t,i){"use strict";cc._RF.push(t,"d2c506F/mdOzaZU5jxhmIDq","List");var n=cc.Enum({NODE:1,PREFAB:2}),a=cc.Enum({NORMAL:1,ADHERING:2,PAGE:3}),o=cc.Enum({NONE:0,SINGLE:1,MULT:2}),s=e("ListItem");cc.Class({extends:cc.Component,editor:{disallowMultiple:!1,menu:"\u81ea\u5b9a\u4e49\u7ec4\u4ef6/List",requireComponent:cc.ScrollView,executionOrder:-5e3},properties:{templateType:{default:n.NODE,type:n},tmpNode:{default:null,type:cc.Node,tooltip:!1,visible:function(){var e=this.templateType==n.NODE;return e||(this.tmpNode=null),e}},tmpPrefab:{default:null,type:cc.Prefab,tooltip:!1,visible:function(){var e=this.templateType==n.PREFAB;return e||(this.tmpPrefab=null),e}},_slideMode:1,slideMode:{type:a,tooltip:!1,get:function(){return this._slideMode},set:function(e){null!=e&&(this._slideMode=e)}},pageDistance:{default:.3,type:cc.Float,range:[0,1,.1],tooltip:!1,slide:!0,visible:function(){return this._slideMode==a.PAGE}},pageChangeEvent:{default:null,type:cc.Component.EventHandler,tooltip:!1,visible:function(){var e=this._slideMode==a.PAGE;return e||(this.pageChangeEvent=null),e}},_virtual:!0,virtual:{tooltip:!1,get:function(){return this._virtual},set:function(e){null!=e&&(this._virtual=e),0!=this._numItems&&this._onScrolling()}},cyclic:{default:!1,tooltip:!1,visible:function(){var e=this.virtual&&this.slideMode==a.NORMAL;return e||(this.cyclic=!1),e}},lackCenter:{default:!1,tooltip:!1,visible:function(){return this.virtual}},lackSlide:{default:!1,tooltip:!1,visible:function(){var e=this.virtual&&!this.lackCenter;return e||(this.lackSlide=!1),e}},_updateRate:0,updateRate:{type:cc.Integer,range:[0,6,1],tooltip:!1,slide:!0,get:function(){return this._updateRate},set:function(e){e>=0&&e<=6&&(this._updateRate=e)}},frameByFrameRenderNum:{default:0,type:cc.Integer,range:[0,12,1],tooltip:!1,slide:!0},renderEvent:{default:null,type:cc.Component.EventHandler,tooltip:!1},selectedMode:{default:o.NONE,type:o,tooltip:!1},repeatEventSingle:{default:!1,tooltip:!1,visible:function(){return this.selectedMode==o.SINGLE}},selectedEvent:{default:null,type:cc.Component.EventHandler,tooltip:!1,visible:function(){var e=this.selectedMode>0;return e||(this.selectedEvent=null),e}},_selectedId:-1,selectedId:{visible:!1,get:function(){return this._selectedId},set:function(e){var t=this,i=void 0;switch(t.selectedMode){case o.SINGLE:if(!t.repeatEventSingle&&e==t._selectedId)return;if(i=t.getItemByListId(e),t._selectedId>=0?t._lastSelectedId=t._selectedId:t._lastSelectedId=null,t._selectedId=e,i&&(i.listItem.selected=!0),t._lastSelectedId>=0&&t._lastSelectedId!=t._selectedId){var n=t.getItemByListId(t._lastSelectedId);n&&(n.listItem.selected=!1)}t.selectedEvent&&cc.Component.EventHandler.emitEvents([t.selectedEvent],i,e%this._actualNumItems,null==t._lastSelectedId?null:t._lastSelectedId%this._actualNumItems);break;case o.MULT:if(!(i=t.getItemByListId(e)))return;t._selectedId>=0&&(t._lastSelectedId=t._selectedId),t._selectedId=e;var a=!i.listItem.selected;i.listItem.selected=a;var s=t.multSelected.indexOf(e);a&&s<0?t.multSelected.push(e):!a&&s>=0&&t.multSelected.splice(s,1),t.selectedEvent&&cc.Component.EventHandler.emitEvents([t.selectedEvent],i,e%this._actualNumItems,null==t._lastSelectedId?null:t._lastSelectedId%this._actualNumItems,a)}}},_numItems:{default:0,serializable:!1},numItems:{visible:!1,get:function(){return this._actualNumItems},set:function(e){var t=this;if(t.checkInited())if(null==e||e<0)cc.error("numItems set the wrong::",e);else if(t._actualNumItems=t._numItems=e,t._forceUpdate=!0,t._virtual)t._resizeContent(),t.cyclic&&(t._numItems=t._cyclicNum*t._numItems),t._onScrolling(),t.frameByFrameRenderNum||t.slideMode!=a.PAGE||(t.curPageNum=t.nearestListId);else{var i=t.content.getComponent(cc.Layout);if(i&&(i.enabled=!0),t._delRedundantItem(),t.firstListId=0,t.frameByFrameRenderNum>0){for(var n=t.frameByFrameRenderNum>t._numItems?t._numItems:t.frameByFrameRenderNum,o=0;o<n;o++)t._createOrUpdateItem2(o);t.frameByFrameRenderNum<t._numItems&&(t._updateCounter=t.frameByFrameRenderNum,t._updateDone=!1)}else{for(var s=0;s<e;s++)t._createOrUpdateItem2(s);t.displayItemNum=e}}}}},onLoad:function(){this._init()},onDestroy:function(){for(this._itemTmp&&this._itemTmp.isValid&&this._itemTmp.destroy();this._pool.size();){this._pool.get().destroy()}},onEnable:function(){this._registerEvent(),this._init()},onDisable:function(){this._unregisterEvent()},_registerEvent:function(){var e=this;e.node.on(cc.Node.EventType.TOUCH_START,e._onTouchStart,e,!0),e.node.on("touch-up",e._onTouchUp,e,!0),e.node.on(cc.Node.EventType.TOUCH_CANCEL,e._onTouchCancelled,e,!0),e.node.on("scroll-began",e._onScrollBegan,e,!0),e.node.on("scroll-ended",e._onScrollEnded,e,!0),e.node.on("scrolling",e._onScrolling,e,!0),e.node.on(cc.Node.EventType.SIZE_CHANGED,e._onSizeChanged,e)},_unregisterEvent:function(){var e=this;e.node.off(cc.Node.EventType.TOUCH_START,e._onTouchStart,e,!0),e.node.off("touch-up",e._onTouchUp,e,!0),e.node.off(cc.Node.EventType.TOUCH_CANCEL,e._onTouchCancelled,e,!0),e.node.off("scroll-began",e._onScrollBegan,e,!0),e.node.off("scroll-ended",e._onScrollEnded,e,!0),e.node.off("scrolling",e._onScrolling,e,!0),e.node.off(cc.Node.EventType.SIZE_CHANGED,e._onSizeChanged,e)},_init:function(){var e=this;if(!e._inited)if(e._scrollView=e.node.getComponent(cc.ScrollView),e.content=e._scrollView.content,e.content){switch(e._layout=e.content.getComponent(cc.Layout),e._align=e._layout.type,e._resizeMode=e._layout.resizeMode,e._startAxis=e._layout.startAxis,e._topGap=e._layout.paddingTop,e._rightGap=e._layout.paddingRight,e._bottomGap=e._layout.paddingBottom,e._leftGap=e._layout.paddingLeft,e._columnGap=e._layout.spacingX,e._lineGap=e._layout.spacingY,e._colLineNum,e._verticalDir=e._layout.verticalDirection,e._horizontalDir=e._layout.horizontalDirection,e.setTemplateItem(cc.instantiate(e.templateType==n.PREFAB?e.tmpPrefab:e.tmpNode)),e._slideMode!=a.ADHERING&&e._slideMode!=a.PAGE||(e._scrollView.inertia=!1,e._scrollView._onMouseWheel=function(){}),e.virtual||(e.lackCenter=!1),e._lastDisplayData=[],e.displayData=[],e._pool=new cc.NodePool,e._forceUpdate=!1,e._updateCounter=0,e._updateDone=!0,e.curPageNum=0,e.cyclic&&(e._scrollView._processAutoScrolling=this._processAutoScrolling.bind(e),e._scrollView._startBounceBackIfNeeded=function(){return!1}),e._align){case cc.Layout.Type.HORIZONTAL:switch(e._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:e._alignCalcType=1;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:e._alignCalcType=2}break;case cc.Layout.Type.VERTICAL:switch(e._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:e._alignCalcType=3;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:e._alignCalcType=4}break;case cc.Layout.Type.GRID:switch(e._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:switch(e._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:e._alignCalcType=3;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:e._alignCalcType=4}break;case cc.Layout.AxisDirection.VERTICAL:switch(e._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:e._alignCalcType=1;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:e._alignCalcType=2}}}e.content.children.forEach(function(e){e.removeFromParent(),e.isValid&&e.destroy()}),e._inited=!0}else cc.error(e.node.name+"'s cc.ScrollView unset content!")},_processAutoScrolling:function(e){this._scrollView._autoScrollAccumulatedTime+=1*e;var t=Math.min(1,this._scrollView._autoScrollAccumulatedTime/this._scrollView._autoScrollTotalTime);if(this._scrollView._autoScrollAttenuate){var i=t-1;t=i*i*i*i*i+1}var n=this._scrollView._autoScrollStartPosition.add(this._scrollView._autoScrollTargetDelta.mul(t)),a=this._scrollView.getScrollEndedEventTiming(),o=Math.abs(t-1)<=a;Math.abs(t-1)<=this._scrollView.getScrollEndedEventTiming()&&!this._scrollView._isScrollEndedWithThresholdEventFired&&(this._scrollView._dispatchEvent("scroll-ended-with-threshold"),this._scrollView._isScrollEndedWithThresholdEventFired=!0),o&&(this._scrollView._autoScrolling=!1);var s=n.sub(this._scrollView.getContentPosition());this._scrollView._moveContent(this._scrollView._clampDelta(s),o),this._scrollView._dispatchEvent("scrolling"),this._scrollView._autoScrolling||(this._scrollView._isBouncing=!1,this._scrollView._scrolling=!1,this._scrollView._dispatchEvent("scroll-ended"))},setTemplateItem:function(e){if(e){var t=this;t._itemTmp=e,t._resizeMode==cc.Layout.ResizeMode.CHILDREN?t._itemSize=t._layout.cellSize:t._itemSize=new cc.size(e.width,e.height);var i=e.getComponent(s),n=!1;switch(i||(n=!0),i&&(i._btnCom||e.getComponent(cc.Button)||(n=!0)),n&&(t.selectedMode=o.NONE),(i=e.getComponent(cc.Widget))&&i.enabled&&(t._needUpdateWidget=!0),t.selectedMode==o.MULT&&(t.multSelected=[]),t._align){case cc.Layout.Type.HORIZONTAL:t._colLineNum=1,t._sizeType=!1;break;case cc.Layout.Type.VERTICAL:t._colLineNum=1,t._sizeType=!0;break;case cc.Layout.Type.GRID:switch(t._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:var a=t.content.width-t._leftGap-t._rightGap;t._colLineNum=Math.floor((a+t._columnGap)/(t._itemSize.width+t._columnGap)),t._sizeType=!0;break;case cc.Layout.AxisDirection.VERTICAL:var r=t.content.height-t._topGap-t._bottomGap;t._colLineNum=Math.floor((r+t._lineGap)/(t._itemSize.height+t._lineGap)),t._sizeType=!1}}}},checkInited:function(e){return e=null==e||e,!!this._inited||(e&&cc.error("List initialization not completed!"),!1)},_resizeContent:function(){var e=this,t=void 0;switch(e._align){case cc.Layout.Type.HORIZONTAL:if(e._customSize){var i=e._getFixedSize();t=e._leftGap+i.val+e._itemSize.width*(e._numItems-i.count)+e._columnGap*(e._numItems-1)+e._rightGap}else t=e._leftGap+e._itemSize.width*e._numItems+e._columnGap*(e._numItems-1)+e._rightGap;break;case cc.Layout.Type.VERTICAL:if(e._customSize){var n=e._getFixedSize();t=e._topGap+n.val+e._itemSize.height*(e._numItems-n.count)+e._lineGap*(e._numItems-1)+e._bottomGap}else t=e._topGap+e._itemSize.height*e._numItems+e._lineGap*(e._numItems-1)+e._bottomGap;break;case cc.Layout.Type.GRID:switch(e.lackCenter&&(e.lackCenter=!1),e._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:var a=Math.ceil(e._numItems/e._colLineNum);t=e._topGap+e._itemSize.height*a+e._lineGap*(a-1)+e._bottomGap;break;case cc.Layout.AxisDirection.VERTICAL:var o=Math.ceil(e._numItems/e._colLineNum);t=e._leftGap+e._itemSize.width*o+e._columnGap*(o-1)+e._rightGap}}var s=e.content.getComponent(cc.Layout);if(s&&(s.enabled=!1),e._allItemSize=t,e._allItemSizeNoEdge=e._allItemSize-(e._sizeType?e._topGap+e._bottomGap:e._leftGap+e._rightGap),e.cyclic){var r=e._sizeType?e.node.height:e.node.width;e._cyclicPos1=0,r-=e._cyclicPos1,e._cyclicNum=Math.ceil(r/e._allItemSizeNoEdge)+1;var c=e._sizeType?e._lineGap:e._columnGap;e._cyclicPos2=e._cyclicPos1+e._allItemSizeNoEdge+c,e._cyclicAllItemSize=e._allItemSize+e._allItemSizeNoEdge*(e._cyclicNum-1)+c*(e._cyclicNum-1),e._cycilcAllItemSizeNoEdge=e._allItemSizeNoEdge*e._cyclicNum,e._cycilcAllItemSizeNoEdge+=c*(e._cyclicNum-1)}e._lack=!e.cyclic&&e._allItemSize<(e._sizeType?e.node.height:e.node.width);var h=e._lack&&e.lackCenter||!e.lackSlide?.1:0,d=e._lack?(e._sizeType?e.node.height:e.node.width)-h:e.cyclic?e._cyclicAllItemSize:e._allItemSize;d<0&&(d=0),e._sizeType?e.content.height=d:e.content.width=d},_onScrolling:function(e){if(null==this.frameCount&&(this.frameCount=this._updateRate),!this._forceUpdate&&e&&"scroll-ended"!=e.type&&this.frameCount>0)this.frameCount--;else if(this.frameCount=this._updateRate,!this._aniDelRuning){if(this.cyclic){var t=this.content.getPosition();t=this._sizeType?t.y:t.x;var i=this._allItemSizeNoEdge+(this._sizeType?this._lineGap:this._columnGap),n=this._sizeType?cc.v2(0,i):cc.v2(i,0);switch(this._alignCalcType){case 1:t>-this._cyclicPos1?(this.content.x=-this._cyclicPos2,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.sub(n))):t<-this._cyclicPos2&&(this.content.x=-this._cyclicPos1,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.add(n)));break;case 2:t<this._cyclicPos1?(this.content.x=this._cyclicPos2,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.add(n))):t>this._cyclicPos2&&(this.content.x=this._cyclicPos1,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.sub(n)));break;case 3:t<this._cyclicPos1?(this.content.y=this._cyclicPos2,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.add(n))):t>this._cyclicPos2&&(this.content.y=this._cyclicPos1,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.sub(n)));break;case 4:t>-this._cyclicPos1?(this.content.y=-this._cyclicPos2,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.sub(n))):t<-this._cyclicPos2&&(this.content.y=-this._cyclicPos1,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.add(n)))}}this._calcViewPos();var a=void 0,o=void 0,s=void 0,r=void 0;if(this._sizeType?(a=this.viewTop,s=this.viewBottom):(o=this.viewRight,r=this.viewLeft),this._virtual){this.displayData=[];var c=void 0,h=0,d=this._numItems-1;if(this._customSize)for(var u=!1;h<=d&&!u;h++)switch(c=this._calcItemPos(h),this._align){case cc.Layout.Type.HORIZONTAL:c.right>=r&&c.left<=o?this.displayData.push(c):0!=h&&this.displayData.length>0&&(u=!0);break;case cc.Layout.Type.VERTICAL:c.bottom<=a&&c.top>=s?this.displayData.push(c):0!=h&&this.displayData.length>0&&(u=!0);break;case cc.Layout.Type.GRID:switch(this._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:c.bottom<=a&&c.top>=s?this.displayData.push(c):0!=h&&this.displayData.length>0&&(u=!0);break;case cc.Layout.AxisDirection.VERTICAL:c.right>=r&&c.left<=o?this.displayData.push(c):0!=h&&this.displayData.length>0&&(u=!0)}}else{var l=this._itemSize.width+this._columnGap,f=this._itemSize.height+this._lineGap;switch(this._alignCalcType){case 1:h=(r+this._leftGap)/l,d=(o+this._rightGap)/l;break;case 2:h=(-o-this._rightGap)/l,d=(-r-this._leftGap)/l;break;case 3:h=(-a-this._topGap)/f,d=(-s-this._bottomGap)/f;break;case 4:h=(s+this._bottomGap)/f,d=(a+this._topGap)/f}for(h=Math.floor(h)*this._colLineNum,d=Math.ceil(d)*this._colLineNum,d--,h<0&&(h=0),d>=this._numItems&&(d=this._numItems-1);h<=d;h++)this.displayData.push(this._calcItemPos(h))}if(this.displayData.length<=0||!this._numItems)return this._lastDisplayData=[],void this._delRedundantItem();this.firstListId=this.displayData[0].id,this.displayItemNum=this.displayData.length;var p=this._lastDisplayData.length;if(this._forceUpdate||this.displayItemNum!=p||this.firstListId!=this._lastDisplayData[0]||this.displayData[this.displayItemNum-1].id!=this._lastDisplayData[p-1])if(this._lastDisplayData=[],this.frameByFrameRenderNum>0)this._numItems>0?(this._updateDone?this._updateCounter=0:this._doneAfterUpdate=!0,this._updateDone=!1):(this._delRedundantItem(),this._updateCounter=0,this._updateDone=!0);else{for(var m=0;m<this.displayItemNum;m++)this._createOrUpdateItem(this.displayData[m]);this._delRedundantItem(),this._forceUpdate=!1}this._calcNearestItem()}}},_calcViewPos:function(){var e=this.content.getPosition();switch(this._alignCalcType){case 1:this.elasticLeft=e.x>0?e.x:0,this.viewLeft=(e.x<0?-e.x:0)-this.elasticLeft,this.viewRight=this.viewLeft+this.node.width,this.elasticRight=this.viewRight>this.content.width?Math.abs(this.viewRight-this.content.width):0,this.viewRight+=this.elasticRight;break;case 2:this.elasticRight=e.x<0?-e.x:0,this.viewRight=(e.x>0?-e.x:0)+this.elasticRight,this.viewLeft=this.viewRight-this.node.width,this.elasticLeft=this.viewLeft<-this.content.width?Math.abs(this.viewLeft+this.content.width):0,this.viewLeft-=this.elasticLeft;break;case 3:this.elasticTop=e.y<0?Math.abs(e.y):0,this.viewTop=(e.y>0?-e.y:0)+this.elasticTop,this.viewBottom=this.viewTop-this.node.height,this.elasticBottom=this.viewBottom<-this.content.height?Math.abs(this.viewBottom+this.content.height):0,this.viewBottom+=this.elasticBottom;break;case 4:this.elasticBottom=e.y>0?Math.abs(e.y):0,this.viewBottom=(e.y<0?-e.y:0)-this.elasticBottom,this.viewTop=this.viewBottom+this.node.height,this.elasticTop=this.viewTop>this.content.height?Math.abs(this.viewTop-this.content.height):0,this.viewTop-=this.elasticTop}},_calcItemPos:function(e){var t=void 0,i=void 0,n=void 0,a=void 0,o=void 0,s=void 0,r=void 0,c=void 0;switch(this._align){case cc.Layout.Type.HORIZONTAL:switch(this._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:if(this._customSize){var h=this._getFixedSize(e);o=this._leftGap+(this._itemSize.width+this._columnGap)*(e-h.count)+(h.val+this._columnGap*h.count);var d=this._customSize[e];t=d>0?d:this._itemSize.width}else o=this._leftGap+(this._itemSize.width+this._columnGap)*e,t=this._itemSize.width;if(s=o+t,this.lackCenter){var u=this.content.width/2-this._allItemSizeNoEdge/2;o+=u,s+=u}return{id:e,left:o,right:s,x:o+this._itemTmp.anchorX*t,y:this._itemTmp.y};case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:if(this._customSize){var l=this._getFixedSize(e);s=-this._rightGap-(this._itemSize.width+this._columnGap)*(e-l.count)-(l.val+this._columnGap*l.count);var f=this._customSize[e];t=f>0?f:this._itemSize.width}else s=-this._rightGap-(this._itemSize.width+this._columnGap)*e,t=this._itemSize.width;if(o=s-t,this.lackCenter){var p=this.content.width/2-this._allItemSizeNoEdge/2;o-=p,s-=p}return{id:e,right:s,left:o,x:o+this._itemTmp.anchorX*t,y:this._itemTmp.y}}break;case cc.Layout.Type.VERTICAL:switch(this._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:if(this._customSize){var m=this._getFixedSize(e);n=-this._topGap-(this._itemSize.height+this._lineGap)*(e-m.count)-(m.val+this._lineGap*m.count);var g=this._customSize[e];a=n-(i=g>0?g:this._itemSize.height)}else n=-this._topGap-(this._itemSize.height+this._lineGap)*e,i=this._itemSize.height;if(a=n-i,this.lackCenter){var b=this.content.height/2-this._allItemSizeNoEdge/2;n-=b,a-=b}return{id:e,top:n,bottom:a,x:this._itemTmp.x,y:a+this._itemTmp.anchorY*i};case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:if(this._customSize){var v=this._getFixedSize(e);a=this._bottomGap+(this._itemSize.height+this._lineGap)*(e-v.count)+(v.val+this._lineGap*v.count);var y=this._customSize[e];i=y>0?y:this._itemSize.height}else a=this._bottomGap+(this._itemSize.height+this._lineGap)*e,i=this._itemSize.height;if(n=a+i,this.lackCenter){var C=this.content.height/2-this._allItemSizeNoEdge/2;n+=C,a+=C}return{id:e,top:n,bottom:a,x:this._itemTmp.x,y:a+this._itemTmp.anchorY*i}}case cc.Layout.Type.GRID:var _=Math.floor(e/this._colLineNum);switch(this._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:switch(this._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:c=(a=(n=-this._topGap-(this._itemSize.height+this._lineGap)*_)-this._itemSize.height)+this._itemTmp.anchorY*this._itemSize.height;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:n=(a=this._bottomGap+(this._itemSize.height+this._lineGap)*_)+this._itemSize.height,c=a+this._itemTmp.anchorY*this._itemSize.height}switch(r=this._leftGap+e%this._colLineNum*(this._itemSize.width+this._columnGap),this._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:r+=this._itemTmp.anchorX*this._itemSize.width,r-=this.content.anchorX*this.content.width;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:r+=(1-this._itemTmp.anchorX)*this._itemSize.width,r-=(1-this.content.anchorX)*this.content.width,r*=-1}return{id:e,top:n,bottom:a,x:r,y:c};case cc.Layout.AxisDirection.VERTICAL:switch(this._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:s=(o=this._leftGap+(this._itemSize.width+this._columnGap)*_)+this._itemSize.width,r=o+this._itemTmp.anchorX*this._itemSize.width,r-=this.content.anchorX*this.content.width;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:r=(o=(s=-this._rightGap-(this._itemSize.width+this._columnGap)*_)-this._itemSize.width)+this._itemTmp.anchorX*this._itemSize.width,r+=(1-this.content.anchorX)*this.content.width}switch(c=-this._topGap-e%this._colLineNum*(this._itemSize.height+this._lineGap),this._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:c-=(1-this._itemTmp.anchorY)*this._itemSize.height,c+=(1-this.content.anchorY)*this.content.height;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:c-=this._itemTmp.anchorY*this._itemSize.height,c+=this.content.anchorY*this.content.height,c*=-1}return{id:e,left:o,right:s,x:r,y:c}}}},_calcExistItemPos:function(e){var t=this.getItemByListId(e);if(!t)return null;var i={id:e,x:t.x,y:t.y};return this._sizeType?(i.top=t.y+t.height*(1-t.anchorY),i.bottom=t.y-t.height*t.anchorY):(i.left=t.x-t.width*t.anchorX,i.right=t.x+t.width*(1-t.anchorX)),i},getItemPos:function(e){return this._virtual?this._calcItemPos(e):this.frameByFrameRenderNum?this._calcItemPos(e):this._calcExistItemPos(e)},_getFixedSize:function(e){if(!this._customSize)return null;null==e&&(e=this._numItems);var t=0,i=0;for(var n in this._customSize)parseInt(n)<e&&(t+=this._customSize[n],i++);return{val:t,count:i}},_onScrollBegan:function(){this._beganPos=this._sizeType?this.viewTop:this.viewLeft},_onScrollEnded:function(){var e=this;if(null!=e.scrollToListId){var t=e.getItemByListId(e.scrollToListId);e.scrollToListId=null,t&&t.runAction(new cc.sequence(new cc.scaleTo(.1,1.06),new cc.scaleTo(.1,1)))}e._onScrolling(),e._slideMode!=a.ADHERING||e.adhering?e._slideMode==a.PAGE&&(null!=e._beganPos?this._pageAdhere():e.adhere()):e.adhere()},_onTouchStart:function(e,t){if(!this._scrollView._hasNestedViewGroup(e,t)&&!(e.eventPhase===cc.Event.AT_TARGET&&e.target===this.node)){for(var i=e.target;null==i._listId&&i.parent;)i=i.parent;this._scrollItem=null!=i._listId?i:e.target}},_onTouchUp:function(){var e=this;e._scrollPos=null,e._slideMode==a.ADHERING?(e.adhering&&(e._adheringBarrier=!0),e.adhere()):e._slideMode==a.PAGE&&(null!=e._beganPos?e._pageAdhere():e.adhere()),this._scrollItem=null},_onTouchCancelled:function(e,t){var i=this;i._scrollView._hasNestedViewGroup(e,t)||e.simulate||(i._scrollPos=null,i._slideMode==a.ADHERING?(i.adhering&&(i._adheringBarrier=!0),i.adhere()):i._slideMode==a.PAGE&&(null!=i._beganPos?i._pageAdhere():i.adhere()),this._scrollItem=null)},_onSizeChanged:function(){this.checkInited(!1)&&this._onScrolling()},_onItemAdaptive:function(e){var t=this;if(this.checkInited(!1)&&(!this._sizeType&&e.width!=this._itemSize.width||this._sizeType&&e.height!=this._itemSize.height)){this._customSize||(this._customSize={});var i=this._sizeType?e.height:e.width;this._customSize[e._listId]!=i&&(this._customSize[e._listId]=i,this._resizeContent(),this.content.children.forEach(function(e){t._updateItemPos(e)}),isNaN(this._scrollToListId)||(this._scrollPos=null,this.unschedule(this._scrollToSo),this.scrollTo(this._scrollToListId,Math.max(0,this._scrollToEndTime-(new Date).getTime()/1e3))))}},_pageAdhere:function(){var e=this;if(e.cyclic||!(e.elasticTop>0||e.elasticRight>0||e.elasticBottom>0||e.elasticLeft>0)){var t=e._sizeType?e.viewTop:e.viewLeft,i=(e._sizeType?e.node.height:e.node.width)*e.pageDistance;if(Math.abs(e._beganPos-t)>i){switch(e._alignCalcType){case 1:case 4:e._beganPos>t?e.prePage(.5):e.nextPage(.5);break;case 2:case 3:e._beganPos<t?e.prePage(.5):e.nextPage(.5)}}else e.elasticTop<=0&&e.elasticRight<=0&&e.elasticBottom<=0&&e.elasticLeft<=0&&e.adhere();e._beganPos=null}},adhere:function(){var e=this;if(e.checkInited()&&!(e.elasticTop>0||e.elasticRight>0||e.elasticBottom>0||e.elasticLeft>0)){e.adhering=!0,e._calcNearestItem();var t=(e._sizeType?e._topGap:e._leftGap)/(e._sizeType?e.node.height:e.node.width);e.scrollTo(e.nearestListId,.7,t)}},update:function(){if(!(this.frameByFrameRenderNum<=0||this._updateDone))if(this._virtual){for(var e=this._updateCounter+this.frameByFrameRenderNum>this.displayItemNum?this.displayItemNum:this._updateCounter+this.frameByFrameRenderNum,t=this._updateCounter;t<e;t++){var i=this.displayData[t];i&&this._createOrUpdateItem(i)}this._updateCounter>=this.displayItemNum-1?this._doneAfterUpdate?(this._updateCounter=0,this._updateDone=!1,this._scrollView.isScrolling()||(this._doneAfterUpdate=!1)):(this._updateDone=!0,this._delRedundantItem(),this._forceUpdate=!1,this._calcNearestItem(),this.slideMode==a.PAGE&&(this.curPageNum=this.nearestListId)):this._updateCounter+=this.frameByFrameRenderNum}else if(this._updateCounter<this._numItems){for(var n=this._updateCounter+this.frameByFrameRenderNum>this._numItems?this._numItems:this._updateCounter+this.frameByFrameRenderNum,o=this._updateCounter;o<n;o++)this._createOrUpdateItem2(o);this._updateCounter+=this.frameByFrameRenderNum}else this._updateDone=!0,this._calcNearestItem(),this.slideMode==a.PAGE&&(this.curPageNum=this.nearestListId)},_createOrUpdateItem:function(e){var t=this.getItemByListId(e.id);if(t)this._forceUpdate&&this.renderEvent&&(t.setPosition(new cc.v2(e.x,e.y)),this._resetItemSize(t),this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],t,e.id%this._actualNumItems));else{var i=this._pool.size()>0;if((t=i?this._pool.get():cc.instantiate(this._itemTmp))._listId!=e.id&&(t._listId=e.id,t.setContentSize(this._itemSize)),t.setPosition(new cc.v2(e.x,e.y)),this._resetItemSize(t),this.content.addChild(t),i&&this._needUpdateWidget){var n=t.getComponent(cc.Widget);n&&n.updateAlignment()}t.setSiblingIndex(this.content.childrenCount-1);var a=t.getComponent(s);t.listItem=a,a&&(a._list=this,a._registerEvent()),this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],t,e.id%this._actualNumItems)}this._resetItemSize(t),this._updateListItem(t.listItem),this._lastDisplayData.indexOf(e.id)<0&&this._lastDisplayData.push(e.id)},_createOrUpdateItem2:function(e){var t=this.content.children[e];if(t)this._forceUpdate&&this.renderEvent&&(t._listId=e,this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],t,e));else{(t=cc.instantiate(this._itemTmp))._listId=e,this.content.addChild(t);var i=t.getComponent(s);t.listItem=i,i&&(i._list=this,i._registerEvent()),this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],t,e)}this._updateListItem(t.listItem),this._lastDisplayData.indexOf(e)<0&&this._lastDisplayData.push(e)},_updateListItem:function(e){if(e&&this.selectedMode>o.NONE)switch(this.selectedMode){case o.SINGLE:e.selected=this.selectedId==e.node._listId;break;case o.MULT:e.selected=this.multSelected.indexOf(e.node._listId)>=0}},_resetItemSize:function(e){},_updateItemPos:function(e){var t=isNaN(e)?e:this.getItemByListId(e),i=this.getItemPos(t._listId);t.setPosition(i.x,i.y)},setMultSelected:function(e,t){var i=this;if(i.checkInited()){if(Array.isArray(e)||(e=[e]),null==t)i.multSelected=e;else{var n=void 0,a=void 0;if(t)for(var o=e.length-1;o>=0;o--)n=e[o],(a=i.multSelected.indexOf(n))<0&&i.multSelected.push(n);else for(var s=e.length-1;s>=0;s--)n=e[s],(a=i.multSelected.indexOf(n))>=0&&i.multSelected.splice(a,1)}i._forceUpdate=!0,i._onScrolling()}},updateItem:function(e){if(this.checkInited()){Array.isArray(e)||(e=[e]);for(var t=0,i=e.length;t<i;t++){var n=e[t],a=this.getItemByListId(n);a&&cc.Component.EventHandler.emitEvents([this.renderEvent],a,n%this._actualNumItems)}}},updateAll:function(){this.checkInited()&&(this.numItems=this.numItems)},getItemByListId:function(e){for(var t=this.content.childrenCount-1;t>=0;t--)if(this.content.children[t]._listId==e)return this.content.children[t]},_getOutsideItem:function(){for(var e=void 0,t=void 0,i=[],n=this.content.childrenCount-1;n>=0;n--){if(e=this.content.children[n],t=!0)for(var a=this.displayItemNum-1;a>=0;a--)if(this.displayData[a]){var o=this.displayData[a].id;if(e._listId==o){t=!1;break}}t&&i.push(e)}return i},_delRedundantItem:function(){if(this._virtual)for(var e=this._getOutsideItem(),t=e.length-1;t>=0;t--){var i=e[t];this._scrollItem&&i._listId==this._scrollItem._listId||this._pool.put(i)}else for(;this.content.childrenCount>this._numItems;)this._delSingleItem(this.content.children[this.content.childrenCount-1])},_delSingleItem:function(e){e.removeFromParent(),e.destroy&&e.destroy(),e=null},aniDelItem:function(e,t,i){var n=this;if(!n.checkInited()||n.cyclic||!n._virtual)return cc.error("This function is not allowed to be called!");if(n._aniDelRuning)return cc.warn("Please wait for the current deletion to finish!");var a=n.getItemByListId(e);if(a){n._aniDelRuning=!0;var s=n.displayData[n.displayData.length-1].id,r=a.listItem.selected;a.listItem.showAni(i,function(){var i=void 0;if(s<n._numItems-2&&(i=s+1),null!=i){var c=n._calcItemPos(i);n.displayData.push(c),n._virtual?n._createOrUpdateItem(c):n._createOrUpdateItem2(i)}else n._numItems--;if(n.selectedMode==o.SINGLE)r?n._selectedId=-1:n._selectedId-1>=0&&n._selectedId--;else if(n.selectedMode==o.MULT&&n.multSelected.length){var h=n.multSelected.indexOf(e);h>=0&&n.multSelected.splice(h,1);for(var d=n.multSelected.length-1;d>=0;d--){n.multSelected[d]>=e&&n.multSelected[d]--}}if(n._customSize){n._customSize[e]&&delete n._customSize[e];var u={},l=void 0;for(var f in n._customSize)l=n._customSize[f],u[(f=parseInt(f))-(f>=e?1:0)]=l;n._customSize=u}for(var p=void 0,m=void 0,g=null!=i?i:s;g>=e+1;g--)if(a=n.getItemByListId(g)){var b=n._calcItemPos(g-1);p=[new cc.moveTo(.2333,new cc.v2(b.x,b.y))],g<=e+1&&(m=!0,p.push(new cc.CallFunc(function(){n._aniDelRuning=!1,t(e)}))),p.length>1?a.runAction(new cc.Sequence(p)):a.runAction(p[0])}m||(n._aniDelRuning=!1,t(e))},!0)}else t(e)},scrollTo:function(e,t,i,n){var a=this;if(a.checkInited()){null==t?t=.5:t<0&&(t=0),e<0?e=0:e>=a._numItems&&(e=a._numItems-1),!a._virtual&&a._layout&&a._layout.enabled&&a._layout.updateLayout();var o=a.getItemPos(e),s=void 0,r=void 0;switch(a._alignCalcType){case 1:s=o.left,s-=null!=i?a.node.width*i:a._leftGap,o=new cc.v2(s,0);break;case 2:s=o.right-a.node.width,s+=null!=i?a.node.width*i:a._rightGap,o=new cc.v2(s+a.content.width,0);break;case 3:r=o.top,r+=null!=i?a.node.height*i:a._topGap,o=new cc.v2(0,-r);break;case 4:r=o.bottom+a.node.height,r-=null!=i?a.node.height*i:a._bottomGap,o=new cc.v2(0,-r+a.content.height)}var c=a.content.getPosition();c=Math.abs(a._sizeType?c.y:c.x);var h=a._sizeType?o.y:o.x;Math.abs((null!=a._scrollPos?a._scrollPos:c)-h)>.5&&(a._scrollPos=h,a._scrollToListId=e,a._scrollToEndTime=(new Date).getTime()/1e3+t,a._scrollView.scrollToOffset(o,t),a._scrollToSo=a.scheduleOnce(function(){if(a._adheringBarrier||(a.adhering=a._adheringBarrier=!1),a._scrollPos=a._scrollToListId=a._scrollToEndTime=a._scrollToSo=null,n){var t=a.getItemByListId(e);t&&t.runAction(new cc.sequence(new cc.scaleTo(.1,1.05),new cc.scaleTo(.1,1)))}},t+.1),t<=0&&a._onScrolling())}},_calcNearestItem:function(){var e=this;e.nearestListId=null;var t=void 0,i=void 0;e._virtual&&e._calcViewPos();var n,a,o,s;n=e.viewTop,a=e.viewRight,o=e.viewBottom,s=e.viewLeft;for(var r=!1,c=0;c<e.content.childrenCount&&!r;c+=e._colLineNum)switch(t=this._virtual?this.displayData[c]:this._calcExistItemPos(c),i=this._sizeType?(t.top+t.bottom)/2:i=(t.left+t.right)/2,this._alignCalcType){case 1:t.right>=s&&(this.nearestListId=t.id,s>i&&(this.nearestListId+=this._colLineNum),r=!0);break;case 2:t.left<=a&&(this.nearestListId=t.id,a<i&&(this.nearestListId+=this._colLineNum),r=!0);break;case 3:t.bottom<=n&&(this.nearestListId=t.id,n<i&&(this.nearestListId+=this._colLineNum),r=!0);break;case 4:t.top>=o&&(this.nearestListId=t.id,o>i&&(this.nearestListId+=this._colLineNum),r=!0)}if((t=this._virtual?this.displayData[this.displayItemNum-1]:this._calcExistItemPos(this._numItems-1))&&t.id==e._numItems-1)switch(i=e._sizeType?(t.top+t.bottom)/2:i=(t.left+t.right)/2,e._alignCalcType){case 1:a>i&&(e.nearestListId=t.id);break;case 2:s<i&&(e.nearestListId=t.id);break;case 3:o<i&&(e.nearestListId=t.id);break;case 4:n>i&&(e.nearestListId=t.id)}},prePage:function(e){this.checkInited()&&(null==e&&(e=.5),this.skipPage(this.curPageNum-1,e))},nextPage:function(e){this.checkInited()&&(null==e&&(e=.5),this.skipPage(this.curPageNum+1,e))},skipPage:function(e,t){var i=this;if(i.checkInited())return i._slideMode!=a.PAGE?cc.error("This function is not allowed to be called, Must SlideMode = PAGE!"):void(e<0||e>=i._numItems||i.curPageNum!=e&&(i.curPageNum=e,i.pageChangeEvent&&cc.Component.EventHandler.emitEvents([i.pageChangeEvent],e),i.scrollTo(e,t)))},calcCustomSize:function(e){var t=this;if(t.checkInited()){if(!t._itemTmp)return cc.error("Unset template item!");if(!t.renderEvent)return cc.error("Unset Render-Event!");t._customSize={};var i=cc.instantiate(t._itemTmp);t.content.addChild(i);for(var n=0;n<e;n++)cc.Component.EventHandler.emitEvents([t.renderEvent],i,n),i.height==t._itemSize.height&&i.width==t._itemSize.width||(t._customSize[n]=t._sizeType?i.height:i.width);return Object.keys(t._customSize).length||(t._customSize=null),i.removeFromParent(),i.destroy&&i.destroy(),t._customSize}}}),cc._RF.pop()},{ListItem:"ListItem"}],MainGuidelines:[function(e,t,i){"use strict";cc._RF.push(t,"d7917qNc2ROq5VNctNLO0r4","MainGuidelines");var n=a(e("statistics"));a(e("login"));function a(e){return e&&e.__esModule?e:{default:e}}var o=e("GameDataCenter").getInstance();cc.Class({extends:cc.Component,properties:{unlockGuidelines:cc.Node,guidelines:{type:cc.Node,default:[]},buttonIcon:{default:[],type:cc.SpriteFrame},_showIndex:-1},onLoad:function(){},start:function(){},show:function(e){this._showIndex!=e&&(this.guidelines[this._showIndex]&&(this.guidelines[this._showIndex].active=!1),this.guidelines[e].active=!0,this._showIndex=e)},onPlay:function(){if(3==this._showIndex)return n.default.setSceneEvent("\u4e3b\u754c\u9762","\u70b9\u51fb","\u4e3b\u754c\u9762-\u5b8c\u6210\u65b0\u624b"),void this.close();this.show(this._showIndex+1)},close:function(){this.node.emit("onClose"),this.node.destroy()},onShow:function(e,t){7==(t=parseInt(t))?(o.newGuidelinesCount=-1,o.saveData(),this.mainControl.npcGirl.node.active=!0,this.mainControl.npcGirl.autoShowNpcDial(),this.mainControl.startGameBtn.getChildByName("hand").active=!0,this.mainControl.gameMode.gameMapBtn.getChildByName("hand").active=!0,this.guidelines[t]&&(this.guidelines[t].active=!1)):11==t?this.guidelines[t]&&(this.guidelines[t].active=!1):this.show(t)},setMain:function(e){this.mainControl=e},onGetAward:function(){o.newGuidelinesCount=6,o.totalCoins+=2e3,o.totalDiamonds+=88,o.saveData(),this.mainControl.openCheckin(),this.show(6)},showUnlockGuidelines:function(){var e=this.mainControl._customeData.cmd;this.unlockGuidelines.active=!0;var t,i=this.unlockGuidelines.getChildByName("show");switch(e){case"showAchievement":this.unlockGuidelines.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this.buttonIcon[0],i.getChildByName("tips").getComponent(cc.Label).string=cc.gameConfig.gameString.unlockAchievementTips,t=this.mainControl.achieveBtn[1],o.isUnlockAchievement=!0;break;case"showRankAward":this.unlockGuidelines.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this.buttonIcon[1],i.getChildByName("tips").getComponent(cc.Label).string=cc.gameConfig.gameString.unlockRankAwardTips,t=this.mainControl.rankAwardBtn[1],o.isUnlockRankAward=!0;break;case"showAmusementAward":this.unlockGuidelines.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this.buttonIcon[2],i.getChildByName("tips").getComponent(cc.Label).string=cc.gameConfig.gameString.unlockAmusementTips,t=this.mainControl.amuseAwardBtn[1],o.isUnlockAmusementAward=!0}o.saveData(),this.unlockButon=t},onUnlockAnimation:function(){this.unlockGuidelines.getChildByName("show").active=!1;var e=this.unlockGuidelines.getChildByName("icon"),t=this.unlockButon.parent.convertToWorldSpaceAR(this.unlockButon.position),i=this.unlockGuidelines.convertToNodeSpaceAR(t);e.runAction(cc.sequence(cc.spawn(cc.moveTo(1,i),cc.scaleTo(1,1)),cc.callFunc(function(){e.active=!1,this.unlockGuidelines.runAction(cc.sequence(cc.callFunc(function(){this.mainControl.achieveButtonTips(),this.mainControl.rankAwardButtonTips(),this.mainControl.amuseAwardButtonTips(),e.active=!1},this),cc.fadeOut(1),cc.callFunc(function(){this.unlockGuidelines.active=!1},this)))},this)))},onUnlockGameMode:function(){var e=this.mainControl._customeData.cmd,t=this.mainControl._customeData.type;switch(e){case"rankGuidelines":0==t&&(this.guidelines[10].active=!1,this.guidelines[9].active=!1,this.guidelines[11].active=!0),o.rankLevel=0,o._userGameData.isUnlockRankModeArr[t]=!0,o.saveData(),this.mainControl.gameMode.setButtonList(),this.mainControl.gameMode.rankBtnList[t].getChildByName("hand").active=!0}}}),cc._RF.pop()},{GameDataCenter:"GameDataCenter",login:void 0,statistics:void 0}],MainScene:[function(e,t,i){"use strict";cc._RF.push(t,"280c3rsZJJKnZ9RqbALVwtK","MainScene");var n=d(e("buttonConfig")),a=d(e("share")),o=(d(e("devices")),d(e("statistics"))),s=d(e("banner")),r=(d(e("login")),d(e("videoAd"))),c=d(e("ChanneConfig")),h=d(e("NpcInteract"));d(e("navigate")),d(e("../net/net"));function d(e){return e&&e.__esModule?e:{default:e}}var u=e("GameDataCenter").getInstance(),l=c.default.channelId,f=0,p=[1,2,3,4];cc.Class({extends:cc.Component,properties:{showNode:{default:null,type:cc.Node},shopPrefab:{default:null,type:cc.Prefab},changeBikePrefab:{default:null,type:cc.Prefab},upgradeBikePrefab:{default:null,type:cc.Prefab},checkinPrefab:{default:null,type:cc.Prefab},turnTableScene:{default:null,type:cc.Prefab},rankGamePrefab:{default:null,type:cc.Prefab},achievePrefab:{default:null,type:cc.Prefab},rankOverTipsPrefab:{default:null,type:cc.Prefab},gameAwardPrefab:{default:null,type:cc.Prefab},newGuidelinesTips:cc.Prefab,mainGuidelinesPrefab:cc.Prefab,rankingGameBtn:cc.Button,turnPlateBtn:{default:[],type:cc.Node},mainNode:cc.Node,gameNode:cc.Node,achieveBtn:{default:[],type:cc.Node},rankAwardBtn:{default:[],type:cc.Node},amuseAwardBtn:{default:[],type:cc.Node},freeAccelBtn:{default:[],type:cc.Node},rankingBtn:{default:[],type:cc.Node},checkinBtn:{default:[],type:cc.Node},npcGirl:h.default,startGameBtn:cc.Node,upgradeBtn:cc.Node,shopBtn:cc.Node},showBike:function(){var e=this;this.scheduleOnce(function(){cc.loader.loadRes("bike/bike"+u.curUseBike,cc.SpriteFrame,function(t,i){t||(e.showNode.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=i)}),cc.loader.loadRes("bike/bike_name_"+u.curUseBike,cc.SpriteFrame,function(t,i){t||(e.showNode.getChildByName("bikeName").getComponent(cc.Sprite).spriteFrame=i)})},0)},setControl:function(e){0==e?cc.audioComponent.pauseMusic():cc.audioComponent.resumeMusic(),this.bgNode.opacity=255,this.matchBut.getComponent(cc.Button).enabled=e,this.upgradeBut.getComponent(cc.Button).enabled=e,this.shopBut.getComponent(cc.Button).enabled=e,this.gameBut.getComponent(cc.Button).enabled=e},onShop:function(){cc.audioComponent.play("button");var e=cc.instantiate(this.shopPrefab);e.on("onClose",this.showMap,this),e.on("buttonTips",this.shopButtonTips,this),this.node.addChild(e)},shopButtonTips:function(){for(var e=!1,t=0;t<u.getTotalBikeCount();t++){var i=u.getBikeDataSort(t);if(i.buyed||2!=i.gainType||(e=i.fragment>=i.cost),e)break}if(!e){var n=cc.gameConfig.effectData;e=!u._userGameData.getEffectList[1]&&u._userGameData.effectCardArr[1]>=n[1].cost}this.shopBtn.getChildByName("tips").active=e},onUpgradeBike:function(){cc.audioComponent.play("button"),this.showUpgrade()},showUpgrade:function(){var e=cc.instantiate(this.upgradeBikePrefab);e.on("onClose",this.upgradeButtonTips,this),this.node.addChild(e)},upgradeButtonTips:function(){for(var e=!1,t=0;t<4;t++){var i=u.getBikeUpgrade(t)||[],n=this.getCost(u.curUseBike,t,i[t])||{id:t},a=n&&n.cost||"";n&&n.discountCount&&n.discountCount>0&&(n.discountCost=Math.floor(parseInt(n.cost)*parseFloat(n.upgradeDiscount[n.discountCount-1])));var o=n&&n.discountCost||"",s=o?o/10:a/10;if(e=u.totalCoins>s)break}this.upgradeBtn.getChildByName("tips").active=e},getCost:function(e,t,i){return u.getBikeUpgradeCost(e,t,i)},onChangeBike:function(){cc.audioComponent.play("button");var e=cc.instantiate(this.changeBikePrefab);this.node.addChild(e)},onMap:function(){cc.audioComponent.play("button"),this.showMap()},showMap:function(){this.onGameMode(),this.gameMode.showMap()},onRankGame:function(){cc.audioComponent.play("button"),(this._customeData&&"rankGuidelines"==this._customeData.cmd||!this._customeData&&u.levelNum>4&&-1==u.rankLevel)&&this.changeMainGuidelines(10),this.showRankGame()},onGameMode:function(e,t){var i=this;if(this.mainNode.active=!1,this.gameNode.active=!0,t){if(u.getTotalStar()>=45&&!u._userGameData.isUnlockRankModeArr[1])u._userGameData.isUnlockRankModeArr[1]=!0,this.scheduleOnce(function(){this.gameMode.showUnlockButton(!0,1)},1);else if(u.getTotalStar()>=65&&!u._userGameData.isUnlockRankModeArr[2])u._userGameData.isUnlockRankModeArr[2]=!0,this.scheduleOnce(function(){this.gameMode.showUnlockButton(!0,2)},1);else for(var n=u.getRankData(),a=n.id,o=n.starNum,s=function(e){var t=u.getRankData(u.getRankIdStar(p[e]));if(a>=t.id&&o>=1&&!u._userGameData.isUnlockAmuseModeArr[e])return u._userGameData.isUnlockAmuseModeArr[e]=!0,u.saveData(),i.gameMode.showAmusementView(e),i.scheduleOnce(function(){this.gameMode.showUnlockButton(!1,e)},1),"break"},r=0;r<p.length;r++){if("break"===s(r))break}u.saveData()}},showMain:function(e,t){this.mainNode.active=!0,this.gameNode.active=!1,this.achieveButtonTips(),this.rankAwardButtonTips(),this.amuseAwardButtonTips(),this.checkinButtonTips(),this.upgradeButtonTips(),this.shopButtonTips(),t&&cc.loading.getCustomData()&&"upgradeGuidelines"==cc.loading.getCustomData().cmd&&u.newGuidelinesCount>=0&&u.newGuidelinesCount<4&&(u.newGuidelinesCount=4,u.saveData(),cc.eventCenter.emit("changeGuidelines",4))},achieveButtonTips:function(){if(!u.isUnlockAchievement)return this.achieveBtn[0].active=!1,void(this.achieveBtn[1].active=!1);var e=cc.gameConfig.achievementData;this.achieveBtn[0].active=!0,this.achieveBtn[1].active=!0,this.achieveBtn[0].getChildByName("tips").active=!1,this.achieveBtn[1].getChildByName("tips").active=!1;for(var t=0;t<e.length;t++){if(u.getTotalStar()/e[t].star>=1&&!u._userGameData.achievementArr[e[t].id-1]){this.achieveBtn[0].getChildByName("tips").active=!0,this.achieveBtn[1].getChildByName("tips").active=!0;break}}},rankAwardButtonTips:function(){if(!u.isUnlockRankAward)return this.rankAwardBtn[0].active=!1,void(this.rankAwardBtn[1].active=!1);var e=u.getRankData(),t=e.id-1>u._userGameData.rankAwardIndex;e.id>=7&&(t=e.id+Math.floor(e.starNum/50)>u._userGameData.rankAwardIndex),this.rankAwardBtn[0].active=!0,this.rankAwardBtn[1].active=!0,this.rankAwardBtn[0].getChildByName("tips").active=t,this.rankAwardBtn[1].getChildByName("tips").active=t},amuseAwardButtonTips:function(){if(!u.isUnlockAmusementAward)return this.amuseAwardBtn[0].active=!1,void(this.amuseAwardBtn[1].active=!1);var e=u.getTotalAmusementCount(!0),t=cc.gameConfig.amusementAward,i=e>=t[u._userGameData.amusementAwardIndex>=t.length?t.length-1:u._userGameData.amusementAwardIndex].condition&&u._userGameData.amusementAwardIndex<t.length;this.amuseAwardBtn[0].active=!0,this.amuseAwardBtn[1].active=!0,this.amuseAwardBtn[0].getChildByName("tips").active=i,this.amuseAwardBtn[1].getChildByName("tips").active=i},checkinButtonTips:function(){var e=this.getCheckInDays(u.lastCheckinDate)>=1;this.checkinBtn[0].getChildByName("tips").active=e,this.checkinBtn[1].getChildByName("tips").active=e},getCheckInDays:function(e){var t=(new Date).setHours(0,0,0,0)-new Date(e).setHours(0,0,0,0);return parseInt(t/864e5)},showRankGame:function(){var e=cc.instantiate(this.rankGamePrefab);this.node.addChild(e)},onCheckin:function(e,t){cc.audioComponent.play("button"),this.openCheckin()},openCheckin:function(e){var t=cc.instantiate(this.checkinPrefab);t.getComponent("CheckIn").isAutoOpen=e,t.on("onClose",this.checkinButtonTips,this),this.node.addChild(t)},onTurnTable:function(e,t){cc.audioComponent.play("button"),o.default.setSceneEvent("\u4e3b\u754c\u9762","\u70b9\u51fb","\u4e3b\u754c\u9762-\u8f6c\u76d8"),this.openTurnTable(1==parseInt(t))},openTurnTable:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=cc.instantiate(this.turnTableScene);t.getComponent("turnplateScene").isInMain=e,this.node.addChild(t)},onFreeProp:function(){cc.audioComponent.play("button");var e=function(){u.setDaoJuNum(0,"accel",5),u.lastFreeAccel=new Date,u.saveData(),cc.toast.show("\u5df2\u83b7\u5f97\u52a0\u901fx5",1)}.bind(this);u.lastFreeAccel?cc.toast.show("\u51b7\u5374\u65f6\u95f4\u672a\u5230,\u8bf7\u7a0d\u540e\u518d\u6765",1):(cc.audioComponent.play("button"),"share"==n.default.getState("gengduojini",0)?a.default.shareToSociety({shareType:1,buttonKey:"gengduojini"},e):r.default.show("mianfeijiasu",e))},onAchievement:function(){cc.audioComponent.play("button");var e=cc.instantiate(this.achievePrefab);e.on("onClose",function(){this.achieveButtonTips()}.bind(this),this),this.node.addChild(e)},onGameAward:function(e,t){cc.audioComponent.play("button");var i=cc.instantiate(this.gameAwardPrefab);i.getComponent("GameAward").setSceneData(parseInt(t)),i.on("onClose",function(){this.rankAwardButtonTips(),this.amuseAwardButtonTips()}.bind(this),this),this.node.addChild(i)},onLoad:function(){cc.audioComponent.isGame=!1,cc.log("main onLoad"),u.discountDataReset(),(-1==u.curBike||u.newGuidelinesCount>=0&&u.newGuidelinesCount<6&&!cc.loading.getCustomData())&&(u.curBike=0,u.rankLevel=-1,u.curUseBike=0,u._userGameData.bikeUpgrade[0].buyed=!0,this.showFirstGuidelines()),this.gameMode=this.gameNode.getComponent("GameMode"),-1!=u.curBike&&u.freeBikeNum>0&&(this.isFirstTime=!0),this.showBike()},start:function(){if(this._customeData=cc.loading.getCustomData(),!this.isFirstTime||this._customeData&&"mainGuidelines"==this._customeData.cmd||-1==u.rankLevel&&-1!=u.newGuidelinesCount||!(u.levelNum>1)||this.onCheckInitMain(),cc.log("main start"),cc.audioComponent&&cc.audioComponent.playMainBGMusic(),!this._customeData||"upgradeGuidelines"!=this._customeData.cmd&&"plateGuidelines"!=this._customeData.cmd&&"rankGuidelines"!=this._customeData.cmd&&"showAchievement"!=this._customeData.cmd&&"showRankAward"!=this._customeData.cmd&&"showAmusementAward"!=this._customeData.cmd||this.showMainGuidelines(),this.showMain(),this._customeData){var e=this._customeData.cmd;switch(e){case"showGameMode":this.onGameMode();break;case"showMap":this.onGameMode(),this.gameMode.showMap();break;case"showAchievement":this.onGameMode(),this.gameMode.showMap(),this.mainGuidelines.show(3);break;case"showRankAward":case"showAmusementAward":this.onGameMode(),this.mainGuidelines.showUnlockGuidelines();break;case"upgradeGuidelines":this.onGameMode(),this.gameMode.showMap(),this.mainGuidelines.show(0);break;case"plateGuidelines":this.onGameMode(),this.gameMode.showMap(),this.openTurnTable(),this.mainGuidelines.show(8);break;case"rankGuidelines":this.onGameMode(),this.gameMode.showMap(),this.mainGuidelines.show(3);break;case"upgrade":this.showUpgrade();break;case"amusement":this.onGameMode(),this.gameMode.showAmusementView(this._customeData.amusementType);break;case"UnlockObstacleMode":case"UnlockPropsMode":case"UnlockOvertaskMode":case"UnlockCollideMode":case"UnlockBullionMode":case"UnlockDiamondMode":this.onGameMode(),"UnlockObstacleMode"!=e&&"UnlockPropsMode"!=e||this.gameMode.showMap(),this.gameMode.showUnlockMode()}}cc.eventCenter.on("curUseBike",this.showBike,this),cc.eventCenter.on("changeGuidelines",this.changeMainGuidelines,this),cc.log("main start 1"),this.turnPlateBtn[0].active=u.levelNum>1&&u.getLevelState(1),this.turnPlateBtn[1].active=this.turnPlateBtn[0].active,this.rankingBtn[0].active=!1,this.rankingBtn[1].active=!1},onCheckInitMain:function(){0!=function(e){var t=(new Date).setHours(0,0,0,0)-new Date(e).setHours(0,0,0,0);return parseInt(t/864e5)}(u.lastCheckinDate)?f||(this.openCheckin(!0),f++):(u.freeTurnNum<1||n.default.isShow("xingyunzhuanpan")&&u.videoTurnNum<3)&&(f||(f++,this.openTurnTable(!0)))},showMainGuidelines:function(){var e=cc.instantiate(this.mainGuidelinesPrefab);e.zIndex=100,this.node.addChild(e),this.mainGuidelines=e.getComponent("MainGuidelines"),this.mainGuidelines.setMain(this)},changeMainGuidelines:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];-2==e?(this._customeData&&"showAchievement"==this._customeData.cmd&&(this.mainGuidelines.guidelines[3].active=!1),this.mainGuidelines.showUnlockGuidelines()):-1!=e&&t?this.mainGuidelines.show(e):t||(this.mainGuidelines.guidelines[e].active=!1)},showPlayerRankInfo:function(){var e=u.getRankData();this.showRankIcon(this.myRankLevelNode.getChildByName("icon"),e,1),this.showRankName(this.myRankLevelNode.getChildByName("txt"),e.nameRes,1)},showRankIcon:function(e,t,i){var n=t.iconRes,a=1==i?t.id>=6?.2:.3:t.id>=6?.15:.2;e.setScale(a),e&&cc.loader.loadRes(n,cc.SpriteFrame,function(t,i){t||(e.getComponent(cc.Sprite).spriteFrame=i)})},showRankName:function(e,t){e&&cc.loader.loadRes(t,cc.SpriteFrame,function(t,i){t||(e.getComponent(cc.Sprite).spriteFrame=i)})},showFirstGuidelines:function(){var e=cc.instantiate(this.newGuidelinesTips);this.node.addChild(e)},checkLeftTime:function(e){var t=!1,i=new Date(e),n=9e4-((new Date).getTime()-i.getTime());if(n>0){Math.floor(n/36e5);var a=n%36e5;Math.floor(a/6e4);a%=6e4;Math.floor(a/1e3);t=!0}return t},getLeftTimeFormatString:function(e){if(""==e)return"";var t="",i=new Date(e),n=9e4-((new Date).getTime()-i.getTime());if(n>0){var a=Math.floor(n/36e5),o=n%36e5,s=Math.floor(o/6e4);o%=6e4;var r=Math.floor(o/1e3),c=function(e){return e<10?"0"+e:e};a>0?(t=c(a),t+=":"+c(s),t+=":"+c(r)):(t=c(s),t+=":"+c(r))}return t},update:function(e){if(u.lastFreeAccel){var t=this.checkLeftTime(u.lastFreeAccel),i=this.freeAccelBtn[0].getChildByName("sprite"),n=this.freeAccelBtn[1].getChildByName("sprite");t?(this.freeAccelBtn[0].getChildByName("time").active=!0,this.freeAccelBtn[0].getChildByName("time").getComponent(cc.Label).string=this.getLeftTimeFormatString(u.lastFreeAccel),this.freeAccelBtn[1].getChildByName("time").active=!0,this.freeAccelBtn[1].getChildByName("time").getComponent(cc.Label).string=this.getLeftTimeFormatString(u.lastFreeAccel),i.getChildByName("nums").color=cc.Color.GRAY,i.getChildByName("nums").getComponent(cc.LabelOutline).color=cc.Color.GRAY,n.getChildByName("nums").color=cc.Color.GRAY,n.getChildByName("nums").getComponent(cc.LabelOutline).color=cc.Color.GRAY,cc.uiCenter.setState(i.getChildByName("accel").getComponent(cc.Sprite),0),cc.uiCenter.setState(i.getChildByName("video").getComponent(cc.Sprite),0),cc.uiCenter.setState(n.getChildByName("accel").getComponent(cc.Sprite),0),cc.uiCenter.setState(n.getChildByName("video").getComponent(cc.Sprite),0)):(u.lastFreeAccel=null,this.freeAccelBtn[0].getChildByName("time").active=!1,this.freeAccelBtn[1].getChildByName("time").active=!1,cc.uiCenter.setState(i.getChildByName("accel").getComponent(cc.Sprite),1),cc.uiCenter.setState(i.getChildByName("video").getComponent(cc.Sprite),1),cc.uiCenter.setState(n.getChildByName("accel").getComponent(cc.Sprite),1),cc.uiCenter.setState(n.getChildByName("video").getComponent(cc.Sprite),1),i.getChildByName("nums").color=cc.Color.RED,i.getChildByName("nums").getComponent(cc.LabelOutline).color=cc.Color.RED,n.getChildByName("nums").color=cc.Color.RED,n.getChildByName("nums").getComponent(cc.LabelOutline).color=cc.Color.RED)}},onEnable:function(){l==c.default.toutiao&&s.default.hide()},onDisable:function(){l==c.default.toutiao&&s.default.hide()},getTimeArrive:function(e){var t=(new Date).setHours(0,0,0,0)-new Date(e).setHours(0,0,0,0);return console.log("getTimeArrive",t),parseFloat(t/(2592e6*u.rankGameCount))}}),cc._RF.pop()},{"../net/net":void 0,ChanneConfig:void 0,GameDataCenter:"GameDataCenter",NpcInteract:"NpcInteract",banner:void 0,buttonConfig:void 0,devices:void 0,login:void 0,navigate:void 0,share:void 0,statistics:void 0,videoAd:void 0}],Map:[function(e,t,i){"use strict";cc._RF.push(t,"a4ddfOl+QVHRq7S8ebewBmu","Map");var n=d(e("share")),a=d(e("buttonConfig")),o=d(e("videoAd")),s=d(e("login")),r=d(e("statistics")),c=d(e("banner")),h=d(e("ChanneConfig"));function d(e){return e&&e.__esModule?e:{default:e}}var u=e("GameDataCenter").getInstance(),l=h.default.channelId;cc.Class({extends:cc.Component,properties:{guankaButtons:{default:[],type:[cc.Node]},mapAreaPanelTitles:{default:[],type:[cc.SpriteFrame]},buttonSpriteArr:{default:[],type:[cc.SpriteFrame]},bossAvatarArr:{default:[],type:[cc.SpriteFrame]},bossNameArr:{default:[],type:[cc.SpriteFrame]},bossIntro1:{default:null,type:cc.Node},bossIntro2:{default:null,type:cc.Node},inventoryNode:{default:null,type:cc.Node},playButton:{default:null,type:cc.Node},accelButton:{default:null,type:cc.Node},propButton:{default:null,type:cc.Node},tipsNode:{default:null,type:cc.Node},defaultLevel:{default:-1,type:cc.Integer},yellow_numbers:cc.LabelAtlas,blue_numbers:cc.LabelAtlas,closedCallback:function(){},currentPage:{get:function(){return this._currentPage}},totalPage:{get:function(){return this._totalPage}},accelButtonVideo:cc.SpriteFrame,defaultPanel:"",bikeBtn4:cc.Node,bikeBtn8:cc.Node,baoxiangBtn12:cc.Node,baoxiangBtn17:cc.Node,baoxiangBtn22:cc.Node,baoxiangBtn27:cc.Node,freeGetBtn:cc.Node,freeBikeSpf:cc.SpriteFrame,freeBaoxiangSpf:cc.SpriteFrame,experiencePrefab:cc.Prefab,mysteriousPrefab:cc.Prefab},setGuankaArea:function(){var e=5*this.currentPage,t=cc.gameConfig.guankaData;cc.log("==gameDataCenter.userGameData==",u.userGameData);var i=0,n=0,a=this.node.getChildByName("mapArea").getChildByName("leftPanel"),o=this.node.getChildByName("mapArea").getChildByName("rightPanel"),s=a.getChildByName("mask"),r=o.getChildByName("mask");if(s.active=r.active=!1,(C=this.node.getChildByName("bg").getComponent(cc.Sprite)).setMaterial(0,cc.Material.getInstantiatedBuiltinMaterial("2d-sprite",C)),u.levelNum<e)C.setMaterial(0,cc.Material.getInstantiatedBuiltinMaterial("2d-gray-sprite",C)),i=2*this._currentPage+8,n=2*this._currentPage+9;else if(u.levelNum>=e&&u.levelNum<=e+9){0==Math.floor(u.levelNum/5)%2?(s.active=!1,r.active=!0,i=2*this._currentPage,n=2*this._currentPage+9):(C.setMaterial(0,cc.Material.getInstantiatedBuiltinMaterial("2d-sprite",C)),i=2*this._currentPage,n=2*this._currentPage+1)}else C.setMaterial(0,cc.Material.getInstantiatedBuiltinMaterial("2d-sprite",C)),i=2*this._currentPage,n=2*this._currentPage+1;var c=a.getChildByName("title"),h=o.getChildByName("title");c.getComponent(cc.Sprite).spriteFrame=this.mapAreaPanelTitles[i],h.getComponent(cc.Sprite).spriteFrame=this.mapAreaPanelTitles[n];var d=this.node.getChildByName("mapArea").getChildByName("backwardBut"),l=this.node.getChildByName("mapArea").getChildByName("forwardBut");d.color=l.color=new cc.Color(255,255,255),d.opacity=l.opacity=255,0===this._currentPage?(d.color=new cc.Color(103,103,103),d.opacity=200):this._currentPage===this._totalPage-1&&(l.color=new cc.Color(103,103,103),l.opacity=200),this._currentPage===this._totalPage-1?l.getComponent(cc.Animation).stop("focus"):l.getComponent(cc.Animation).play("focus"),0===this._currentPage?d.getComponent(cc.Animation).stop("focus"):d.getComponent(cc.Animation).play("focus"),this.playButton.getComponent(cc.Button).interactable=!1,this.resetStars(),this.resetLine(),this.resetIntro();for(var f=0;f<5&&!(e>=u.getTotalLevelCount());f++){var p=this.guankaButtons[f].getChildByName("label"),m=u.getLevelState(e+f);if(this.guankaButtons[f].getChildByName("challenge").active=!1,e+f==this._level){if(this.guankaButtons[f].getComponent(cc.Button).interactable=!0,this.guankaButtons[f].getComponent(cc.Button).isLock=!1,(f+1)%5!=0)this.guankaButtons[f].getComponent(cc.Button).normalSprite=this.buttonSpriteArr[1],p&&(p.getComponent(cc.Label).string=e+f+1,p.active=!0,this.showDisplayText(p,"yellow_numbers"));else this.guankaButtons[f].getComponent(cc.Button).normalSprite=this.buttonSpriteArr[3],(y=this.guankaButtons[f].getChildByName("avatar"))&&(y.getComponent(cc.Sprite).spriteFrame=this.bossAvatarArr[(e+f+1)/5-1],y.getChildByName("bossName").getComponent(cc.Sprite).spriteFrame=this.bossNameArr[(e+f+1)/5-1],y.active=!0),this.showIntro(this._level);if(this.playButton.getComponent(cc.Button).interactable=!0,!m||this._level==u.levelNum){for(var g=1;g<=3;g++){(v=this.guankaButtons[f].getChildByName("star"+g))&&(v.active=!1)}this.guankaButtons[f].getChildByName("challenge").active=!0}}else if(m||e+f==u.levelNum){if(this.guankaButtons[f].getComponent(cc.Button).interactable=!0,this.guankaButtons[f].getComponent(cc.Button).isLock=!1,(f+1)%5==0)this.guankaButtons[f].getComponent(cc.Button).normalSprite=this.buttonSpriteArr[2],(y=this.guankaButtons[f].getChildByName("avatar"))&&(y.getComponent(cc.Sprite).spriteFrame=this.bossAvatarArr[(e+f+1)/5-1],y.getChildByName("bossName").getComponent(cc.Sprite).spriteFrame=this.bossNameArr[(e+f+1)/5-1],y.active=!0),p&&(p.active=!1);else this.guankaButtons[f].getComponent(cc.Button).normalSprite=this.buttonSpriteArr[0],p&&(p.getComponent(cc.Label).string=e+f+1,p.active=!0,this.showDisplayText(p,"blue_numbers"));var b=this.guankaButtons[f].parent.getChildByName("line"+f.toString()+(f+1).toString());if(b&&(b.active=!0),m)for(g=1;g<=3;g++){var v=this.guankaButtons[f].getChildByName("star"+g);if(u.getLevelStars(e+f)<g)(C=v.getComponent(cc.Sprite)).setMaterial(0,cc.Material.getInstantiatedBuiltinMaterial("2d-gray-sprite",C))}else if(e+f==u.levelNum){for(g=1;g<=3;g++){(v=this.guankaButtons[f].getChildByName("star"+g))&&(v.active=!1)}this.guankaButtons[f].getChildByName("challenge").active=!0}}else{var y;if((f+1)%5==0)this.guankaButtons[f].getComponent(cc.Button).normalSprite=this.buttonSpriteArr[5],(y=this.guankaButtons[f].getChildByName("avatar"))&&(y.active=!1);else this.guankaButtons[f].getComponent(cc.Button).normalSprite=this.buttonSpriteArr[4];this.guankaButtons[f].getComponent(cc.Button).interactable=!0,this.guankaButtons[f].getComponent(cc.Button).isLock=!0,p&&(p.active=!1);for(g=1;g<=3;g++){(v=this.guankaButtons[f].getChildByName("star"+g))&&(v.active=!1)}}if(this.freeGetBtn.getChildByName("freeGet"+(f+1)).active=!1,this.freeGetBtn.getChildByName("freeGet"+(f+1)).getChildByName("freeIco").getComponent(cc.Animation).stop(),t[e+f].unlockAwards&&t[e+f].unlockAwards.length>0&&t[e+f].unlockAwards[0].isShow){var C;if(this.freeGetBtn.getChildByName("freeGet"+(f+1)).active=!0,u.getGuankaUnlockAwards(e+f))(C=this.freeGetBtn.getChildByName("freeGet"+(f+1)).getChildByName("freeIco").getComponent(cc.Sprite)).setMaterial(0,cc.Material.getInstantiatedBuiltinMaterial("2d-gray-sprite",C)),this.freeGetBtn.getChildByName("freeGet"+(f+1)).getChildByName("freeIco").getComponent(cc.Animation).stop(),this.freeGetBtn.getChildByName("freeGet"+(f+1)).getChildByName("sunshine_effect").active=!1;else(C=this.freeGetBtn.getChildByName("freeGet"+(f+1)).getChildByName("freeIco").getComponent(cc.Sprite)).setMaterial(0,cc.Material.getInstantiatedBuiltinMaterial("2d-sprite",C)),this.freeGetBtn.getChildByName("freeGet"+(f+1)).getChildByName("freeIco").getComponent(cc.Animation).play(),this.freeGetBtn.getChildByName("freeGet"+(f+1)).getChildByName("sunshine_effect").active=!0;"moto"==t[e+f].unlockAwards[0].type?this.freeGetBtn.getChildByName("freeGet"+(f+1)).getChildByName("freeIco").getComponent(cc.Sprite).spriteFrame=this.freeBikeSpf:this.freeGetBtn.getChildByName("freeGet"+(f+1)).getChildByName("freeIco").getComponent(cc.Sprite).spriteFrame=this.freeBaoxiangSpf}}},resetStars:function(){for(var e=0;e<5;e++)for(var t=1;t<=3;t++){var i=this.guankaButtons[e].getChildByName("star"+t);if(i){var n=i.getComponent(cc.Sprite);n.setMaterial(0,cc.Material.getInstantiatedBuiltinMaterial("2d-sprite",n)),i.active=!0}}},resetLine:function(){for(var e=0;e<5;e++){var t=this.guankaButtons[e].parent.getChildByName("line"+e.toString()+(e+1).toString());t&&(t.active=!1)}},resetIntro:function(){this.bossIntro1.active=this.bossIntro2.active=!1},showIntro:function(e){var t="bossIntro"+(0==(e+1)/5%2?"2":"1");if(this[t]){this[t].getChildByName("avatarBox").getChildByName("avatar").getComponent(cc.Sprite).spriteFrame=this.bossAvatarArr[(e+1)/5-1],this[t].getChildByName("bossName").getComponent(cc.Sprite).spriteFrame=this.bossNameArr[(e+1)/5-1];var i=u.getLevelParams(e,"awards")[0]||0;this[t].getChildByName("award").getComponent(cc.Label).string=i;var n=u.getLevelParams(e,"bossIntro")||"";this[t].getChildByName("intro").getComponent(cc.Label).string=n,this[t].active=!0}},showDisplayText:function(e,t){e&&("yellow_numbers"==t?e.getComponent(cc.Label).font=this.yellow_numbers:"blue_numbers"==t&&(e.getComponent(cc.Label).font=this.blue_numbers))},onMapButtonClick:function(e,t){if(cc.log("1\u9009\u4e2d\u5173\u5361",this._level),this.guankaButtons[t].getComponent(cc.Button).isLock)cc.toast.show(cc.gameConfig.gameString.levelLockTips,1);else{var i=5*this._currentPage;if(this.resetIntro(),this._level>=i&&this._level<=i+9){var n=this.guankaButtons[this._level-5*this._currentPage];if((this._level+1)%5!=0){n.getComponent(cc.Button).normalSprite=this.buttonSpriteArr[0];var a=n.getChildByName("label");a&&(a.active=!0,this.showDisplayText(a,"blue_numbers"))}else if(this._level!=u.levelNum){var o;n.getComponent(cc.Button).normalSprite=this.buttonSpriteArr[2],(o=n.getChildByName("avatar"))&&(o.getComponent(cc.Sprite).spriteFrame=this.bossAvatarArr[(this._level+1)/5-1],o.getChildByName("bossName").getComponent(cc.Sprite).spriteFrame=this.bossNameArr[(this._level+1)/5-1],o.active=!0)}else n.getComponent(cc.Button).normalSprite=this.buttonSpriteArr[2]}if(this._level=parseInt(t)+5*this._currentPage,(this._level+1)%5==0)cc.audioComponent.play("boss_selected"),this.guankaButtons[t].getComponent(cc.Button).normalSprite=this.buttonSpriteArr[3],(o=this.guankaButtons[t].getChildByName("avatar"))&&(o.getComponent(cc.Sprite).spriteFrame=this.bossAvatarArr[(this._level+1)/5-1],o.getChildByName("bossName").getComponent(cc.Sprite).spriteFrame=this.bossNameArr[(this._level+1)/5-1],o.active=!0),this.showIntro(this._level);else cc.audioComponent.play("button"),this.guankaButtons[t].getComponent(cc.Button).normalSprite=this.buttonSpriteArr[1];(a=this.guankaButtons[t].getChildByName("label"))&&this.showDisplayText(a,"yellow_numbers"),this.playButton.getComponent(cc.Button).interactable=!0,cc.log("2\u9009\u4e2d\u5173\u5361",this._level)}},onPageButtonClick:function(e,t){cc.audioComponent.play("button");var i=this._currentPage+parseInt(t);i<0||i>=this._totalPage||(this._currentPage=i,this.setGuankaArea())},onInventory:function(){cc.audioComponent.play("button"),r.default.setSceneEvent("\u751f\u6daf\u6311\u6218\u5173\u5361\u9875","\u70b9\u51fb","\u5173\u5361\u9875-\u88c5\u5907\u9053\u5177"),this.showPanel()},showPanel:function(){this.onKnow();var e=this;this.inventoryNode.getComponent("Inventory").scene=1,this.inventoryNode.getComponent("Inventory").confirmCallback=function(t){u.setGameDaoJuList(t),u.saveData(),cc.log("==\u8d5b\u524d\u88c5\u5907==",u.getGameDaoJuList()),e.inventoryNode.active=!1},this.inventoryNode.getComponent("Inventory").show()},onAccel:function(){if(cc.audioComponent.play("button"),r.default.setSceneEvent("\u751f\u6daf\u6311\u6218\u5173\u5361\u9875","\u70b9\u51fb","\u5173\u5361\u9875-\u8d5b\u524d\u52a0\u901f"),!u.accelOn){var e=this,t=function(){a.default.getState("saiqianjiasu",1),u.accelOn=!0,e.accelButton.getChildByName("on").active=!0,e.accelButton.getChildByName("off").active=!1,e.tipsNode.active=!1,e.accelButton.getComponent(cc.Animation).stop(),cc.toast.show(cc.gameConfig.gameString.hadJiasu,1)};"share"==a.default.getState("saiqianjiasu",0)?n.default.shareToSociety({shareType:1,buttonKey:"saiqianjiasu"},t):o.default.show("saiqianjiasu",t)}},onKnow:function(){this.tipsNode.active=!1},onPlay:function(e){if(cc.log("onPlay-this._level",this._level),cc.audioComponent.play("button"),"start"!=e){if(cc.log("isStart\u4e0d\u4e3astart"),0==this._level&&a.default.isShow("saiqianjiasu")&&!this.accelButton.getChildByName("on").active&&!this.tips)return this.tips++,void(this.tipsNode.active=!0);var t=this.inventoryNode.getComponent("Inventory");t.init();t._shopItem;for(var i=u.getGameDaoJuList(),n=0;n<i.length;n++)if(u.getDaoJuNum(i[n])<=0)return this.showPanel(),void(t.isStart="start")}var o=!1;u.accelOn&&(o=u.accelOn,u.accelOn=!1),cc.loading.loadScene("GameScene",{level:this._level,daojuList:u.getGameDaoJuList(),accelOn:o},!0)},onClose:function(){this.useDaojuList&&(this.useDaojuList=null),cc.audioComponent.play("button"),this.node.destroy(),this.closedCallback&&this.closedCallback()},onLoad:function(){this.tips=0,isNaN(this.defaultLevel)||-1==this.defaultLeve?this._level=u.levelNum:this._level=this.defaultLevel,cc.gameConfig.guankaData[this._level].isBoss&&cc.audioComponent.play("boss_selected"),this._currentPage=Math.floor(this._level/5);var e=u.getTotalLevelCount();this._totalPage=e/5,e%5!=0&&this._totalPage++,this.setGuankaArea()},start:function(){if("showPanel"==this.defaultPanel&&this.showPanel(),0==u.accelOn&&this.accelButton.getComponent(cc.Animation).play(),a.default.isShow("saiqiandaojubaotuisong")&&u.gameSocoreCount%2<=0){u.gameSocoreCount=0;var e=cc.instantiate(this.experiencePrefab);e.on("onStartGame",this.startGame,this),this.node.addChild(e)}},startGame:function(e,t,i){cc.loading.loadScene("GameScene",{level:u.levelNum,daojuList:i,tryProps:e,accelOn:t},!0)},onEnable:function(){if(this.loginIsShow=s.default.hideLogin(),h.default.Platid&&"qimao"==h.default.Platid)c.default.hide();else{var e="main";if(a.default.isShow("saiqiandaojubaotuisong")&&a.default.isSceneOpen("bannerAdPos")&&u.gameSocoreCount%2<=0)return 9==l&&(e="main1"),c.default.show(e),void c.default.setBannerAdPos(-20);c.default.show(e),c.default.setBannerAdPos(170)}},onDisable:function(){this.loginIsShow&&s.default.showLogin(),c.default.hide(),c.default.setBannerAdPos()},onFreeGet:function(e,t){cc.log("619lvl---\x3e",t);var i=cc.gameConfig.guankaData,n=parseInt(t)+5*this._currentPage;if(u.getGuankaUnlockAwards(n-1))"moto"==i[n-1].unlockAwards[0].type?cc.toast.show(cc.gameConfig.gameString.bikeInLevelGeted):cc.toast.show(cc.gameConfig.gameString.baoxiangInLevelGeted);else if("moto"==i[n-1].unlockAwards[0].type){var a=cc.instantiate(this.mysteriousPrefab);this.node.addChild(a);var o=a.getComponent("MysteriousBike");o.setData(i[n-1].unlockAwards),o.setOpenType(i[n-1].key)}else cc.toast.show(cc.gameConfig.gameString.baoxiangInLevel.replace(999,n),1)}}),cc._RF.pop()},{ChanneConfig:void 0,GameDataCenter:"GameDataCenter",banner:void 0,buttonConfig:void 0,login:void 0,share:void 0,statistics:void 0,videoAd:void 0}],MatchRival:[function(e,t,i){"use strict";cc._RF.push(t,"13603EKuFhC26KGK2saXVjZ","MatchRival");var n=c(e("athletics")),a=c(e("Portrait")),o=c(e("ChanneConfig")),s=c(e("buttonConfig")),r=c(e("banner"));function c(e){return e&&e.__esModule?e:{default:e}}var h=e("GameDataCenter").getInstance(),d=[5e3,14e3,2e4],u=[1e3,3e3,5e3],l=o.default.channelId;cc.Class({extends:cc.Component,properties:{freeMatchNode:cc.Node,matchBut:cc.Button,backBut:cc.Button,experiencePrefab:cc.Prefab,portrait:a.default,portraitList:{default:[],type:a.default},nameList:{default:[],type:cc.Label},rewardGold:cc.Label,costGold:cc.Label,costGoldTips:cc.Label,tipsLabel:cc.Label},setLicenseLevel:function(e){this.level=e,this.costNum=u[e],this.rewardGold.string=d[e]+"",this.costGold.string=u[e]+"",this.costGoldTips.string="\u6bcf\u4f4d\u73a9\u5bb6\u9700\u8981\u7f34\u7eb3"+u[e]+"\u91d1\u5e01\u8fdb\u884c\u5339\u914d"},onLoad:function(){},start:function(){this.tryProps=null,this.launch=!1,this.gameDaoJuList=h.getGameDaoJuList(),h.freeMatchNum>0||h.ticket>0?(this.freeMatchNode.active=!0,this.costGold.node.active=!1):(this.costGold.node.active=!0,this.freeMatchNode.active=!1)},onMatch:function(){if(cc.audioComponent.play("button"),h.totalCoins<this.costNum&&h.freeMatchNum<1&&h.ticket<1)cc.toast.show("\u91d1\u5e01\u4e0d\u8db3\uff01",1);else{if((6==l||9==l||10==l||0==l||l==o.default.qgame_vivo)&&s.default.isShow("saiqiandaojubaotuisong")&&h.gameSocoreCount%2<=0){h.gameSocoreCount%2<=0&&(h.gameSocoreCount=0);var e=cc.instantiate(this.experiencePrefab);return e.on("onClose",this.match,this),e.on("onStartGame",this.startGame,this),void this.node.parent.parent.addChild(e)}this.match()}},startGame:function(e,t,i){this.tryProps=e,this.launch=t,this.gameDaoJuList=i,this.match()},match:function(){this.isMatching=!0,this.matchBut.interactable=!1,this.backBut.interactable=!1,this.playerIndex=0,this.schedule(this.onMatchIng,.5);var e=h.getCurBikeAndUpgradeData();e.id=h.curUseBike,this.isAi=!0;for(var t=0,i=[],a=0;a<7;a++){t+=Math.floor(Math.random()*cc.gameConfig.wcInfoData.length-t);var o={};o.userinfo=cc.gameConfig.wcInfoData[t],o.bike={},o.bike.isAi=!0,o.bike.maxSpeed=e.maxSpeed+5+5*Math.random(),o.bike.minSpeed=e.maxSpeed-5-5*Math.random(),o.bike.accRate=e.accRate-.3*e.accRate+Math.random()*e.accRate*.3,o.bike.id=Math.floor(e.id-1+3*Math.random()),o.bike.id=o.bike.id<0?0:o.bike.id,i.push(o)}n.default.players=i,n.default.licenseLevel=this.level,this.players=i,r.default.hide()},onMatchIng:function(){this.playerIndex<this.players.length?this.updatePlayer():(this.unschedule(this.onMatchIng),this.onMatchBack())},updatePlayer:function(){var e=this.players[this.playerIndex].userinfo;this.portraitList[this.playerIndex].setAvatarUrl(e.avatarUrl),this.nameList[this.playerIndex].string=e.nickName||e.nickname||"",this.playerIndex++},onMatchBack:function(){this.isMatching=!1,this.schedule(this.onStartGame,1),this.startGameTime=3,this.tipsLabel.string="\u51c6\u5907\u8fdb\u5165\u5bf9\u6218..."+this.startGameTime},onStartGame:function(){if(this.startGameTime--,this.tipsLabel.string="\u51c6\u5907\u8fdb\u5165\u5bf9\u6218..."+this.startGameTime,this.startGameTime<=0){this.unschedule(this.onStartGame),h.freeMatchNum>0?h.freeMatchNum-=1:h.ticket>0?h.ticket-=1:h.totalCoins-=1e3,h.saveData();var e=Math.floor(Math.random()*cc.gameConfig.guankaScenery.length);cc.log("this.tryProps= ",this.tryProps);var t=10+6*this.level+Math.floor(6*Math.random());if(l==o.default.qqgame)switch(this.level){case 0:t=Math.floor(3*Math.random());break;case 1:t=3+Math.floor(6*Math.random());break;case 2:t=9+Math.floor(10*Math.random())}cc.loading.loadScene("GameScene",{level:t,daojuList:this.gameDaoJuList,accelOn:!1,isMatch:!0,tryProps:this.tryProps,launch:this.launch,matchScenery:e},!0)}},onClose:function(){cc.audioComponent.play("button"),this.unschedule(this.onMatchIng),this.node.destroy()}}),cc._RF.pop()},{ChanneConfig:void 0,GameDataCenter:"GameDataCenter",Portrait:"Portrait",athletics:void 0,banner:void 0,buttonConfig:void 0}],MatchScene:[function(e,t,i){"use strict";cc._RF.push(t,"13e4cGN1ltDEKuPrSIj0d63","MatchScene");var n=c(e("athletics")),a=c(e("login")),o=(c(e("banner")),c(e("ChanneConfig"))),s=c(e("buttonConfig")),r=c(e("Portrait"));function c(e){return e&&e.__esModule?e:{default:e}}var h=e("GameDataCenter").getInstance(),d=o.default.channelId;cc.Class({extends:cc.Component,properties:{icon:cc.Sprite,nickName:cc.Label,icon2:cc.Sprite,nickName2:cc.Label,coinLabel:cc.Label,coinLabel2:cc.Label,winCoinLabel:cc.Label,tipsLabel:cc.Label,freeTipsLabel:cc.Label,matchBut:cc.Button,icoCoin:cc.Node,icoTicket:cc.Node,experiencePrefab:cc.Prefab,portrait:r.default,portrait2:r.default},onLoad:function(){this.initUserInfo(),this.winCoinLabel.string="2000",this.coinLabel.string="1000",this.coinLabel2.string="1000",this.tipsLabel.node.active=!1,this.icon.spriteFrame=null,this.icon2.spriteFrame=null,cc.log("gameDataCenter.freeMatchNum = ",h.freeMatchNum),cc.log("gameDataCenter.curUseBike = ",h.curUseBike),this.node.on("onClose",this.onClose,this),this.node.on("onInit",this.onInit,this),this.matcTime=0,h.freeMatchNum>0?(this.icoTicket.active=!0,this.icoCoin.active=!1,this.coinLabel.string="",this.coinLabel.node.active=!1,this.freeTipsLabel.node.active=!0):(h.ticket>0?(this.icoTicket.active=!0,this.icoCoin.active=!1,this.coinLabel.string="1"):(this.icoTicket.active=!1,this.icoCoin.active=!0,this.coinLabel.string="1000"),this.coinLabel.node.active=!0,this.freeTipsLabel.node.active=!1),this.isMatching=!1},initUserInfo:function(){cc.userInfo},start:function(){this.tryProps=null,this.launch=!1,this.gameDaoJuList=h.getGameDaoJuList()},onMatch:function(){if(cc.audioComponent.play("button"),cc.log("gameDataCenter.freeMatchNum = ",h.freeMatchNum),cc.sys.getNetworkType()!=cc.sys.NetworkType.NONE)if(h.totalCoins<1e3&&h.freeMatchNum<1&&h.ticket<1)cc.toast.show("\u91d1\u5e01\u4e0d\u8db3\uff01",1);else{for(var e=!1,t=0;t<this.gameDaoJuList.length;t++)h.getDaoJuNum(this.gameDaoJuList[t])<=0&&(e=!0);if((6==d||9==d||10==d||0==d||d==o.default.qgame_vivo)&&s.default.isShow("saiqiandaojubaotuisong")&&(h.gameSocoreCount%2<=0||e)){h.gameSocoreCount%2<=0&&(h.gameSocoreCount=0);var i=cc.instantiate(this.experiencePrefab);return i.on("onClose",this.match,this),i.on("onStartGame",this.startGame,this),void this.node.parent.parent.addChild(i)}this.match()}else cc.toast.show("\u8bf7\u68c0\u67e5\u7f51\u7edc\u72b6\u6001\uff01",1)},startGame:function(e,t,i){this.tryProps=e,this.launch=t,this.gameDaoJuList=i,this.match()},match:function(){this.isMatching=!0,this.matchBut.interactable=!1,this.tipsLabel.node.active=!0,this.matcTime=0,this.tipsLabel.string="\u5339\u914d\u4e2d..."+this.matcTime,this.schedule(this.onMatchIng,1),this.updatePlayer2();var e=h.getCurBikeAndUpgradeData();e.id=h.curUseBike,d==o.default.qgame_vivo?n.default.simulationSeek({scope:0,bike:e},function(e,t){this.isValid&&(e?(this.isMatch=!0,this.isAi=t,this.player=e,this.onMatchBack()):(this.isMatch=!1,this.onMatchBack()))}.bind(this),this):n.default.seek({scope:0,bike:e},function(e,t){this.isValid&&(e?(this.isMatch=!0,this.isAi=t,this.player=e,this.onMatchBack()):(this.isMatch=!1,this.onMatchBack()))}.bind(this),function(){this.isMatch=!1,this.onMatchBack(),cc.toast.show(cc.gameConfig.gameString.netTimeOut,1)}.bind(this))},onMatchIng:function(){this.matcTime++,this.tipsLabel.string="\u5339\u914d\u4e2d..."+this.matcTime},updatePlayer2:function(){var e=Math.floor(Math.random()*cc.gameConfig.wcInfoData.length),t=cc.gameConfig.wcInfoData[e],i=function(e,n){if(!e&&this.isMatching){var a=(new Date).getTime()-this.updatePlayer2Time;a>300?this.scheduleOnce(this.updatePlayer2,0):this.scheduleOnce(this.updatePlayer2,(300-a)/100),this.nickName2.string=t.nickName||t.nickname||""}this.portrait2.node.off(i)}.bind(this);this.portrait2.node.on("loadCompleted",i);var n=t.avatarUrl;d==o.default.qgame_vivo&&(n="userIcon/"+(e%30+1)+".png"),this.portrait2.setAvatarUrl(n)},onMatchBack:function(){if(this.unschedule(this.onMatchIng),this.unschedule(this.updatePlayer2),this.isMatching=!1,this.isMatch){var e=this.player;this.portrait2.setAvatarUrl(e.avatarUrl),this.nickName2.string=e.nickName||e.nickname||"",this.schedule(this.onStartGame,1),this.startGameTime=3,this.tipsLabel.string="\u51c6\u5907\u8fdb\u5165\u5bf9\u6218..."+this.startGameTime,this.node.emit("offClose",!1)}else this.matchBut.interactable=!0,this.matcTime=0,this.tipsLabel.string="\u5339\u914d\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u5339\u914d"},onStartGame:function(){if(this.startGameTime--,this.tipsLabel.string="\u51c6\u5907\u8fdb\u5165\u5bf9\u6218..."+this.startGameTime,this.startGameTime<=0)if(this.unschedule(this.onStartGame),h.freeMatchNum>0?h.freeMatchNum-=1:h.ticket>0?h.ticket-=1:h.totalCoins-=1e3,h.saveData(),this.isAi)if(5==d)cc.loading.loadScene("GameScene",{level:10,daojuList:["accel"],accelOn:!1,isMatch:!0},!0);else{var e=Math.floor(Math.random()*cc.gameConfig.guankaScenery.length);cc.log("this.tryProps= ",this.tryProps),cc.loading.loadScene("GameScene",{level:10,daojuList:this.gameDaoJuList,accelOn:!1,isMatch:!0,tryProps:this.tryProps,launch:this.launch,matchScenery:e},!0)}else n.default.initSoket(function(e){e?cc.loading.loadScene("GameScene",{level:10,daojuList:["accel"],accelOn:!1,isMatch:!0},!0):this.node.emit("offClose",!0)}.bind(this))},onDestroy:function(){cc.log("onDestroy555")},onClose:function(e){this.unschedule(this.onMatchIng),d==o.default.qgame_vivo?(this.isMatching=!1,this.node.emit("close",e)):this.matcTime>0?(this.tipsLabel.string="\u53d6\u6d88\u5339\u914d\u4e2d...",this.node.emit("offClose",!1),n.default.seekEnd(function(t){t?(this.isMatching=!1,this.node.emit("close",e)):this.node.emit("offClose",!0)}.bind(this),function(){this.node.emit("close",e)}.bind(this))):(this.isMatching=!1,this.node.emit("close",e))},onInit:function(){this.matchBut.interactable=!0,this.tipsLabel.node.active=!1},getUserInfo:function(){a.default.getUserInfo(function(e){this.isValid&&e&&(h.username=e.nickName||e.nickname||"\u6e38\u5ba2\u73a9\u5bb6",h.avatarUrl=e.avatarUrl,this.onMatch())}.bind(this))},onEnable:function(){a.default.createLogin({left:-1,top:406,width:220,height:70},function(e){this.isValid&&e&&(h.username=e.nickName||e.nickname||"\u6e38\u5ba2\u73a9\u5bb6",h.avatarUrl=e.avatarUrl,this.onMatch())}.bind(this))},onDisable:function(){cc.eventCenter.emit("InfoPanel_CreateLogin")}}),cc._RF.pop()},{ChanneConfig:void 0,GameDataCenter:"GameDataCenter",Portrait:"Portrait",athletics:void 0,banner:void 0,buttonConfig:void 0,login:void 0}],MatchSelect:[function(e,t,i){"use strict";cc._RF.push(t,"92117fwCVdFdZ9YkpCCnIHg","MatchSelect");var n=s(e("statistics")),a=s(e("login")),o=s(e("banner"));function s(e){return e&&e.__esModule?e:{default:e}}var r=e("GameDataCenter").getInstance();cc.Class({extends:cc.Component,properties:{onlingLabel:{default:[],type:cc.Label},matchRivalPrefab:cc.Prefab},start:function(){},onMatchSelect1:function(){cc.audioComponent.play("button");var e=cc.instantiate(this.matchRivalPrefab);e.getComponent("MatchRival").setLicenseLevel(0),e.parent=this.node,n.default.setSceneEvent("\u5339\u914d\u5bf9\u6218","\u70b9\u51fb","\u5339\u914d\u5bf9\u6218-\u521d\u7ea7\u5339\u914d")},onMatchSelect2:function(){if(cc.audioComponent.play("button"),n.default.setSceneEvent("\u5339\u914d\u5bf9\u6218","\u70b9\u51fb","\u5339\u914d\u5bf9\u6218-\u4e2d\u7ea7\u5339\u914d"),r.matchWin<20)cc.toast.show("\u62ff\u5230\u4e2d\u7ea7\u9a7e\u7167\u89e3\u9501\uff01",1);else{var e=cc.instantiate(this.matchRivalPrefab);e.getComponent("MatchRival").setLicenseLevel(1),e.parent=this.node}},onMatchSelect3:function(){if(cc.audioComponent.play("button"),n.default.setSceneEvent("\u5339\u914d\u5bf9\u6218","\u70b9\u51fb","\u5339\u914d\u5bf9\u6218-\u9ad8\u7ea7\u5339\u914d"),r.matchWin<50)cc.toast.show("\u62ff\u5230\u9ad8\u7ea7\u9a7e\u7167\u89e3\u9501\uff01",1);else{var e=cc.instantiate(this.matchRivalPrefab);e.getComponent("MatchRival").setLicenseLevel(2),e.parent=this.node}},onClose:function(){cc.audioComponent.play("button"),this.node.active=!1},onEnable:function(){for(var e=0;e<this.onlingLabel.length;e++)this.onlingLabel[e].string="\u5f53\u524d\u5728\u7ebf\u4eba\u6570:"+(Math.floor(1e3*Math.random())+1e3);this.loginIsShow=a.default.hideLogin(),o.default.show("main")},onDisable:function(){this.loginIsShow&&a.default.showLogin(),o.default.hide()}}),cc._RF.pop()},{GameDataCenter:"GameDataCenter",banner:void 0,login:void 0,statistics:void 0}],MyLicense:[function(e,t,i){"use strict";cc._RF.push(t,"82be3rRsFBJy5afgw8a7dAj","MyLicense");var n=e("GameDataCenter").getInstance(),a=[0,5,20,50,200];cc.Class({extends:cc.Component,properties:{licenseSprite:{type:cc.Sprite,default:null},licenseTipsPrefab:cc.Prefab},start:function(){for(var e=0,t=0;t<a.length&&!(n.matchWin<a[t]);t++)e=t;cc.loader.loadRes("license/license_mini_"+e,cc.SpriteFrame,function(e,t){e||(this.licenseSprite.spriteFrame=t)}.bind(this))},onLicenseTips:function(){cc.audioComponent.play("button"),cc.instantiate(this.licenseTipsPrefab).parent=this.node.parent}}),cc._RF.pop()},{GameDataCenter:"GameDataCenter"}],MyNaneLabel:[function(e,t,i){"use strict";cc._RF.push(t,"d30fe/w81lKUphZk7r3wvAD","MyNaneLabel");var n=e("GameDataCenter").getInstance();cc.Class({extends:cc.Component,properties:{_label:cc.Label,_username:""},editor:{requireComponent:cc.Label},onLoad:function(){this._label=this.node.getComponent(cc.Label),this.node.getComponent(cc.Widget).top=75.5,this.node.getComponent(cc.Widget).updateAlignment(),cc.eventCenter.on("username_change",this.onUsernameChange,this)},start:function(){this.setNane(n.username)},setNane:function(e){this._username=e,this._label.string=this._username,this._label.fontSize=20},onUsernameChange:function(e){this.setNane(e)}}),cc._RF.pop()},{GameDataCenter:"GameDataCenter"}],MyPortrait:[function(e,t,i){"use strict";cc._RF.push(t,"d21a6bppflG0piQ805B51fC","MyPortrait");var n=function(e){return e&&e.__esModule?e:{default:e}}(e("Portrait"));var a=e("GameDataCenter").getInstance();cc.Class({extends:n.default,properties:{},editor:{requireComponent:cc.Sprite},onLoad:function(){n.default.prototype.onLoad.call(this),cc.eventCenter.on("avatarUrl_change",this.onAvatarUrlChange,this)},start:function(){this.avatarUrl=a.avatarUrl,n.default.prototype.start.call(this)},onAvatarUrlChange:function(e){this.setAvatarUrl(e)}}),cc._RF.pop()},{GameDataCenter:"GameDataCenter",Portrait:"Portrait"}],MysteriousBike:[function(e,t,i){"use strict";cc._RF.push(t,"14f50AbofFOY4SVlLVQQRUx","MysteriousBike");var n=c(e("buttonConfig")),a=c(e("share")),o=c(e("videoAd")),s=c(e("statistics")),r=c(e("banner"));function c(e){return e&&e.__esModule?e:{default:e}}var h=e("GameDataCenter").getInstance(),d=e("Star");cc.Class({extends:cc.Component,properties:{icon:cc.Sprite,noThanksBtn:cc.RichText,getBtn:cc.Button,getBtnVideo:cc.SpriteFrame,stats:{type:d,default:[]},winRateLabel:cc.Label,tipsLabel:cc.Label,startButton:cc.Button},onLoad:function(){},setData:function(e){this.id=parseInt(e[e.length-1].id);for(var t=0;t<e.length;t++){if(!h.userGameData.bikeUpgrade[parseInt(e[t].id)].buyed)return this.id=parseInt(e[t].id),!0}},setOpenType:function(e){this.openType=e},start:function(){this.res="bike"+this.id,cc.loader.loadRes(this.res,cc.SpriteFrame,function(e,t){this.icon.spriteFrame=t}.bind(this)),this.startButton.node.active=!1,this.noThanksBtn.node.active=!0,"share"!=n.default.getState("haocheshijia",0)&&(this.getBtn.node.getComponent(cc.Sprite).spriteFrame=this.getBtnVideo),h.levelNum>this.openType?(this.tipsLabel.node.active=!1,this.getBtn.node.active=!0):(this.tipsLabel.string=cc.gameConfig.gameString.bikeInLevel.replace(999,this.openType+1),this.tipsLabel.node.active=!0,this.getBtn.node.active=!1);var e=cc.gameConfig.bikeData[this.id],t=e.winRate;t=t.replace("%",","),this.winRateLabel.string=t;for(var i=0;i<this.stats.length;i++)i<e.star/2?(this.stats[i].setStar(e.star/2-i),this.stats[i].node.active=!0):this.stats[i].node.active=!1},onGet:function(){s.default.setSceneEvent("\u5173\u5361\u9009\u62e9","\u70b9\u51fb","\u795e\u79d8\u8c6a\u8f66"),"share"==n.default.getState("mianfeihaochelingqu",0)?a.default.shareToSociety({shareType:1,buttonKey:"mianfeihaochelingqu"},this.getBike.bind(this)):o.default.show("mianfeihaochelingqu",this.getBike.bind(this))},goToGame:function(){cc.audioComponent.pauseMusic(),cc.loading.loadScene("GameScene",{level:h.levelNum,daojuList:h.getGameDaoJuList(),accelOn:!0},!0)},getBike:function(){n.default.getState("mianfeihaochelingqu",1),h.setGuankaUnlockAwards(this.openType),s.default.setSceneEvent("\u795e\u79d8\u8d5b\u8f66","\u83b7\u5f97","\u83b7\u5f97:"+cc.gameConfig.bikeData[this.id].id+cc.gameConfig.bikeData[this.id].name),h.userGameData.bikeUpgrade[this.id].buyed=!0,h.curUseBike=this.id,h.curBike=this.id,h.saveData(),cc.eventCenter.emit("curBike"),this.startButton.node.active=!0,this.getBtn.node.active=!1,cc.toast.show("\u5df2\u9886\u53d6\u514d\u8d39\u8c6a\u8f66\uff0c\u8d76\u7d27\u4f53\u9a8c\u4e00\u4e0b\u5427\uff01",1)},onClose:function(){this.node.active=!1,this.node.emit("onClose"),this.node.destroy()},onDestroy:function(){},onEnable:function(){this.scheduleOnce(function(){r.default.show("main")},.1)},onDisable:function(){r.default.hide()}}),cc._RF.pop()},{GameDataCenter:"GameDataCenter",Star:"Star",banner:void 0,buttonConfig:void 0,share:void 0,statistics:void 0,videoAd:void 0}],MysticalBox:[function(e,t,i){"use strict";cc._RF.push(t,"8e2563bBmNMiZkAL4owR0fE","MysticalBox");s(e("buttonConfig")),s(e("share"));var n=s(e("videoAd")),a=(s(e("statistics")),s(e("banner"))),o=s(e("ChanneConfig"));function s(e){return e&&e.__esModule?e:{default:e}}var r=e("GameDataCenter").getInstance(),c=o.default.channelId,h=[5e3,5e3,5e3,5e3];cc.Class({extends:cc.Component,properties:{cardPrefab:cc.Prefab,notOpenedNode:cc.Node,alreadyOpenedNode:cc.Node,openedView:cc.Node,bagsLabel:cc.Label,showNode:cc.Node,RefreshBtn:cc.Node,mysticalBox:dragonBones.ArmatureDisplay,notNode:cc.Node,getAwardBtn:cc.Node},onLoad:function(){this.index=0,this.isShow=!1,this.cardArr=[],this.isDouble=!1,this.alreadyOpenedNode.active=!1,this.notOpenedNode.active=!0,this.notNode.active=!1,this.isAmusement?(this.RefreshBtn.active=!1,this.getAwardBtn.x=0):this.RefreshBtn.getComponent(cc.Animation).play(),this.sceneData.isNewGuidelines&&(this.RefreshBtn.getChildByName("icon_video").active=!1)},start:function(){this.node.on(cc.Node.EventType.TOUCH_START,this.playOpenEffect,this),this.playShakeEffect()},setLevelData:function(e,t){this.sceneData=cc.loading.getCustomData(),this.isAmusement=cc.loading.getCustomData().isAmusement,this.isAmusement?(this.maxNums=1,this.bagsLabel.string=this.maxNums+""):(this.levelData=e,this.gameGuidelines=t,this.maxNums=this.levelData.giftType.length/2,this.bagsLabel.string=this.maxNums+"",cc.loading.getCustomData()&&(this.isNewGuidelines=cc.loading.getCustomData().isNewGuidelines),this.isNewGuidelines&&this.gameGuidelines.show(10))},showCard:function(){if(!this.isShow){var e,t,i;this.isShow=!0,e=this.isAmusement?0:parseInt(this.levelData.giftType[this.index]);var n=new cc.SpriteFrame;switch(e){case 0:t="award/bullions";break;case 1:t="award/diamonds";break;case 2:break;case 3:t="award/card_1";break;case 4:case 6:case 8:t="award/card_"+e}var a=function(){this.showNode.children.length&&this.showNode.removeAllChildren();var t=cc.instantiate(this.cardPrefab),a=void 0;this.isAmusement?(i="\u91d1\u6761",a=h[this.sceneData.amusementType]):(i=this.levelData.giftName[this.index],a=this.levelData.giftNum[this.index]),t.getComponent("CardItem").setItemData(!0,e,n,i,a,this.isDouble),this.cardArr.push({type:e,icon:n,name:i,bags:a}),t.getComponent(cc.Animation).on("finished",function(){this.index++,this.isShow=!1,this.isAmusement?this.index>=this.maxNums&&(this.showNode.removeAllChildren(),this.notOpenedNode.getChildByName("box").active=!1,this.alreadyOpenedNode.active=!0,this.node.off(cc.Node.EventType.TOUCH_START,this.showCard,this),this.showAllCard(),this.notNode.active=!1):(this.index<this.levelData.giftType.length/2&&this.mysticalBox.off(dragonBones.EventObject.COMPLETE,this.showCard,this),this.index>=this.maxNums&&(this.index>=this.levelData.giftType.length&&(this.showAllCard(),this.notNode.active=!1,this.isNewGuidelines&&this.gameGuidelines.show(12)),this.showNode.removeAllChildren(),this.isDouble||(this.notOpenedNode.getChildByName("box").active=!1,this.alreadyOpenedNode.active=!0,this.node.off(cc.Node.EventType.TOUCH_START,this.showCard,this),this.showAllCard(),this.isNewGuidelines&&this.gameGuidelines.show(11))),this.isDouble&&this.index<this.levelData.giftType.length&&(this.showAllCard(),this.showCard()))},this),this.showNode.addChild(t),t.getComponent(cc.Animation).play()}.bind(this);cc.loader.loadRes(t,cc.SpriteFrame,function(e,t){e||(n=t,a&&a())})}},showAllCard:function(){this.openedView.removeAllChildren();for(var e=0;e<this.cardArr.length;e++){var t=cc.instantiate(this.cardPrefab),i=this.cardArr[e];t.getComponent("CardItem").setItemData(!1,i.type,i.icon,i.name,i.bags),this.openedView.addChild(t)}},playShakeEffect:function(){this.mysticalBox.playAnimation("\u6296\u52a8",0)},playOpenEffect:function(){this.bagsLabel.node.parent.active=!1,this.mysticalBox.on(dragonBones.EventObject.COMPLETE,this.showCard,this),this.node.off(cc.Node.EventType.TOUCH_START,this.playOpenEffect,this),this.node.on(cc.Node.EventType.TOUCH_START,this.showCard,this),this.mysticalBox.playAnimation("\u6253\u5f00",1)},onReceive:function(){cc.audioComponent.play("button");var e=this.cardArr;this.isNewGuidelines&&this.gameGuidelines.hide(12);for(var t=0;t<e.length;t++){var i=e[t];switch(parseInt(i.type)){case 0:r.totalCoins+=parseInt(i.bags);break;case 1:r.totalDiamonds+=parseInt(i.bags);break;case 2:break;case 3:r.setEffectFragment(i.id,i.bags);break;case 4:case 6:case 8:r.setBikeFragment(parseInt(i.type),parseInt(i.bags))}}this.isNewGuidelines||this.isAmusement||(r.setLevelBoxAwards(this.levelData.key),r.saveData()),this.onClose()},onRefreshBox:function(){cc.audioComponent.play("button");var e=function(){this.notNode.active=!0,this.RefreshBtn.getComponent(cc.Animation).stop(),this.RefreshBtn.getComponent(cc.Button).interactable=!1,cc.uiCenter.setState(this.RefreshBtn.getChildByName("bg").getComponent(cc.Sprite),0),cc.uiCenter.setState(this.RefreshBtn.getChildByName("icon_video").getComponent(cc.Sprite),0),this.isNewGuidelines&&this.gameGuidelines.hide(11),this.maxNums=this.levelData.giftType.length,this.isDouble=!0,this.showCard()}.bind(this);this.isNewGuidelines?e():n.default.show("gengduojini",e)},onClose:function(){this.node.emit("onClose"),this.node.destroy()},onEnable:function(){this.isNewGuidelines||c==o.default.toutiao&&"MainScene"==cc.director.getScene().name&&a.default.show("main")},onDisable:function(){c==o.default.toutiao&&"MainScene"==cc.director.getScene().name&&a.default.hide()}}),cc._RF.pop()},{ChanneConfig:void 0,GameDataCenter:"GameDataCenter",banner:void 0,buttonConfig:void 0,share:void 0,statistics:void 0,videoAd:void 0}],NewGuidelinesAward:[function(e,t,i){"use strict";cc._RF.push(t,"97f4dtYTm1MfZJqA1NjkWjn","NewGuidelinesAward");var n=function(e){return e&&e.__esModule?e:{default:e}}(e("statistics"));var a=e("GameDataCenter").getInstance();cc.Class({extends:cc.Component,properties:{getBtn:cc.Node,nextBtn:cc.Node},start:function(){n.default.setSceneEvent("\u4e3b\u754c\u9762","\u70b9\u51fb","\u4e3b\u754c\u9762-\u9886\u53d6\u65b0\u624b\u793c\u5305")},onGet:function(){this.getBtn.active=!1,this.nextBtn.active=!0},onNext:function(){cc.audioComponent.play("button"),a.setNewDaoJuNum(),cc.loading.loadScene("MainScene",{cmd:"mainGuidelines"})}}),cc._RF.pop()},{GameDataCenter:"GameDataCenter",statistics:void 0}],NewGuidelinesTips:[function(e,t,i){"use strict";cc._RF.push(t,"758f9nKcthPbIJMKhAhRf+O","NewGuidelinesTips");a(e("statistics"));var n=a(e("login"));function a(e){return e&&e.__esModule?e:{default:e}}e("GameDataCenter").getInstance();cc.Class({extends:cc.Component,properties:{},start:function(){},goToGame:function(){cc.audioComponent.pauseMusic(),cc.loading.loadScene("GameScene",{level:0,isNewGuidelines:!0,daojuList:["accel","banana","bar"]},!0)},onEnable:function(){this.loginIsShow=n.default.hideLogin()},onDisable:function(){}}),cc._RF.pop()},{GameDataCenter:"GameDataCenter",login:void 0,statistics:void 0}],NpcInteract:[function(e,t,i){"use strict";cc._RF.push(t,"613f5AFGWZAhKNJfBog6a+m","NpcInteract");var n=o(e("recorder")),a=o(e("ChanneConfig"));function o(e){return e&&e.__esModule?e:{default:e}}var s=e("GameDataCenter").getInstance(),r=a.default.channelId;cc.Class({extends:cc.Component,properties:{dialNode:cc.Node,notTouchNode:cc.Node,closeNode:cc.Node,npcGirl:cc.Sprite,blackGirlSprite:cc.SpriteFrame},onLoad:function(){-1==s.rankLevel&&(this.npcGirl.spriteFrame=this.blackGirlSprite),this._customeData=cc.loading.getCustomData(),-1==s.newGuidelinesCount?this.autoShowNpcDial():this.node.active=!1,this.isPlayerClick=!1},start:function(){},onClickNpc:function(){cc.audioComponent.play("button");var e=this.showGameTips(),t=cc.gameConfig.config.npcInteractDial;t.push(e),e=t[Math.floor(Math.random()*t.length)],this.isPlayerClick||(e=cc.gameConfig.gameString.npcHelpTips,this.isPlayerClick=!0),this.isShowNode(!0),this.dialNode.getChildByName("txt").getComponent(cc.Label).string=e},onHideTips:function(){this.isShowNode(!1)},isShowNode:function(e){this.notTouchNode.active=e,this.closeNode.active=e,this.dialNode.active=e},autoShowNpcDial:function(){var e=this.showGameTips();if(!e){var t=cc.gameConfig.config.npcInteractDial;e=t[Math.floor(Math.random()*t.length)]}this.isShowNode(!0),this.dialNode.getChildByName("txt").getComponent(cc.Label).string=e},showGameTips:function(){var e=[];this.isCheckIn()&&e.push(cc.gameConfig.gameString.npcNotCheckInDial),0==s.freeTurnNum&&e.push(cc.gameConfig.gameString.npcNotTurnPlateDial),this.isUpradeBike()&&e.push(cc.gameConfig.gameString.npcNotUpgradeBikeDial),this.isPlayerRankGame()&&s._userGameData.isUnlockRankModeArr[0]&&e.push(cc.gameConfig.gameString.npcNotPlayRankGameDial),this.isRecorderVideo()&&r==a.default.toutiao&&e.push(cc.gameConfig.gameString.npcNotRecorderVideo);var t=this.isAchievement();return t&&e.push(t),r==a.default.toutiao&&n.default.vedioPath?cc.gameConfig.gameString.npcNotShareVideo:e[Math.floor(Math.random()*e.length)]},isCheckIn:function(){return s.getCheckInDays(s.lastCheckinDate)>=1},isUpradeBike:function(){return!s._userGameData.lastUpgradeTime||s.getCheckInDays(s._userGameData.lastUpgradeTime)>=1},isPlayerRankGame:function(){return!s._userGameData.lastPlayRankGameTime||s.getCheckInDays(s._userGameData.lastPlayRankGameTime)>=1},isRecorderVideo:function(){return!s._userGameData.lastRecorderVideoTime||s.getCheckInDays(s._userGameData.lastRecorderVideoTime)>=1},isAchievement:function(){for(var e=cc.gameConfig.achievementData,t=0;t<e.length;t++){var i=s.getTotalStar();if(i<e[t].star&&i+10>=e[t].star)return cc.gameConfig.gameString.npcAchievementTips.replace("X",e[t].star-i)}}}),cc._RF.pop()},{ChanneConfig:void 0,GameDataCenter:"GameDataCenter",recorder:void 0}],OpenPrefab:[function(e,t,i){"use strict";cc._RF.push(t,"ec26awlPZBL+5yr8J9ZcP/1","OpenPrefab"),cc.Class({extends:cc.Component,properties:{prefab:cc.Prefab},start:function(){cc.uiCenter.showUi(this.prefab)}}),cc._RF.pop()},{}],PerspectiveController:[function(e,t,i){"use strict";cc._RF.push(t,"b1232TBaRdJLIOVaOR90R8Z","PerspectiveController");cc.math;var n=!1,a=90;function o(e){this._needDraw=!0,this._degree=e,this.rendering=function(){n=!0,a=this._degree}}function s(){this._needDraw=!0,this.rendering=function(){n=!1,a=90}}function r(e){cc.renderer.pushRenderCommand(this._beforeVisitCmd),_ccsg.Node.prototype.visit.call(this),cc.renderer.pushRenderCommand(this._afterVisitCmd)}function c(e){var t=e.prototype;t.originUploadData||(t.originUploadData=t.uploadData),t.uploadData=function(e,t,i){var o=this.originUploadData(e,t,i);if(n)for(var s,r=i,c=0;c<o;c++)s=e[r+1],e[r+2]=-s/Math.tan(a*Math.PI/180),r+=6;return o}}function h(e,t){this.originTransform(e,t);var i=this._node,n=this._labelCanvas.width,a=this._labelCanvas.height,o=this._worldTransform,s=this._vertices;s[0].x=0*o.a+a*o.c+o.tx,s[0].y=0*o.b+a*o.d+o.ty,s[1].x=0*o.a+0*o.c+o.tx,s[1].y=0*o.b+0*o.d+o.ty,s[2].x=n*o.a+a*o.c+o.tx,s[2].y=n*o.b+a*o.d+o.ty,s[3].x=n*o.a+0*o.c+o.tx,s[3].y=n*o.b+0*o.d+o.ty,i._string&&(i._labelType===_ccsg.Label.Type.TTF||(i._labelType,_ccsg.Label.Type.SystemFont))}function d(){this._spriteFrame&&this._spriteFrame._textureLoaded?(this._originRebuildQuads(),this._renderCmd._needDraw||(this._renderCmd._needDraw=!0)):this._renderCmd._needDraw=!1}var u=cc.Class({extends:cc.Component,editor:{executeInEditMode:!0},statics:{globalInited:!1},properties:{preview:{default:!0,editorOnly:!0,notify:!1,animatable:!1},_angle:90,angle:{get:function(){return this._angle},set:function(e){this._angle=e,this.node._sgNode._beforeVisitCmd._degree=this._angle,cc.engine.repaintInEditMode()},range:[0,90]}},onLoad:function(){u.globalInited||(_ccsg.Label.WebGLRenderCmd.prototype.transform=h,cc.Scale9Sprite.prototype._originRebuildQuads||(cc.Scale9Sprite.prototype._originRebuildQuads=cc.Scale9Sprite.prototype._rebuildQuads),cc.Scale9Sprite.prototype._rebuildQuads=d,c(cc.Scale9Sprite.WebGLRenderCmd),c(_ccsg.Sprite.WebGLRenderCmd),c(_ccsg.Label.WebGLRenderCmd),u.globalInited=!0),this.node._sgNode._beforeVisitCmd=new o(this.angle),this.node._sgNode._afterVisitCmd=new s,this.preview&&this.activate()},activate:function(){this.node._sgNode.visit=r},desactivate:function(){this.node._sgNode.visit=_ccsg.Node.prototype.visit}});t.exports=u,cc._RF.pop()},{}],Portrait:[function(e,t,i){"use strict";cc._RF.push(t,"d669d8VRnFJ/Jv33FoSwif7","Portrait"),cc.Class({extends:cc.Component,properties:{avatarUrl:"",_icon:cc.Sprite},editor:{requireComponent:cc.Sprite},onLoad:function(){this._icon=this.node.getComponent(cc.Sprite)},start:function(){this.avatarUrl&&""!=this.avatarUrl&&this.loadAvatarUrl()},setAvatarUrl:function(e){this.avatarUrl=e,this.loadAvatarUrl()},loadAvatarUrl:function(){try{if(new RegExp("http|https").test(this.avatarUrl)){var e=this.avatarUrl;cc.loader.load({url:e,type:"png"},function(t,i){if(!t){var n=new cc.SpriteFrame(i);this._icon&&e==this.avatarUrl&&(this._icon.spriteFrame=n)}this.isValid&&this.node.emit("loadCompleted",t,i)}.bind(this))}else{e=this.avatarUrl;cc.loader.loadRes(e,cc.SpriteFrame,function(t,i){t||this._icon&&e==this.avatarUrl&&(this._icon.spriteFrame=i),this.isValid&&this.node.emit("loadCompleted",t,i)}.bind(this))}}catch(e){}}}),cc._RF.pop()},{}],PropShop:[function(e,t,i){"use strict";cc._RF.push(t,"1854b928nRIVZA6I3rWhVAW","PropShop");var n=c(e("buttonConfig")),a=c(e("share")),o=c(e("videoAd")),s=(c(e("banner")),c(e("ChanneConfig"))),r=c(e("statistics"));function c(e){return e&&e.__esModule?e:{default:e}}s.default.channelId;var h=e("TabPanel"),d=e("GameDataCenter").getInstance();cc.Class({extends:h,properties:{},showIcon:function(e,t){this._name=t;var i=this.node.getChildByName("show"),n=i.getChildByName("name");i&&(cc.loader.loadRes("prop/"+e+"_big",cc.SpriteFrame,function(e,t){e||i.isValid&&(i.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=t)}),cc.loader.loadRes("prop/txt_"+e,cc.SpriteFrame,function(e,t){e||n.isValid&&(n.getComponent(cc.Sprite).spriteFrame=t)}))},refreshDescription:function(){this.node.getChildByName("msg").getChildByName("txt").getComponent(cc.Label).string=this.daojuJson[this._idx].effects||""},setBuyButtonState:function(){var e=cc.instantiate(this.daojuJson[this._idx]);e.discountCount=d.getPropDiscountCount(this._idx),e.discountCount?e.discountCost=e.cost*parseFloat(e.saleDiscount[e.discountCount-1]):e.discountCost=e.cost;var t=e.discountCount?parseInt(e.discountCost):parseInt(e.cost);this.buyNode.getChildByName("price").getChildByName("layout").getChildByName("price").getComponent(cc.Label).string=t;var i=!e.discountCount||e.discountCount<e.saleDiscount.length;parseFloat(e.saleDiscount[e.discountCount-1]);if(i){var n,a=e.discountCount||0;n=0==a?-1*(100-Math.floor(100*e.saleDiscount[0])):-1*Math.floor(100*parseFloat(e.saleDiscount[a-1])-100*parseFloat(e.saleDiscount[a])),this.setDisCountBtnState(!0,n)}else this.setDisCountBtnState(!1)},onBuy:function(e,t){cc.audioComponent.play("button"),r.default.setSceneEvent("\u8d5b\u8f66\u5546\u57ce\uff08\u9053\u5177\uff09","\u70b9\u51fb","\u5546\u57ce-\u9053\u5177-\u8d2d\u4e70");var i=cc.instantiate(this.daojuJson[this._idx]);i.discountCount=d.getPropDiscountCount(this._idx),i.discountCount?i.discountCost=i.cost*parseFloat(i.saleDiscount[i.discountCount-1]):i.discountCost=i.cost;var n=i.discountCount?parseInt(i.discountCost):parseInt(i.cost);if(d.totalCoins<n)return cc.toast.show(cc.gameConfig.gameString.coins_not_enough,1),void cc.uiCenter.showMoreCoins();d.totalCoins-=Math.floor(i.discountCost),d.setDaoJuNum(0,this.daojuJson[this._idx].id,1),d.saveData(),this.updatePropNums(),cc.toast.show(cc.gameConfig.gameString.prop_buy_success,1),cc.audioComponent.play("coinsChanged")},onDiscount:function(){cc.audioComponent.play("button"),r.default.setSceneEvent("\u8d5b\u8f66\u5546\u57ce\uff08\u9053\u5177\uff09","\u70b9\u51fb","\u5546\u57ce-\u9053\u5177-\u780d\u4ef7");var e=function(){var e=cc.instantiate(this.daojuJson[this._idx]);e.discountCount=d.getPropDiscountCount(this._idx),e.discountCount?e.discountCost=e.cost*parseFloat(e.saleDiscount[e.discountCount-1]):e.discountCost=e.cost;var t=e.discountCount||0,i=Math.floor(parseInt(e.cost)*parseFloat(e.saleDiscount[t]));e.discountCost=i,this.buyNode.getChildByName("price").getChildByName("layout").getChildByName("price").getComponent(cc.Label).string=i,this.discountBtn.getChildByName("discountLabel").getComponent(cc.Label).string="",e.discountCount?e.discountCount++:e.discountCount=1,d.saveData(),e.discountCount==e.saleDiscount.length&&(this.discountBtn.getComponent(cc.Button).interactable=!1);var n=100*parseFloat(e.saleDiscount[t]);cc.toast.show(cc.gameConfig.gameString.discount_success+":"+n+"%",1),cc.audioComponent.play("coinsChanged"),d._userGameData.daojuDiscountArr[this._idx]+=1,d.lastDiscountEveryday=new Date,d.saveData(),this.setBuyButtonState()}.bind(this);"share"==n.default.getState("daoju",0)?a.default.shareToSociety({shareType:1,buttonKey:"daoju"},e):o.default.show("daoju",e)},onLoad:function(){this.daojuJson=cc.gameConfig.daojuData,this._idx=0,this.daojuJson&&this.updatePropDetails(this._idx)},start:function(){cc.log("propshop.js---start---"),this.isControl=!1,this.node.getChildByName("show").on(cc.Node.EventType.TOUCH_MOVE,this.onControlMove,this),this.node.getChildByName("show").on(cc.Node.EventType.TOUCH_END,this.onControlEnd,this),this.node.getChildByName("show").on(cc.Node.EventType.TOUCH_CANCEL,this.onControlEnd,this)},onControlEnd:function(){this.isControl=!1},onControlMove:function(e){this.isControl||(this.isControl=!0,e.touch.getStartLocation().x-e.touch._point.x>0?this.onNext():this.onPrev())},updatePropDetails:function(e){this._idx=e,this.showIcon(this.daojuJson[e].res,this.daojuJson[e].name),this.setChangeButton(e,this.daojuJson.length-1),this.refreshDescription(),this.updatePropNums(),this.setBuyButtonState()},onPrev:function(e){cc.audioComponent.play("button"),this.updatePropDetails(this._idx-1)},onNext:function(e){cc.audioComponent.play("button"),this.updatePropDetails(this._idx+1)},updatePropNums:function(){var e=d.getDaoJuNum(this.daojuJson[this._idx].id);this.node.getChildByName("show").getChildByName("bags").getComponent(cc.Label).string=cc.gameConfig.gameString.nowCount+"\uff1a"+e}}),cc._RF.pop()},{ChanneConfig:void 0,GameDataCenter:"GameDataCenter",TabPanel:"TabPanel",banner:void 0,buttonConfig:void 0,share:void 0,statistics:void 0,videoAd:void 0}],RankGame:[function(e,t,i){"use strict";cc._RF.push(t,"07312+dkOhIRKYTEDUigm5l","RankGame"),Object.defineProperty(i,"__esModule",{value:!0}),i.random=h,i.choice=d;s(e("share")),s(e("buttonConfig")),s(e("videoAd")),s(e("login")),s(e("statistics"));var n=s(e("banner")),a=s(e("athletics")),o=s(e("ChanneConfig"));function s(e){return e&&e.__esModule?e:{default:e}}var r=e("GameDataCenter").getInstance(),c=o.default.channelId;function h(e,t){return Math.floor(Math.random()*(t-e))+e}function d(e){return e[h(0,e.length)]}cc.Class({extends:cc.Component,properties:{roomPanel:cc.Node,mapPanel:cc.Node,rulePanel:cc.Node,notControlNode:cc.Node,playerItem:{default:[],type:cc.Node},mapSprite:{default:[],type:cc.SpriteFrame},ruleItem:{default:[],type:cc.Node},mapButton:cc.Node,myBikeSprite:cc.Sprite,inventoryPrefab:cc.Prefab,upgradePrefab:cc.Prefab,matchButton:cc.Node,inventoryButton:cc.Button,upgradeButton:cc.Button,myRankLevelNode:cc.Node,myItemRankNode:cc.Node,grayStarNode:cc.Node,yellowStarNode:cc.Node,maxStarNode:cc.Node,starNumsNode:cc.Node},onLoad:function(){this.mapIndex=0,this.isOpen=!1,this.showRoom(),this.showIcon(this.myBikeSprite,r.curUseBike),this.showPlayerRankInfo(),this.updatePlayerList(),this.updateRoomMap(),this.matchButton.getComponent(cc.Animation).play()},start:function(){this.isControl=!1,this.mapPanel.getChildByName("show").on(cc.Node.EventType.TOUCH_MOVE,this.onControlMove,this),this.mapPanel.getChildByName("show").on(cc.Node.EventType.TOUCH_END,this.onControlEnd,this),this.mapPanel.getChildByName("show").on(cc.Node.EventType.TOUCH_CANCEL,this.onControlEnd,this)},onControlEnd:function(){this.isControl=!1},onControlMove:function(e){this.isControl||(this.isControl=!0,e.touch.getStartLocation().x-e.touch._point.x>0?this.onPageButtonClick("","1"):this.onPageButtonClick("","-1"))},updatePlayerList:function(){for(var e=0;e<this.playerItem.length;e++){var t=this.playerItem[e];t.getChildByName("title").active=!1,t.getChildByName("info").active=!1,t.getChildByName("btn_ready").active=!1,0!=c&&c!=o.default.toutiao&&12!=c||(t.getChildByName("btn_invitation").active=!1)}},showPlayerRankInfo:function(){var e=r.getRankData();this.showRankIcon(this.myRankLevelNode.getChildByName("icon"),e,1),this.showRankName(this.myRankLevelNode.getChildByName("txt"),e.nameRes,1),this.showRankIcon(this.myItemRankNode.getChildByName("icon"),e,2),this.showRankName(this.myItemRankNode.getChildByName("txt"),e.nameRes,2),this.showRankStar(e.starNum,e.star)},showRankStar:function(e,t){if(100==t||0==t)this.maxStarNode.active=!1,this.starNumsNode.active=!0,this.starNumsNode.getChildByName("num").getComponent(cc.Label).string=e+"";else{this.maxStarNode.active=!0,this.starNumsNode.active=!1;for(var i=0;i<this.grayStarNode.children.length;i++){var n=this.grayStarNode.children[i];i>=t?(n.active=!1,this.grayStarNode.x+=n.width,this.yellowStarNode.x+=n.width):n.active=!0}for(var a=0;a<this.yellowStarNode.children.length;a++){var o=this.yellowStarNode.children[a];o.active=!(a>=e)}}},showIcon:function(e,t){e&&cc.loader.loadRes("bike/bike"+t,cc.SpriteFrame,function(t,i){t||(e.getComponent(cc.Sprite).spriteFrame=i)})},showRoom:function(){this.roomPanel.active=!0,this.mapPanel.active=!1,this.rulePanel.active=!1,this.notControlNode.active=!1},onSelectMap:function(){cc.audioComponent.play("button"),(cc.loading.getCustomData()&&"rankGuidelines"==cc.loading.getCustomData().cmd||!this._customeData&&r.levelNum>4&&-1==r.rankLevel)&&cc.eventCenter.emit("changeGuidelines",12),c==o.default.toutiao&&-1!=r.rankLevel&&n.default.show("paiweisai"),this.roomPanel.active=!1,this.mapPanel.active=!0,this.mapPanel.getChildByName("btn_close").active=!1,this.scheduleOnce(function(){this.mapPanel.getChildByName("btn_close").active=!0},2),this.updateMap()},updateMap:function(){var e=this.mapPanel.getChildByName("show");this.mapIndex>=1?this.loadMapImage(this.mapIndex,e.getChildByName("map").getComponent(cc.Sprite)):e.getChildByName("map").getComponent(cc.Sprite).spriteFrame=this.mapSprite[this.mapIndex];var t=cc.gameConfig.rankMapData[this.mapIndex];e.getChildByName("task").getComponent(cc.Label).string=t.task,e.getChildByName("circle").getComponent(cc.Label).string=parseInt(t.circle)>0?t.circle+"\u5708":t.circle;var i=this.mapPanel.getChildByName("show").getChildByName("btn_left"),n=this.mapPanel.getChildByName("show").getChildByName("btn_right");i.color=n.color=new cc.Color(255,255,255),i.opacity=n.opacity=255,0===this.mapIndex?(i.color=new cc.Color(103,103,103),i.opacity=200):3===this.mapIndex&&(n.color=new cc.Color(103,103,103),n.opacity=200)},loadMapImage:function(e,t){var i="https://minigame.hanchor.cn/qmscs/game/map/bg_map_"+(1==e?1:2==e?5:9)+".png";cc.loader.load(i,function(e,i){var n=new cc.SpriteFrame(i);t.spriteFrame=n}.bind(this))},onMatch:function(){cc.audioComponent.play("button"),this.notControlNode.active=!0,this.matchButton.getComponent(cc.Animation).stop(),(cc.loading.getCustomData()&&"rankGuidelines"==cc.loading.getCustomData().cmd||!this._customeData&&r.levelNum>4&&-1==r.rankLevel)&&(r.saveData(),cc.eventCenter.emit("changeGuidelines",13,!1));for(var e=function(){this.matchButton.getComponent(cc.Button).interactable=!1,cc.uiCenter.setState(this.matchButton.getChildByName("bg").getComponent(cc.Sprite),0),this.match()}.bind(this),t=r.getGameDaoJuList(),i=0,n=0;n<t.length&&(i=r.getDaoJuNum(t[n])>=3);n++);if(i)e();else{cc.toast.show(cc.gameConfig.gameString.daojuInventoryTips,1);var a=cc.instantiate(this.inventoryPrefab);a.on("onClose",e,this),this.node.addChild(a)}},onRule:function(){cc.audioComponent.play("button"),this.rulePanel.active=!0,c==o.default.toutiao&&-1!=r.rankLevel&&n.default.show("paiweisai"),this.showRuleData()},hideRule:function(){cc.audioComponent.play("button"),c==o.default.toutiao&&(this.mapPanel.active||n.default.hide()),this.rulePanel.active=!1},onInventory:function(){cc.audioComponent.play("button");var e=cc.instantiate(this.inventoryPrefab);this.node.addChild(e)},onUpgradebike:function(){cc.audioComponent.play("button");var e=cc.instantiate(this.upgradePrefab);this.node.addChild(e)},setLicenseLevel:function(){var e=r.matchWin>50?2:r.matchWin>20?1:0;this.level=e},match:function(){this.isMatching=!0,this.playerIndex=0;var e=r.getCurBikeAndUpgradeData();e.id=r.curUseBike,this.isAi=!0;for(var t=0,i=[],n=0;n<this.playerItem.length;n++){t+=Math.floor(Math.random()*cc.gameConfig.wcInfoData.length-t);var o={};o.userinfo=cc.gameConfig.wcInfoData[t],o.bike={},o.bike.isAi=!0,o.bike.maxSpeed=e.maxSpeed+5+5*Math.random(),o.bike.minSpeed=e.maxSpeed-5-5*Math.random(),o.bike.accRate=e.accRate-.3*e.accRate+Math.random()*e.accRate*.3,o.bike.id=d([1,4,5]),i.push(o)}a.default.players=i,a.default.licenseLevel=this.level,this.players=i,this.schedule(this.onMatchIng,.5)},onMatchIng:function(){this.playerIndex<this.players.length?this.updatePlayer():(this.unschedule(this.onMatchIng),this.onMatchBack())},updatePlayer:function(){var e=this.players[this.playerIndex].userinfo,t=this.playerItem[this.playerIndex];t.getChildByName("title").active=!0;var i=t.getChildByName("info");i.active=!0,this.showIcon(i.getChildByName("bike"),h(0,10)),i.getChildByName("name").getComponent(cc.Label).string=e.nickName||"";var n=r.rankLevel,a=r.getRankData(),o=n-h(0,a.star);o=o>0?o:0;var s=n+h(0,Math.random()<.7?a.star:2*a.star);s=(s=s<o?s+o/2:s)<0?0:s,console.log("lower",o),console.log("upper",s);var c=i.getChildByName("rank_item").getChildByName("rank"),d=r.getRankData(h(o,s));this.showRankIcon(c.getChildByName("icon"),d,2),this.showRankName(c.getChildByName("txt"),d.nameRes,2),this.playerIndex++},onMatchBack:function(){this.isMatching=!1,c==o.default.toutiao&&-1!=r.rankLevel&&n.default.show("paiweisai"),this.onStartGame()},onStartGame:function(){this._startGame=!0;var e=r.getRankData(),t=r.getTotalLevelCount()-10,i=cc.gameConfig.rankData.length,n=e.id-1,a=h(Math.floor(t/i)*n,Math.floor(t/i)*e.id);console.log("level: "+a);var o=0==this.mapIndex?h(0,3):this.mapIndex-1,s=cc.gameConfig.rankMapData[0==this.mapIndex?o+1:this.mapIndex],c=parseInt(s.circle);console.log("map",c),cc.loading.loadScene("GameScene",{level:a,daojuList:r.getGameDaoJuList(),accelOn:!1,isMatch:!0,tryProps:this.tryProps,launch:this.launch,matchScenery:0,rankMap:o,circle:c},!0)},onPageButtonClick:function(e,t){cc.audioComponent.play("button");var i=this.mapIndex+parseInt(t);i<0||i>=4||(this.mapIndex=i,this.updateMap())},onDefineMap:function(){cc.audioComponent.play("button"),(cc.loading.getCustomData()&&"rankGuidelines"==cc.loading.getCustomData().cmd||!this._customeData&&r.levelNum>4&&-1==r.rankLevel)&&cc.eventCenter.emit("changeGuidelines",13),this.roomPanel.active=!0,this.mapPanel.active=!1,c==o.default.toutiao&&n.default.hide(),this.updateRoomMap()},showRankIcon:function(e,t,i){var n=t.iconRes,a=1==i?t.id>=6?.2:.3:t.id>=6?.15:.2;e.setScale(a),e&&cc.loader.loadRes(n,cc.SpriteFrame,function(t,i){t||(e.getComponent(cc.Sprite).spriteFrame=i)})},showRankName:function(e,t){e&&cc.loader.loadRes(t,cc.SpriteFrame,function(t,i){t||(e.getComponent(cc.Sprite).spriteFrame=i)})},showRuleData:function(){},updateRoomMap:function(){this.mapButton.getChildByName("mask").getChildByName("map").getComponent(cc.Sprite).spriteFrame=this.mapSprite[this.mapIndex];var e=cc.gameConfig.rankMapData[this.mapIndex];this.mapButton.getChildByName("name").active=!1,0==this.mapIndex&&(this.mapButton.getChildByName("name").getComponent(cc.Label).string="["+e.name+"]",this.mapButton.getChildByName("name").active=!0)},onClose:function(){cc.audioComponent.play("button"),this.node.destroy()},onCloseMap:function(){cc.audioComponent.play("button"),c==o.default.toutiao&&n.default.hide(),this.showRoom()},onDisable:function(){c==o.default.toutiao&&(n.default.hide(),this._startGame||window.InterstitialAd.createInterstitialAdByAdId("main"))}}),cc._RF.pop()},{ChanneConfig:void 0,GameDataCenter:"GameDataCenter",athletics:void 0,banner:void 0,buttonConfig:void 0,login:void 0,share:void 0,statistics:void 0,videoAd:void 0}],RankLevel:[function(e,t,i){"use strict";cc._RF.push(t,"de560xYHPpOMK2C78qPNH6X","RankLevel");var n=e("GameDataCenter").getInstance();cc.Class({extends:cc.Component,properties:{myRankLevelNode:cc.Node,maxStarNode:cc.Node,starNumsNode:cc.Node,grayStarNode:cc.Node,yellowStarNode:cc.Node},onLoad:function(){this.setShowNode(),-1==n.rankLevel&&this.setShowNode(!1)},start:function(){this.showPlayerRankInfo(),cc.eventCenter.on("showPlayerRank",this.setShowNode,this)},setShowNode:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.node.getChildByName("rankIcon").active=e,this.node.getChildByName("rankStar").active=e,this.node.getChildByName("btn_question")&&(this.node.getChildByName("btn_question").active=e),this.node.getChildByName("notRank")&&(this.node.getChildByName("notRank").active=!e)},showPlayerRankInfo:function(){var e=n.getRankData();this.showRankIcon(this.myRankLevelNode.getChildByName("icon"),e,1),this.showRankName(this.myRankLevelNode.getChildByName("txt"),e.nameRes,1),this.showRankStar(e.starNum,e.star)},showRankStar:function(e,t){if(100==t||0==t)this.maxStarNode.active=!1,this.starNumsNode.active=!0,this.starNumsNode.getChildByName("num").getComponent(cc.Label).string=e+"";else{this.maxStarNode.active=!0,this.starNumsNode.active=!1;for(var i=0;i<this.grayStarNode.children.length;i++){var n=this.grayStarNode.children[i];i>=t?(n.active=!1,this.grayStarNode.x+=n.width,this.yellowStarNode.x+=n.width):n.active=!0}for(var a=0;a<this.yellowStarNode.children.length;a++){var o=this.yellowStarNode.children[a];o.active=!(a>=e)}}},showRankIcon:function(e,t,i){var n=t.iconRes,a=1==i?t.id>=6?.15:.3:t.id>=6?.12:.2;e.setScale(a),e&&cc.loader.loadRes(n,cc.SpriteFrame,function(t,i){t||(e.getComponent(cc.Sprite).spriteFrame=i)})},showRankName:function(e,t){e&&cc.loader.loadRes(t,cc.SpriteFrame,function(t,i){t||(e.getComponent(cc.Sprite).spriteFrame=i)})}}),cc._RF.pop()},{GameDataCenter:"GameDataCenter"}],RankOverAward:[function(e,t,i){"use strict";cc._RF.push(t,"9e2769P3llMQbBop2+2QIwD","RankOverAward");o(e("buttonConfig"));var n=o(e("share")),a=(o(e("videoAd")),o(e("statistics")),o(e("banner")),o(e("ChanneConfig")));function o(e){return e&&e.__esModule?e:{default:e}}var s=e("GameDataCenter").getInstance();a.default.channelId;cc.Class({extends:cc.Component,properties:{grayStarNode:cc.Node,yellowStarNode:cc.Node,maxStarNode:cc.Node,starNumsNode:cc.Node},onLoad:function(){this.type=0,this.node.getChildByName("btn_close").active=!1,this.scheduleOnce(function(){this.node.getChildByName("btn_close").active=!0},2)},start:function(){0==this.type&&(s.totalDiamonds+=2020,cc.eventCenter.emit("show_diamonds_animation"),cc.toast.show(cc.gameConfig.gameString.gainLabel+"2020"+cc.gameConfig.gameString.diamondLabel,1))},onShare:function(){cc.audioComponent.play("button"),n.default.shareToSociety({shareType:2,buttonKey:"xuanyaoyixia"},this.close.bind(this))},onClose:function(){cc.audioComponent.play("button"),this.close()},close:function(){this.node.destroy()}}),cc._RF.pop()},{ChanneConfig:void 0,GameDataCenter:"GameDataCenter",banner:void 0,buttonConfig:void 0,share:void 0,statistics:void 0,videoAd:void 0}],RankOverTips:[function(e,t,i){"use strict";cc._RF.push(t,"77598iFhRRIaaTDAygE32iZ","RankOverTips");a(e("buttonConfig")),a(e("share")),a(e("videoAd")),a(e("statistics")),a(e("banner"));var n=a(e("ChanneConfig"));function a(e){return e&&e.__esModule?e:{default:e}}var o=e("GameDataCenter").getInstance();n.default.channelId;cc.Class({extends:cc.Component,properties:{grayStarNode:cc.Node,yellowStarNode:cc.Node,maxStarNode:cc.Node,starNumsNode:cc.Node,awardPrerfab:cc.Prefab},onLoad:function(){this.showPlayerRankInfo()},start:function(){},showPlayerRankInfo:function(){var e=o.getRankData(),t=this.node.getChildByName("show");this.showRankIcon(t.getChildByName("icon"),e.iconRes),this.showRankStar(e.starNum,e.star)},showRankStar:function(e,t){if(100==t||0==t)this.maxStarNode.active=!1,this.starNumsNode.active=!0,this.starNumsNode.getChildByName("num").getComponent(cc.Label).string=e+"",this.starNumsNode.getChildByName("add").getComponent(cc.Label).string=this.gameWin?"/1":".1";else{this.maxStarNode.active=!0,this.starNumsNode.active=!1;for(var i=0;i<this.grayStarNode.children.length;i++){var n=this.grayStarNode.children[i];n.active=!(i>=t)}for(var a=0;a<this.yellowStarNode.children.length;a++){var o=this.yellowStarNode.children[a];o.active=!(a>=e)}}},showRankIcon:function(e,t){e&&cc.loader.loadRes(t,cc.SpriteFrame,function(t,i){t||(e.getComponent(cc.Sprite).spriteFrame=i)})},showRankName:function(e,t){e&&cc.loader.loadRes(t,cc.SpriteFrame,function(t,i){t||(e.getComponent(cc.Sprite).spriteFrame=i)})},onKnow:function(){cc.audioComponent.play("button");var e=o.getRankData(),t=cc.gameConfig.rankData[cc.gameConfig.rankData.length-1].id;if(e.id==t){var i=cc.instantiate(this.awardPrerfab);this.node.addChild(i)}this.close()},close:function(){this.node.destroy()}}),cc._RF.pop()},{ChanneConfig:void 0,GameDataCenter:"GameDataCenter",banner:void 0,buttonConfig:void 0,share:void 0,statistics:void 0,videoAd:void 0}],RankRules:[function(e,t,i){"use strict";cc._RF.push(t,"42d7bDEfYJH2p2lOA6jGhrq","RankRules"),cc.Class({extends:cc.Component,properties:{},start:function(){},onClose:function(){cc.audioComponent.play("button"),this.node.destroy()}}),cc._RF.pop()},{}],RankingItem:[function(e,t,i){"use strict";cc._RF.push(t,"5847fDzrWVMVozMJfMAO5Af","RankingItem"),cc.Class({extends:cc.Component,properties:{rankingLabel:cc.Label,nameLabel:cc.Label,timeLabel:cc.Label,avtarSprite:cc.Sprite},start:function(){},setName:function(e){this.nameLabel.string=e.length>=8?e.substr(0,8)+"...":e},setRanking:function(e){this.rankingLabel.string=e+""},setTime:function(e){var t=Math.floor(e/6e3).toString(),i=Math.floor((e-6e3*Math.floor(e/6e3))/100).toString();i.length<2&&(i="0"+i);var n=e.toString().charAt(e.toString().length-2)+e.toString().charAt(e.toString().length-1);n.length<2&&(n="0"+n),this.timeLabel.string=t+":"+i+":"+n},setTimeString:function(e){this.timeLabel.string=e},setAvtar:function(e){try{new RegExp("http|https").test(e)?cc.loader.load({url:e,type:"png"},function(e,t){if(!e){var i=new cc.SpriteFrame(t);this._icon&&(this.avtarSprite.spriteFrame=i)}}.bind(this)):cc.loader.loadRes(e,cc.SpriteFrame,function(e,t){e||this._icon&&(this.avtarSprite.spriteFrame=t)}.bind(this))}catch(e){}}}),cc._RF.pop()},{}],RedPacketItem:[function(e,t,i){"use strict";cc._RF.push(t,"e7924F/23xNpqBTWESUo807","RedPacketItem"),cc.Class({extends:cc.Component,properties:{},init:function(e,t,i,n,a){this.packetType=t,this.velocity=16+6*t,this.parentNode=e,this.originX=i,this.originY=n,this.exchange=Number(a),this.node.setPosition(i,n),this.node.on(cc.Node.EventType.TOUCH_START,this.unpack.bind(this)),this.parentNode.addChild(this.node)},unpack:function(){this.parentNode.emit("unpack",this.exchange),this.remove()},remove:function(){this.node.active=!1,this.node.removeFromParent()},onLoad:function(){},start:function(){},update:function(e){this.node.y-=this.velocity,this.node.y<=-1*this.originY&&this.remove()}}),cc._RF.pop()},{}],RedPacket:[function(e,t,i){"use strict";cc._RF.push(t,"ccac5QfMzRGaricFmYDNU9H","RedPacket");var n=r(e("../sdk/banner")),a=r(e("ChanneConfig")),o=r(e("buttonConfig")),s=r(e("statistics"));function r(e){return e&&e.__esModule?e:{default:e}}var c=e("GameDataCenter").getInstance(),h=a.default.channelId;cc.Class({extends:cc.Component,properties:{redPacketSmall:cc.Prefab,redPacketBig:cc.Prefab,redPacketYuanbao:cc.Prefab,progressbar:cc.ProgressBar,leftTime:cc.Label,timeNode:cc.Node,readyPanel:cc.Node,gamePanel:cc.Node,coinsLabel:cc.Label},init:function(e){this.showBanner=e},getPacketList:function(e){Number(this.redPacketCfg.packetSmallRate);for(var t=Number(this.redPacketCfg.packetBigRate),i=Number(this.redPacketCfg.yuanbaoRate),n=[],a=Math.floor(e*i),o=0;o<a;o++)n.push(l);a=Math.floor((e-a)*t);for(o=0;o<a;o++)n.push(u);a=e-a;for(o=0;o<a;o++)n.push(d);return n.sort(function(e,t){return Math.random()>.5?-1:1}),n},random:function(e,t){return Math.floor(Math.random()*(t-e))+e},fall:function(){var e=Number(this.redPacketCfg.interval),t=Number(this.redPacketCfg.times),i=Number(this.redPacketCfg.showNum),n=Math.floor(1e3/e)*i*t,a=Math.ceil(1e3/e)*i*t,o=this.random(n,a);this.packetList=this.getPacketList(o);var s=this.times,r=[-400,-342,-256,-219,-176,-103,-47,10,76,154,221,286,365];this.timer1=setInterval(function(){if(0!=this.packetList.length)for(var e=this.random(1,Math.min(this.packetList.length,i)),t=0;t<e;t++){var n,a,o=this.packetList.shift(),s=this.choice(r);switch(o){case l:(a=cc.instantiate(this.redPacketYuanbao)).setScale(.8),n=f,a.getComponent("RedPacketItem").init(this.node,l,s,n,this.redPacketCfg.yuanbaoExchange);break;case u:a=cc.instantiate(this.redPacketBig),n=p,a.setScale(.6),a.getComponent("RedPacketItem").init(this.node,u,s,n,this.redPacketCfg.packetBigExchange);break;case d:(a=cc.instantiate(this.redPacketSmall)).setScale(.8),n=m,a.getComponent("RedPacketItem").init(this.node,d,s,n,this.redPacketCfg.packetSmallExchange)}}else clearInterval(this.timer1)}.bind(this),e),this.timer2=setInterval(function(){if(s--,this.leftTime.string=s.toString(),this.progressbar.progress=1-(this.times-s)/this.times,0==s)return clearInterval(this.timer2),clearInterval(this.timer1),this.node.emit("onClose",0!=this.coins,this.coins),this.node.active=!1,void this.node.destroy()}.bind(this),1e3)},timeCallback:function(){this.readyPanel.active=!1,this.initGame(),this.gamePanel.active=!0},initGame:function(){this.times=Number(this.redPacketCfg.times),this.leftTime.string=this.times.toString(),this.progressbar.progress=1,setTimeout(this.fall.bind(this),300)},choice:function(e){return e[this.random(0,e.length)]},setCoins:function(e){this.coins+=e,this.coinsLabel.string=this.coins+"",e>100?cc.audioGame.playCoin(1):cc.audioGame.playCoin(0),console.log("==coins==",this.coins)},onLoad:function(){this.redPacketCfg=this.choice(cc.gameConfig.redPacketData),this.readyPanel.active=!0,this.gamePanel.active=!1,this.node.on("unpack",this.setCoins.bind(this)),this.coins=0,this.coinsLabel.string="0"},start:function(){this.animation=this.timeNode.getComponent(cc.Animation),this.animation.on("finished",this.timeCallback,this),this.animation.play("time"),s.default.setSceneEvent("\u751f\u6daf\u6311\u6218\u6e38\u620f\u7ed3\u7b97\u7ea2\u5305\u96e8","\u9886\u70b9\u51fb","\u751f\u6daf\u6311\u6218-\u7ea2\u5305\u96e8-\u70b9\u51fb\u5143\u5b9d")},update:function(e){},onEnable:function(){if(10==h){if(!this.showBanner)return n.default.hide();var e=Number(cc.gameConfig.config.redPacketBannerActivityInterval);c.onlineTimes>=e&&o.default.isSceneOpen("hongbaoyubanner")?n.default.show("top"):n.default.hide()}else n.default.show("top")},onDisable:function(){n.default.show("game")}});var d=0,u=1,l=2,f=1280,p=880,m=480;cc._RF.pop()},{"../sdk/banner":void 0,ChanneConfig:void 0,GameDataCenter:"GameDataCenter",buttonConfig:void 0,statistics:void 0}],SharePage:[function(e,t,i){"use strict";cc._RF.push(t,"05077EWeOBKFq0EgakogqDA","SharePage");var n=a(e("ChanneConfig"));a(e("recorder"));function a(e){return e&&e.__esModule?e:{default:e}}e("GameDataCenter").getInstance(),n.default.channelId;cc.Class({extends:cc.Component,properties:{},start:function(){},onShare:function(){}}),cc._RF.pop()},{ChanneConfig:void 0,GameDataCenter:"GameDataCenter",recorder:void 0}],ShopScene:[function(e,t,i){"use strict";cc._RF.push(t,"6074auxA5JK0o88BxaPqpca","ShopScene");var n=o(e("banner")),a=(o(e("statistics")),o(e("ChanneConfig")));o(e("buttonConfig")),o(e("share"));function o(e){return e&&e.__esModule?e:{default:e}}var s=e("GameDataCenter").getInstance(),r=a.default.channelId,c=e("TabPanel");cc.Class({extends:c,properties:{titleSprite:{default:[],type:cc.SpriteFrame},titleNode:cc.Node},onBack:function(){cc.audioComponent.play("button"),this.node.emit("buttonTips"),this.onClose()},onClose:function(){this.node.destroy()},goToGame:function(){this.node.emit("onClose"),this.onClose()},onLoad:function(){this.setActivePanel(0)},start:function(){var e=this.node.getChildByName("bikePanel"),t=this.node.getChildByName("effectsPanel");e.on("GoToGame",this.goToGame,this),t.on("GoToGame",this.goToGame,this)},onSetShopPanel:function(e,t){cc.audioComponent.play("button"),t=parseInt(t),this.titleNode.getComponent(cc.Sprite).spriteFrame=this.titleSprite[t],this.setActivePanel(t)},onEnable:function(){-1==s.newGuidelinesCount&&r==a.default.toutiao&&n.default.show("main")},onDisable:function(){r==a.default.toutiao&&(n.default.hide(),-1==s.newGuidelinesCount&&window.InterstitialAd.createInterstitialAdByAdId("main"))}}),cc._RF.pop()},{ChanneConfig:void 0,GameDataCenter:"GameDataCenter",TabPanel:"TabPanel",banner:void 0,buttonConfig:void 0,share:void 0,statistics:void 0}],Shop:[function(e,t,i){"use strict";cc._RF.push(t,"309064h/7lMAbyPE6F3GPaa","Shop");var n=e("GameDataCenter").getInstance();cc.Class({extends:cc.Component,properties:{},start:function(){},onClose:function(){this.node.removeFromParent()},onShop:function(){cc.modal.show({title:cc.gameConfig.gameString.title,content:cc.gameConfig.gameString.content,stringOK:cc.gameConfig.gameString.confirm,callbackOK:function(){n.gold=n.gold+10,cc.eventCenter.emit("gold",n.gold),cc.toast.show("\u8d2d\u4e70\u6210\u529f")},stringCancel:cc.gameConfig.gameString.cancel,callbackCancel:function(){cc.toast.show("\u53d6\u6d88\u8fd4\u56de")}})}}),cc._RF.pop()},{GameDataCenter:"GameDataCenter"}],SpecialEffectShop:[function(e,t,i){"use strict";cc._RF.push(t,"081c8RZ5AtEd6XWUv9VAm7p","SpecialEffectShop");var n=c(e("buttonConfig")),a=c(e("share")),o=c(e("videoAd")),s=c(e("statistics")),r=(c(e("banner")),c(e("ChanneConfig")));function c(e){return e&&e.__esModule?e:{default:e}}var h=e("TabPanel"),d=e("GameDataCenter").getInstance();r.default.channelId;cc.Class({extends:h,properties:{composeNode:cc.Node,gainPrefab:cc.Prefab,fragmentNode:cc.Node,cardPrefab:cc.Prefab},showIcon:function(e){var t=this.node.getChildByName("show");t&&cc.loader.loadRes(e,cc.SpriteFrame,function(e,i){e||t.isValid&&(t.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=i)})},showEffect:function(e){var t=this.node.getChildByName("show");t.getChildByName("equipment").active=this.effectJson[this._idx].id==d.curUseEffect,t.getChildByName("not_sale").active=!d._userGameData.getEffectList[this._idx]&&2==this.effectJson[this._idx].condition;t&&cc.loader.loadRes(e,sp.SkeletonData,function(e,i){if(!e){var n=t.getChildByName("k002").getComponent(sp.Skeleton);n.skeletonData=i,n.animation="await1"}})},showIconName:function(e){var t=this;cc.loader.loadRes(e,cc.SpriteFrame,function(e,i){e||(t.node.getChildByName("show").getChildByName("name").getComponent(cc.Sprite).spriteFrame=i)})},setBuyButtonState:function(){this.discountBtn.getComponent(cc.Button).interactable=!1;var e=cc.instantiate(this.effectJson[this._idx]);if(e.discountCount=d.getEffectDiscountCount(this._idx),e.discountCount?e.discountCost=e.cost*parseFloat(e.saleDiscount[e.discountCount-1]):e.discountCost=e.cost,0==d._userGameData.getEffectList[this._idx]){e.discountCount?parseInt(e.discountCost):parseInt(e.cost);var t=!e.discountCount||e.discountCount<e.saleDiscount.length;parseFloat(e.saleDiscount[e.discountCount-1]);if(t){var i,n=e.discountCount||0;(i=0==n?-1*(100-Math.floor(100*e.saleDiscount[0])):-1*Math.floor(100*parseFloat(e.saleDiscount[n-1])-100*parseFloat(e.saleDiscount[n])))<0?this.setDisCountBtnState(!0,i):this.setDisCountBtnState(!1)}else this.setDisCountBtnState(!1)}else this.setDisCountBtnState(!1),this.setBuyBtnState(!1)},onBuy:function(e,t){cc.audioComponent.play("button"),s.default.setSceneEvent("\u8d5b\u8f66\u5546\u57ce\uff08\u9053\u5177\uff09","\u70b9\u51fb","\u5546\u57ce-\u9053\u5177-\u8d2d\u4e70");var i=cc.instantiate(this.effectJson[this._idx]);i.discountCount=d.getEffectDiscountCount(this._idx),i.discountCount?i.discountCost=i.cost*parseFloat(i.saleDiscount[i.discountCount-1]):i.discountCost=i.cost;var n=i.discountCount?parseInt(i.discountCost):parseInt(i.cost);d.totalDiamonds<n?cc.toast.show("\u94bb\u77f3\u4e0d\u8db3",1):(d.totalDiamonds-=Math.floor(i.discountCost),d._userGameData.getEffectList[this._idx]=1,this.onEquipment(),d.saveData(),this.showGainModel(),cc.toast.show(cc.gameConfig.gameString.prop_buy_success,1),cc.audioComponent.play("coinsChanged"))},onDiscount:function(){cc.audioComponent.play("button"),s.default.setSceneEvent("\u8d5b\u8f66\u5546\u57ce\uff08\u9053\u5177\uff09","\u70b9\u51fb","\u5546\u57ce-\u9053\u5177-\u780d\u4ef7");var e=function(){var e=cc.instantiate(this.effectJson[this._idx]);e.discountCount=d.getEffectDiscountCount(this._idx),e.discountCount?e.discountCost=e.cost*parseFloat(e.saleDiscount[e.discountCount-1]):e.discountCost=e.cost;var t=e.discountCount||0,i=Math.floor(parseInt(e.cost)*parseFloat(e.saleDiscount[t]));e.discountCost=i,this.buyNode.getChildByName("price").getChildByName("layout").getChildByName("price").getComponent(cc.Label).string=i,this.discountBtn.getChildByName("discountLabel").getComponent(cc.Label).string="",e.discountCount?e.discountCount++:e.discountCount=1,d.saveData(),e.discountCount==e.saleDiscount.length&&(this.discountBtn.getComponent(cc.Button).interactable=!1);var n=100*parseFloat(e.saleDiscount[t]);cc.toast.show(cc.gameConfig.gameString.discount_success+":"+n+"%",1),cc.audioComponent.play("coinsChanged"),d._userGameData.effectDiscountArr[this._idx]+=1,d.lastDiscountEveryday=new Date,d.saveData(),this.setBuyButtonState()}.bind(this);"share"==n.default.getState("daoju",0)?a.default.shareToSociety({shareType:1,buttonKey:"daoju"},e):o.default.show("daoju",e)},goToGame:function(){this.node.emit("GoToGame")},onComposeCard:function(){cc.audioComponent.play("button"),d.userGameData.getEffectList[this._idx]=!0;for(var e=this.effectJson[this._idx].cost,t=new cc.NodePool,i=[],n=this.fragmentNode.parent.convertToWorldSpaceAR(this.fragmentNode.position),a=this.composeNode.convertToNodeSpaceAR(n),o=this.fragmentNode.getChildByName("icon").getComponent(cc.Sprite).spriteFrame,s=0;s<e;++s){var r=cc.instantiate(this.cardPrefab);t.put(r)}this.composeNode.active=!0;var c,h=cc.instantiate(this.cardPrefab),u=cc.callFunc(function(){h.setScale(.3,.3),h.setPosition(a),h.getComponent("CardItem").setComposeCard(o),c=h.getComponent("CardItem").lightNode}),l=cc.spawn(cc.scaleTo(.5,1.2,1.2),cc.moveTo(.5,0,0)),f=cc.callFunc(function(){c.opacity=255,c.runAction(cc.fadeOut(.3))},this),p=cc.callFunc(function(){for(var n=this,s=0;s<e;s++){var r=null;(r=t.size()>0?t.get():cc.instantiate(this.cardPrefab)).setScale(.3),r.setPosition(a),r.getComponent("CardItem").setComposeCard(o),this.composeNode.addChild(r),i.push(r)}i.forEach(function(i,a){i.runAction(cc.sequence(cc.delayTime(.1*a),cc.spawn(cc.moveTo(.5,h.position),cc.scaleTo(.5,1.2,1.2)),f,cc.callFunc(function(){t.put(i),console.log(t.size()),t.size()>=e&&n.scheduleOnce(function(){h.getComponent(cc.Animation).play("composeCard"),h.getComponent(cc.Animation).on("finished",this.showGainModel,this)},1)})))})},this),m=cc.sequence(u,l,p);h.setPosition(cc.v2(0,-h.height)),this.composeNode.addChild(h),h.runAction(m)},onShowCard:function(){cc.audioComponent.play("button");var e,t=this.fragmentNode.parent.convertToWorldSpaceAR(this.fragmentNode.position),i=this.composeNode.convertToNodeSpaceAR(t),n=this.fragmentNode.getChildByName("icon").getComponent(cc.Sprite).spriteFrame;this.composeNode.active=!0,this.showCardNode=cc.instantiate(this.cardPrefab);var a=cc.callFunc(function(){this.showCardNode.setScale(.3,.3),this.showCardNode.setPosition(i),this.showCardNode.getComponent("CardItem").setComposeCard(n),e=this.showCardNode.getComponent("CardItem").lightNode},this),o=cc.spawn(cc.scaleTo(.5,1.2,1.2),cc.moveTo(.5,0,0)),s=cc.callFunc(function(){e.runAction(cc.sequence(cc.fadeIn(.3),cc.callFunc(function(){e.getComponent(cc.Animation).play(),this.isShowCar=!1},this)))},this),r=cc.sequence(a,o,s);this.composeNode.addChild(this.showCardNode),this.showCardNode.runAction(r)},onCloseCard:function(){if(!this.isShowCar){cc.audioComponent.play("button");var e=this.fragmentNode.parent.convertToWorldSpaceAR(this.fragmentNode.position),t=this.composeNode.convertToNodeSpaceAR(e),i=this.showCardNode.getComponent("CardItem").lightNode,n=cc.spawn(cc.scaleTo(.5,.3,.3),cc.moveTo(.5,t)),a=cc.fadeOut(.3),o=cc.callFunc(function(){this.isShowCar=!0,i.runAction(cc.fadeOut(.3))},this),s=cc.callFunc(function(){this.composeNode.removeAllChildren(),this.composeNode.active=!1,this.showCardNode=null},this),r=cc.sequence(o,n,a,s);this.showCardNode.runAction(r)}},showGainModel:function(){this.composeNode.active=!1,d._userGameData.getEffectList[1]=!0;var e=cc.instantiate(this.gainPrefab),t=this._idx,i={moto:this.effectJson[t].motoRes,effect:this.effectJson[t].effectRes,name:this.effectJson[t].res};e.getComponent("gainModel").setData(2,i,this._idx,-1),e.on("onMap",this.goToGame,this),this.node.parent.addChild(e),this.updateEffectDtails(this._idx),this.setButtonTips()},onEquipment:function(){d.curUseEffect=this.effectJson[this._idx].id,this.updateEffectDtails(this._idx)},onLoad:function(){this.effectJson=cc.gameConfig.effectData,this._idx=0,this.composeNode.acitve=!1},start:function(){this.updateEffectDtails(this._idx),this.isControl=!1,this.node.getChildByName("show").on(cc.Node.EventType.TOUCH_MOVE,this.onControlMove,this),this.node.getChildByName("show").on(cc.Node.EventType.TOUCH_END,this.onControlEnd,this),this.node.getChildByName("show").on(cc.Node.EventType.TOUCH_CANCEL,this.onControlEnd,this)},onControlEnd:function(){this.isControl=!1},onControlMove:function(e){this.isControl||(this.isControl=!0,e.touch.getStartLocation().x-e.touch._point.x>0?this.onNext():this.onPrev())},updateEffectDtails:function(e){this._idx=e,this.showIcon(this.effectJson[e].motoRes),this.showEffect(this.effectJson[e].effectRes),this.showIconName(this.effectJson[e].res),this.setChangeButton(e,this.effectJson.length-1),this.setBottomButton(2,this.effectJson[e].condition,d._userGameData.getEffectList[e],this.effectJson[e].cost,d._userGameData.effectCardArr[e],this.effectJson[e].id),this.setBuyButtonState()},onPrev:function(e){cc.audioComponent.play("button"),0!=this._idx&&this.updateEffectDtails(this._idx-1)},onNext:function(e){cc.audioComponent.play("button"),this._idx!=this.effectJson.length-1&&this.updateEffectDtails(this._idx+1)}}),cc._RF.pop()},{ChanneConfig:void 0,GameDataCenter:"GameDataCenter",TabPanel:"TabPanel",banner:void 0,buttonConfig:void 0,share:void 0,statistics:void 0,videoAd:void 0}],Star:[function(e,t,i){"use strict";cc._RF.push(t,"b28cag22cRG16eoG57Ch+Rz","Star"),cc.Class({extends:cc.Component,properties:{starMask:cc.Node},start:function(){},setStar:function(e){this.starMask.width=24*e}}),cc._RF.pop()},{}],TabPanel:[function(e,t,i){"use strict";cc._RF.push(t,"337e3MmdgdHgbUTkgroxml8","TabPanel");var n=e("GameDataCenter").getInstance();cc.Class({extends:cc.Component,properties:{panelArr:{default:[],type:[cc.Node]},tabBtn:{default:[],type:[cc.Node]},prevBtn:cc.Node,nextBtn:cc.Node,buyNode:cc.Node,collectNode:cc.Node,buyBtn:cc.Node,discountBtn:cc.Node,collectBtn:cc.Node,composeBtn:cc.Node,equipmentBtn:cc.Node,bullionSprite:cc.SpriteFrame,diamondSprite:cc.SpriteFrame},setActivePanel:function(e){this._panel=this.panelArr[e],this.setTabButton(parseInt(e));for(var t=0;t<this.panelArr.length;t++)this.panelArr[t].active=t==e},showIcon:function(e,t,i){void 0==i&&(i=e),this._name=e,this._idx=t,this._path=i;var n=this._panel.getChildByName("show"),a=this;n&&cc.loader.loadRes(i,cc.SpriteAtlas,function(i,o){if(!i&&n.isValid){n.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=o.getSpriteFrame(e+(t+1));var s=0;for(var r in o._spriteFrames)s++;a._totalIconCount=s;var c=n.getChildByName("prevBut"),h=n.getChildByName("nextBut");a.toggleShowButton(c,h,a._idx,a._totalIconCount),a.refreshDescription(a._idx),a.updateShopList()}})},toggleShowButton:function(e,t,i,n){e.getComponent(cc.Button).enabled=t.getComponent(cc.Button).enabled=!0,e.color=t.color=new cc.Color(255,255,255),e.opacity=t.opacity=255,e.getComponent(cc.Animation).play("focus"),t.getComponent(cc.Animation).play("focus"),0==i&&(e.getComponent(cc.Button).enabled=!1,e.color=new cc.Color(103,103,103),e.opacity=200,e.getComponent(cc.Animation).stop("focus")),i==n-1&&(t.getComponent(cc.Button).enabled=!1,t.color=new cc.Color(103,103,103),t.opacity=200,t.getComponent(cc.Animation).stop("focus"))},getBikeUpgradeData:function(e,t,i,a){for(var o=function(e){return e.reduce(function(e,t){return Number(e)+Number(t)})},s=0,r=0,c=[],h=0,d=0;d<cc.gameConfig.bikeData.length;d++){var u=cc.gameConfig.bikeData[d],l=Number(u[t])+o(u[i]);s=Math.max(l,s),u.id==e&&(r=Number(u[t]),c=u[i],h=l)}var f=n.getBikeUpgrade(e-1),p=r+n.getUpgradeData(c,f[a]),m=0==s?0:Number(h/s),g=0==h?0:Number(p/h);return{id:e,curVal:p.toFixed(2),curMaxVal:h.toFixed(2),maxVal:s.toFixed(2),totalPercent:m.toFixed(2),currentPercent:g.toFixed(2)}},refreshDescription:function(e){},updateShopList:function(){},setBuyButtonState:function(){var e=n.totalCoins||0;this._shopItem&&(e<this._shopItem[this._selectedItemId].cost?this.buyBtn.getComponent(cc.Button).interactable=!1:this.buyBtn.getComponent(cc.Button).interactable=!0)},onShowPanel:function(e,t){if(cc.audioComponent.play("button"),this.panelArr){for(var i=0;i<this.panelArr.length;i++)this.panelArr[i].active=!1;this.panelArr[parseInt(t)].active=!0}},setTabButton:function(e){if(this.setButtonTips(),this.tabBtn){for(var t=0;t<this.tabBtn.length;t++)this.tabBtn[t].getChildByName("off").active=!0,this.tabBtn[t].getChildByName("on").active=!1,this.tabBtn[t].zIndex=1;this.tabBtn[e].getChildByName("off").active=!1,this.tabBtn[e].getChildByName("on").active=!0,this.tabBtn[e].zIndex=2}},setButtonTips:function(){for(var e=0;e<this.tabBtn.length;e++)if(this.tabBtn[e].getChildByName("off").active=!0,this.tabBtn[e].getChildByName("on").active=!1,this.tabBtn[e].zIndex=1,0==e){for(var t=!1,i=n.getBikeDataSort(e),a=0;a<n.getTotalBikeCount();a++){if((i=n.getBikeDataSort(a)).buyed||2!=i.gainType||(t=i.fragment>=i.cost),t)break}this.tabBtn[e].getChildByName("tips").active=t}else if(2==e){var o,s=cc.gameConfig.effectData;o=!n._userGameData.getEffectList[1]&&n._userGameData.effectCardArr[1]>=s[1].cost,this.tabBtn[e].getChildByName("tips").active=o}},setChangeButton:function(e,t){this.prevBtn.color=this.nextBtn.color=new cc.Color(255,255,255),this.prevBtn.opacity=this.nextBtn.opacity=255,this.prevBtn.getComponent(cc.Button).interactable=this.nextBtn.getComponent(cc.Button).interactable=!0,e<=0&&(this.prevBtn.getComponent(cc.Button).interactable=!1,this.prevBtn.color=new cc.Color(103,103,103),this.prevBtn.opacity=200),e>=t&&(this.nextBtn.getComponent(cc.Button).interactable=!1,this.nextBtn.color=new cc.Color(103,103,103),this.nextBtn.opacity=200)},setBottomButton:function(e,t,i,a,o,s){if(2==e&&this.equipmentBtn&&(this.equipmentBtn.active=!1),2==t){this.collectNode.active=!0,this.buyNode.active=!1;var r=this.collectNode.getChildByName("fragment");if(i)2==e?(this.collectNode.active=!1,this.equipmentBtn.active=!0,n.curUseEffect==s&&(this.equipmentBtn.getComponent(cc.Button).interactable=n.curUseEffect==s?0:1,cc.uiCenter.setState(this.equipmentBtn.getChildByName("bg").getComponent(cc.Sprite),n.curUseEffect==s?0:1))):(this.collectBtn.active=!1,this.composeBtn.getComponent(cc.Button).interactable=!1,cc.uiCenter.setState(this.composeBtn.getChildByName("bg").getComponent(cc.Sprite),0),r.active=!1,this.collectNode.getChildByName("tips").active=!1);else{if(r.active=!0,o<a){this.collectBtn.active=!0,this.collectBtn.getComponent(cc.Animation).play(),this.collectBtn.getComponent(cc.Button).interactable=!0,this.composeBtn.active=!1,r.getChildByName("icon").stopAllActions(),r.getChildByName("icon").angle=0,r.getChildByName("light").active=!1,this.collectNode.getChildByName("tips").active=!0,r.getChildByName("count").getComponent(cc.Label).string="("+o+"/"+a+")";var c=0==e?"\u8d5b\u8f66":"\u7279\u6548";this.collectNode.getChildByName("tips").getComponent(cc.Label).string="\u96c6\u9f50"+a+"\u5f20\u5361\u724c\u6fc0\u6d3b"+c}else this.collectBtn.active=!1,this.composeBtn.active=!0,this.composeBtn.getComponent(cc.Button).interactable=!0,cc.uiCenter.setState(this.composeBtn.getChildByName("bg").getComponent(cc.Sprite),1),r.getChildByName("light").active=!0,r.getChildByName("count").getComponent(cc.Label).string="("+o+"/"+a+")",this.collectNode.getChildByName("tips").active=!1,r.getChildByName("icon").runAction(cc.repeatForever(cc.sequence(cc.rotateTo(.2,45).easing(cc.easeBackOut()),cc.rotateTo(.1,0),cc.rotateTo(.2,-45).easing(cc.easeBackOut()),cc.rotateTo(.1,0),cc.delayTime(.5)),10));if(0==e){var h="award/card_"+s;cc.loader.loadRes(h,cc.SpriteFrame,function(e,t){e||(r.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=t)})}else{h="award/card_1";cc.loader.loadRes(h,cc.SpriteFrame,function(e,t){e||(r.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=t)})}}}else this.buyNode.active=!0,this.collectNode.active=!1,i||3==t?2==e?(this.buyNode.active=!1,this.equipmentBtn.active=!0,this.equipmentBtn.getComponent(cc.Button).interactable=n.curUseEffect==s?0:1,cc.uiCenter.setState(this.equipmentBtn.getChildByName("bg").getComponent(cc.Sprite),n.curUseEffect==s?0:1)):i?this.buyNode.active=!1:(this.setBuyBtnState(!1),this.setDisCountBtnState(!1)):(this.setBuyBtnState(!0,t,a),this.setDisCountBtnState(!1))},setBuyBtnState:function(e,t,i){e?(this.buyBtn.getComponent(cc.Button).interactable=!0,this.buyNode.getChildByName("price").active=!0,this.buyNode.getChildByName("price").getChildByName("layout").getChildByName("icon").getComponent(cc.Sprite).spriteFrame=1==t?this.diamondSprite:this.bullionSprite,this.buyNode.getChildByName("price").getChildByName("layout").getChildByName("price").getComponent(cc.Label).string=i+"",cc.uiCenter.setState(this.buyBtn.getChildByName("bg").getComponent(cc.Sprite),1)):(this.buyBtn.getComponent(cc.Button).interactable=!1,this.buyNode.getChildByName("price").active=!1,cc.uiCenter.setState(this.buyBtn.getChildByName("bg").getComponent(cc.Sprite),0))},setDisCountBtnState:function(e,t){e?(this.discountBtn.getComponent(cc.Animation).play(),this.discountBtn.getComponent(cc.Button).interactable=!0,this.discountBtn.getChildByName("discountLabel").getComponent(cc.Label).string=t+"%",cc.uiCenter.setState(this.discountBtn.getChildByName("bg").getComponent(cc.Sprite),1),cc.uiCenter.setState(this.discountBtn.getChildByName("icon_video").getComponent(cc.Sprite),1)):(this.discountBtn.getComponent(cc.Animation).stop(),this.discountBtn.getChildByName("discountLabel").getComponent(cc.Label).string="0%",this.discountBtn.getComponent(cc.Button).interactable=!1,cc.uiCenter.setState(this.discountBtn.getChildByName("bg").getComponent(cc.Sprite),0),cc.uiCenter.setState(this.discountBtn.getChildByName("icon_video").getComponent(cc.Sprite),0))},onPrev:function(e){cc.audioComponent.play("button"),this.showIcon(this._name,this._idx-1,this._path)},onNext:function(e){cc.audioComponent.play("button"),this.showIcon(this._name,this._idx+1,this._path)},onItemSelected:function(e,t){cc.audioComponent.play("button"),this._selectedItemId=parseInt(t);var i=this._panel.getChildByName("items");if(i){var n=i.getChildByName("view").getChildByName("content").children;if(n)for(var a=0;a<n.length;a++){n[a].getChildByName("selected").active=a==this._selectedItemId;var o=(!this._shopItem||!this._shopItem[a].buyed)&&!(a==this._selectedItemId);n[a].getChildByName("mask").active=o;var s=this._panel.getChildByName("show"),r=this;s&&cc.loader.loadRes(this._path,cc.SpriteAtlas,function(e,t){e||s.isValid&&(s.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=t.getSpriteFrame(r._name+(r._selectedItemId+1)),r._idx=r._selectedItemId,r.refreshDescription(r._idx))}),this.setBuyButtonState()}}},onBuy:function(e){},onLoad:function(){cc.log("onload from tab"),this._panel=this.panelArr[0]},start:function(){cc.log("tab")}}),cc._RF.pop()},{GameDataCenter:"GameDataCenter"}],TestBike:[function(e,t,i){"use strict";cc._RF.push(t,"5b056ccgNNFj5iB1mbojgtl","TestBike");var n=c(e("buttonConfig")),a=c(e("share")),o=c(e("videoAd")),s=c(e("statistics")),r=c(e("banner"));function c(e){return e&&e.__esModule?e:{default:e}}var h=e("GameDataCenter").getInstance(),d=e("Star");cc.Class({extends:cc.Component,properties:{icon:cc.Sprite,noThanksBtn:cc.RichText,getBtn:cc.Button,getBtnVideo:cc.SpriteFrame,stats:{type:d,default:[]},winRateLabel:cc.Label},onLoad:function(){},setData:function(e){this.id=e},setOpenType:function(e){this.openType=e},setGoToShop:function(e){this.isGoToShop=e},start:function(){var e=this;this.res="bike"+this.id,cc.loader.loadRes(this.res,cc.SpriteFrame,function(e,t){this.icon.spriteFrame=t}.bind(this)),this.scheduleOnce(function(){e.noThanksBtn.node.active=!0},2),"share"!=n.default.getState("haocheshijia",0)&&(this.getBtn.node.getComponent(cc.Sprite).spriteFrame=this.getBtnVideo);var t=cc.gameConfig.bikeData[this.id],i=t.winRate;i=i.replace("%",","),this.winRateLabel.string=i;for(var a=0;a<this.stats.length;a++)a<t.star/2?(this.stats[a].setStar(t.star/2-a),this.stats[a].node.active=!0):this.stats[a].node.active=!1},onStartGame:function(){s.default.setSceneEvent("\u514d\u8d39\u8c6a\u8f66\u8bd5\u9a7e","\u70b9\u51fb","\u514d\u8d39\u8c6a\u8f66\u8bd5\u9a7e-\u8bd5\u9a7e"),"share"==n.default.getState("haocheshijia",0)?a.default.shareToSociety({shareType:1,buttonKey:"haocheshijia"},this.startGame.bind(this)):o.default.show("haocheshijia",this.startGame.bind(this))},startGame:function(){n.default.getState("haocheshijia",1);var e=cc.loading.getCustomData().level;h.setTestBikeData(e),h.saveData(),cc.eventCenter.emit("testBike",this.id),this.node.active=!1,this.node.emit("onClose",!0),this.node.destroy()},onClose:function(){this.node.active=!1,this.node.emit("onClose"),this.node.destroy()},onDestroy:function(){},onEnable:function(){this.scheduleOnce(function(){r.default.show("main")},.1)},onDisable:function(){r.default.hide()}}),cc._RF.pop()},{GameDataCenter:"GameDataCenter",Star:"Star",banner:void 0,buttonConfig:void 0,share:void 0,statistics:void 0,videoAd:void 0}],TestScene:[function(e,t,i){"use strict";cc._RF.push(t,"f641fG5A5xMnqp6pS4CXM+g","TestScene"),cc.Class({extends:cc.Component,properties:{scoreRanking:cc.Prefab},start:function(){cc.loading.setCustomData("TestScene",{level:0});var e=cc.instantiate(this.scoreRanking);this.node.addChild(e)},onClick:function(){}}),cc._RF.pop()},{}],TotalRankingItem:[function(e,t,i){"use strict";cc._RF.push(t,"9ede1FIdw1EO6lKNcoaeB2s","TotalRankingItem"),cc.Class({extends:cc.Component,properties:{rankingLabel:cc.Label,nameLabel:cc.Label,levelLabel:cc.Label,avtarSprite:cc.Sprite,numResource:cc.LabelAtlas},onLoad:function(){this.nameLabel.string="",this.rankingLabel.string="",this.levelLabel.string="",this.avtarSprite.spriteFrame=null},start:function(){this.enabled=!1},setName:function(e){this.nameLabel.string=e.length>=11?e.substr(0,11)+"...":e},setRanking:function(e){e>3&&(this.rankingLabel.font=this.numResource),this.rankingLabel.string=e+""},setLevel:function(e){this.levelLabel.string="."+e+"/"},setAvtar:function(e){try{new RegExp("http|https").test(e)?cc.loader.load({url:e,type:"png"},function(e,t){if(!e){var i=new cc.SpriteFrame(t);this._icon&&(this.avtarSprite.spriteFrame=i)}}.bind(this)):cc.loader.loadRes(e,cc.SpriteFrame,function(e,t){e||this._icon&&(this.avtarSprite.spriteFrame=t)}.bind(this))}catch(e){}}}),cc._RF.pop()},{}],TotalRanking:[function(e,t,i){"use strict";cc._RF.push(t,"bb0eam7upJDebvjFn6kVG4u","TotalRanking");var n=function(e){return e&&e.__esModule?e:{default:e}}(e("net"));var a=e("GameDataCenter").getInstance();cc.Class({extends:cc.Component,properties:{prefab:cc.Prefab,layout:cc.Node,selfRankingItemNode:cc.Node,type:"",shareTicket:"",rankingLabel:cc.Label,downRank:cc.Sprite},start:function(){var e=this;this.selfRankingItem=this.selfRankingItemNode.getComponent("TotalRankingItem"),n.default.requestApiGet("getTotalRanking","?count=20",function(t){cc.log("\u83b7\u53d6\u5230\u76844399\u6392\u884c\u6570\u636eres---",t);var i=t.response;if(i.rank&&i.rank.length)for(var n=0;n<i.rank.length;n++){var o=i.rank[n];e.createUserBlock(o)}if(i.me&&i.me.rank){var s=i.me,r=s.nickname,c=s.avatarUrl,h=s.rank,d=s.levelFinish;e.selfRankingItem.setName(r),e.selfRankingItem.setAvtar(c),e.selfRankingItem.setRanking(h),e.selfRankingItem.setLevel(d)}else e.rankingLabel.node.active=!1,e.downRank.node.active=!0,e.selfRankingItem.setName(a.nickName),e.selfRankingItem.setAvtar(a.avatarUrl),e.selfRankingItem.setLevel("-")})},createUserBlock:function(e){var t=this.createPrefab(),i=e.nickname,n=e.avatarUrl,a=e.rank,o=e.levelFinish,s=t.getComponent("TotalRankingItem");s.setName(i),s.setRanking(a),s.setLevel(o),s.setAvtar(n)},createPrefab:function(){var e=cc.instantiate(this.prefab);return e.parent=this.layout,e},onClose:function(){cc.audioComponent.play("button"),this.node.destroy(),this.node.emit("onClose")}}),cc._RF.pop()},{GameDataCenter:"GameDataCenter",net:void 0}],Turnplate:[function(e,t,i){"use strict";cc._RF.push(t,"1150c/DqIhEYL1USD7Jg9jc","Turnplate");var n=e("GameDataCenter").getInstance();cc.Class({extends:cc.Component,properties:{wheelItemArr:{default:[],type:[cc.Node]}},init:function(){if(cc.gameConfig.wheelData)for(var e=function(e,t){cc.loader.loadRes(t,cc.SpriteFrame,function(t,i){t||e.isValid&&(e.getComponent(cc.Sprite).spriteFrame=i)})},t=0;t<this.wheelItemArr.length;t++){var i=cc.gameConfig.wheelData[t],a=this.wheelItemArr[t];this.wheelItemArr[t].wheelData=i;var o=a.getChildByName("icon"),s=a.getChildByName("name");if(s.getComponent(cc.Label).string=i.awards[0].awardName,t==this.wheelItemArr.length-1){for(var r=!0,c=n.getBikeDataFragment(),h=1;h<c.length;h++)if(!c[h].buyed&&c[h].fragment<c[h].cost){r=!1,c[h].id-1;break}if(r)for(var d=n.getEffectFragment(),u=0;u<d.length;u++)if(!n._userGameData.getEffectList[d[u].id-1]&&d[u].fragment<d[u].cost){r=!1,c[u].id-1;break}var l=r?i.res:"award/card";r?(e(o,i.res),s.getComponent(cc.Label).string=i.awards[1].awardName):function(e,t){cc.loader.loadRes(t,cc.Prefab,function(t,i){if(!t&&e.isValid){var n=cc.instantiate(i);n.setScale(.4),e.addChild(n)}})}(o,l)}else e(o,i.res);a.getChildByName("selected").active=0==t}},onLoad:function(){},start:function(){this.init()},update:function(e){}}),cc._RF.pop()},{GameDataCenter:"GameDataCenter"}],UiCenter:[function(e,t,i){"use strict";cc._RF.push(t,"91a27pj/OJLx5MHKvYTmNp/","UiCenter"),cc.Class({extends:cc.Component,properties:{moreCoinPrefab:cc.Prefab,moreDiamondPrefab:cc.Prefab,rankRulesPrefab:cc.Prefab},onLoad:function(){cc.log("onLoad uic"),this.blockInputNode=new cc.Node,this.blockInputNode.width=this.node.width,this.blockInputNode.height=this.node.height,this.node.addChild(this.blockInputNode,cc.macro.MAX_ZINDEX),this.blockInputNode.addComponent(cc.BlockInputEvents),this.blockInputNode.active=!1,cc.uiCenter=this},start:function(){},showUi:function(e){return this.addUiToParent(e,this.node)},addUiToParent:function(e,t){var i=e;e instanceof cc.Prefab&&(i=cc.instantiate(e));var n=i.getComponent("UiComponent");return cc.log("uiComponent1"),n||(cc.log("uiComponent2"),i.addComponent("UiComponent")),i.on("ui_start",function(){cc.log("uiComponent3"),this.hideBlockInput()},this),this.showBlockInput(),t.addChild(i),i},showBlockInput:function(){cc.log("onLoad showBlockInput"),this.blockInputNode.active=!0,this.blockInputNode.zIndex=cc.macro.MAX_ZINDEX},hideBlockInput:function(){cc.log("onLoad hideBlockInput"),this.blockInputNode.active=!1},setState:function(e,t){var i=void 0;0==t?(i=cc.Material.getBuiltinMaterial("2d-gray-sprite"),i=cc.Material.getInstantiatedMaterial(i,e)):(i=cc.Material.getBuiltinMaterial("2d-sprite",this),(i=cc.Material.getInstantiatedMaterial(i,this)).define("USE_TEXTURE",!0)),e.setMaterial(0,i)},showMoreCoins:function(){this.coinUI=this.showUi(this.moreCoinPrefab),this.diamondUI&&this.diamondUI.destroy(),this.rulesUI&&this.rulesUI.destroy()},showMoreDiamonds:function(){this.diamondUI=this.showUi(this.moreDiamondPrefab),this.coinUI&&this.coinUI.destroy(),this.rulesUI&&this.rulesUI.destroy()},showRankRules:function(){this.rulesUI=this.showUi(this.rankRulesPrefab),this.coinUI&&this.coinUI.destroy(),this.diamondUI&&this.diamondUI.destroy()}}),cc._RF.pop()},{}],UiComponent:[function(e,t,i){"use strict";cc._RF.push(t,"e3443PizxBM+5ijX7FnjmMx","UiComponent"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.node.emit("ui_start")},start:function(){}}),cc._RF.pop()},{}],UpgradeTips:[function(e,t,i){"use strict";cc._RF.push(t,"22bb42IunNAgrCh4eAzqYe/","UpgradeTips"),cc.Class({extends:cc.Component,properties:{},start:function(){},onClose:function(){cc.audioComponent.play("button"),this.node.active=!1,this.node.destroy()},onUpgrade:function(){cc.audioComponent.play("button"),cc.audioComponent.pauseMusic(),cc.loading.loadScene("ShopScene",{type:0})}}),cc._RF.pop()},{}],Upgrade:[function(e,t,i){"use strict";cc._RF.push(t,"d9b31rFfdZCo7jfe0PDVDGa","Upgrade");var n=h(e("buttonConfig")),a=h(e("share")),o=h(e("videoAd")),s=h(e("statistics")),r=h(e("../sdk/banner")),c=h(e("ChanneConfig"));e("crypto");function h(e){return e&&e.__esModule?e:{default:e}}var d=e("TabPanel"),u=e("GameDataCenter").getInstance(),l=c.default.channelId;cc.Class({extends:d,properties:{_path:"bike/bike",levelUp:sp.Skeleton,doubleUpgradeNode:cc.Node,priceNode:cc.Node,isInMain:!1},showIcon:function(e){this._bikeId=this._idx=e;var t=this.node.getChildByName("show"),i=this;t&&cc.loader.loadRes(this._path+e,cc.SpriteFrame,function(n,a){if(!n&&t.isValid){t.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=a,i.showIconName(e),i.updateShopList();var o=u.getBikeIdSortArr(!0);i.setChangeButton(e,o.length-1)}})},showIconName:function(e){var t=this;cc.loader.loadRes("bike/bike_name_"+e,cc.SpriteFrame,function(e,i){e||(t.node.getChildByName("show").getChildByName("bikeName").getComponent(cc.Sprite).spriteFrame=i)})},refreshDescription:function(){if(this._shopItem){u.getBikeUpgrade(this._bikeId);for(var e=this.node.getChildByName("items"),t=0;t<e.children.length;t++){var i="",n="";switch(t){case 0:i="maxSpeed",n="upgradeMaxSpeed";break;case 1:i="accRate",n="upgradeAccRate";break;case 2:i="maxSteer",n="upgradeMaxSteer";break;case 3:i="steerRate",n="upgradeSteerRate"}this.getBikeUpgradeData(this._bikeId+1,i,n,t);for(var a=e.children[t].getChildByName("progressBar").getChildByName("yellow").getChildByName("mask").children,o=u.getPropertyUpgrade(this._bikeId,t),s=0;s<a.length;s++)a[s].active=s<o;this._shopItem[t].add?e.children[t].getChildByName("value").getComponent(cc.Label).string="+"+this._shopItem[t].add:e.children[t].getChildByName("value").getComponent(cc.Label).string=cc.gameConfig.gameString.fullLevel}}},updateShopList:function(){this.onItemSelected("",0,!0);var e=u.getBikeUpgrade(this._bikeId)||[];if(0!=e.length){cc.log("==bikeUpgrade==",e);var t=this.node.getChildByName("items").children;if(t){this._shopItem=[];for(var i=0;i<4;i++){var n=e[i],a=this.getCost(this._bikeId,i,e[i])||{id:this._bikeId};a&&a.cost;a&&a.discountCount&&a.discountCount>0&&(a.discountCost=Math.floor(parseInt(a.cost)*parseFloat(a.upgradeDiscount[a.discountCount-1]))),n>=u.MAX_UPGRADE_LEVEL?(t[i].getChildByName("layout").active=!0,this.priceNode.getChildByName("layout").getChildByName("price").getComponent(cc.Label).string="",t[i].getChildByName("layout").getChildByName("level").getComponent(cc.Label).string=""+e[i]):(t[i].getChildByName("layout").getChildByName("level").getComponent(cc.Label).string=""+n,t[i].getChildByName("layout").active=!0),null!=a&&this._shopItem.push(a)}cc.log("@===shopItem==",this._shopItem),this.refreshDescription(),this.setBuyButtonState()}}},updateShopItem:function(e){cc.log("--==-updateShopItem--==-");var t=this.node.getChildByName("items").children;if(t){var i=u.getBikeUpgrade(this._bikeId)||[];if(0==i.length)return;cc.log("==bikeUpgrade==",i);var n=i[e],a=this.getCost(this._bikeId,e,n);this._shopItem[e]=a,n>u.MAX_UPGRADE_LEVEL-1?(t[e].getChildByName("layout").getChildByName("level").getComponent(cc.Label).string=""+i[e],this.priceNode.getChildByName("layout").getChildByName("price").getComponent(cc.Label).string="-",t[e].getChildByName("layout").active=!0,this.buyBtn.getComponent(cc.Button).interactable=!1,this.discountBtn.getComponent(cc.Animation).stop()):(a.discountCost=Math.floor(parseInt(a.cost)*parseFloat(a.upgradeDiscount[a.discountCount-1])),cc.log("newLevelNum",n),t[e].getChildByName("layout").getChildByName("level").getComponent(cc.Label).string=""+n,a.discountCost?this.priceNode.getChildByName("layout").getChildByName("price").getComponent(cc.Label).string=a.discountCost/10:this.priceNode.getChildByName("layout").getChildByName("price").getComponent(cc.Label).string=a.cost/10)}},setBuyButtonState:function(){if(this._shopItem)for(var e=0;e<this._shopItem.length;e++){var t=this._shopItem[e];if(t.id==this._bikeId&&t.propId==this._selectedItemId){var i=u.getBikeUpgrade(this._bikeId);t.discountCount?parseInt(t.discountCost):parseInt(t.cost);if(i[this._selectedItemId]<u.MAX_UPGRADE_LEVEL){this.buyBtn.getComponent(cc.Button).interactable=!0;var n=!t.discountCount||t.discountCount<t.upgradeDiscount.length;this.discountBtn.getComponent(cc.Button).interactable=n;parseFloat(t.upgradeDiscount[t.discountCount-1]);if(n){var a,o=t.discountCount||0;a=0==o?-1*(100-Math.floor(100*t.upgradeDiscount[0])):-1*Math.floor(100*parseFloat(t.upgradeDiscount[o-1])-100*parseFloat(t.upgradeDiscount[o])),this.setDisCountBtnState(!0,a)}else this.setDisCountBtnState(!1);this.buyBtn.getComponent(cc.Button).interactable=!0,cc.uiCenter.setState(this.buyBtn.getChildByName("bg").getComponent(cc.Sprite),1)}else this.setDisCountBtnState(!1),this.buyBtn.getComponent(cc.Button).interactable=!1,this.buyNode.getChildByName("price").active=!1,cc.uiCenter.setState(this.buyBtn.getChildByName("bg").getComponent(cc.Sprite),0);break}}},getCost:function(e,t,i){return u.getBikeUpgradeCost(e,t,i)},onBuy:function(e,t){if(cc.audioComponent.play("button"),s.default.setSceneEvent("\u8d5b\u8f66\u5546\u57ce\uff08\u5347\u7ea7\u8d5b\u8f66\uff09","\u70b9\u51fb","\u5546\u57ce-\u5347\u7ea7-\u5347\u7ea7"),cc.loading.getCustomData()&&"upgradeGuidelines"==cc.loading.getCustomData().cmd&&u.newGuidelinesCount>=0&&u.newGuidelinesCount<=2&&cc.eventCenter.emit("changeGuidelines",2,!1),this._shopItem){if(this._shopItem[this._selectedItemId].level>=u.MAX_UPGRADE_LEVEL)return cc.toast.show(cc.gameConfig.gameString.hadMaxUpgradeLevel,1),void(this.canDoubleUpgrade&&this.resetQuickClick());if(this._shopItem[this._selectedItemId].discountCount&&this._shopItem[this._selectedItemId].discountCount>0){if(u.totalCoins<this._shopItem[this._selectedItemId].discountCost/10)return cc.toast.show(cc.gameConfig.gameString.coins_not_enough,1),void(this.canDoubleUpgrade&&this.resetQuickClick());u.totalCoins-=Math.floor(this._shopItem[this._selectedItemId].discountCost/10)}else{if(u.totalCoins<this._shopItem[this._selectedItemId].cost/10)return cc.toast.show(cc.gameConfig.gameString.coins_not_enough,1),cc.uiCenter.showMoreCoins(),void(this.canDoubleUpgrade&&this.resetQuickClick());u.totalCoins-=this._shopItem[this._selectedItemId].cost/10}this.canDoubleUpgrade?this.onQuickClick():this.onBuySuccess()}},onDiscount:function(){cc.audioComponent.play("button"),s.default.setSceneEvent("\u8d5b\u8f66\u5546\u57ce\uff08\u5347\u7ea7\u8d5b\u8f66\uff09","\u70b9\u51fb","\u5546\u57ce-\u5347\u7ea7-\u780d\u4ef7");var e=function(){if(this._shopItem)for(var e=0;e<this._shopItem.length;e++){var t=this._shopItem[e];if(t.id==this._bikeId&&t.propId==this._selectedItemId){var i=this.node.getChildByName("items").children,n=t.discountCount||0;if(i){var a=Math.floor(parseInt(t.cost)*parseFloat(t.upgradeDiscount[n]));t.discountCost=a,this.priceNode.getChildByName("layout").getChildByName("price").getComponent(cc.Label).string=a/10}this.discountBtn.getChildByName("discountLabel").getComponent(cc.Label).string="",u.setUpgradeDiscountCount(this._bikeId,this._selectedItemId),t.discountCount+=1,t.discountCount==t.upgradeDiscount.length?this.setDisCountBtnState(!1):(this.discountBtn.getComponent(cc.Button).interactable=!0,this.discountBtn.getComponent(cc.Animation).play());var o=100*parseFloat(t.upgradeDiscount[n]);cc.toast.show(cc.gameConfig.gameString.discount_success+":"+o+"%",1),cc.audioComponent.play("coinsChanged"),u.lastDiscountEveryday=new Date,this.setBuyButtonState();break}}u.saveData()}.bind(this);cc.loading.getCustomData()&&"upgradeGuidelines"==cc.loading.getCustomData().cmd&&u.newGuidelinesCount>=0&&u.newGuidelinesCount<2?(cc.log("on MainGuidelines"),e(),cc.eventCenter.emit("changeGuidelines",2)):"share"==n.default.getState("shengjisaiche",0)?a.default.shareToSociety({shareType:1,buttonKey:"shengjisaiche"},e):o.default.show("shengjisaiche",e)},onItemSelected:function(e,t,i){i||cc.audioComponent.play("button"),this._selectedItemId=parseInt(t);var n=this.node.getChildByName("items");if(n){var a=n.children;if(a){for(var o=0;o<a.length;o++)a[o].getChildByName("select").active=o==this._selectedItemId;var s=u.getBikeUpgrade(this._selectedItemId)||[],r=this.getCost(this._idx,this._selectedItemId,s[this._selectedItemId])||{id:this._selectedItemId},c=r&&r.cost||"";r&&r.discountCount&&r.discountCount>0&&(r.discountCost=Math.floor(parseInt(r.cost)*parseFloat(r.upgradeDiscount[r.discountCount-1])));var h=r&&r.discountCost||"";this.priceNode.getChildByName("layout").getChildByName("price").getComponent(cc.Label).string=h?h/10:c/10,this.setBuyButtonState(),this.canDoubleUpgrade&&this.resetQuickClick()}}},onPrev:function(e){cc.audioComponent.play("button");var t=u.getBikeIdSortArr(!0);if(t&&t.length>0)for(var i=0;i<t.length;i++)if(t[i]==this._idx&&i>0)return void this.showIcon(t[i-1])},onNext:function(e){cc.audioComponent.play("button");var t=u.getBikeIdSortArr(!0);if(t&&t.length>0)for(var i=0;i<t.length;i++)if(t[i]==this._idx&&i<t.length-1)return void this.showIcon(t[i+1])},onQuickClick:function(){if(cc.loading.getCustomData()&&"upgradeGuidelines"==cc.loading.getCustomData().cmd&&u.newGuidelinesCount>=0&&u.newGuidelinesCount<3)return this.buyBtn.interactable=!1,this.resetQuickClick(),this.onBuySuccess(!0),this.doubleUpgradeNode.active=!0,this.doubleUpgradeNode.getChildByName("btn_close").active=!1,this.scheduleOnce(function(){this.doubleUpgradeNode.getChildByName("btn_close").active=!0},2),void this.onBuySuccess();if(this._level0||this._level1){this._level1++,this._nowTime=(new Date).getTime();var e=this._nowTime-this._originTime,t=e/(1e3*(this._level1-this._level0));if(cc.log("frequency",t,e,this._level0,this._level1),t<=this._frequency&&[4,9,14,19,24,25].indexOf(this._level1)<0){var i=Math.floor(100*Math.random()+1);if(console.log("\u6295\u786c\u5e01",i),i<=this._rate)return cc.log("\u83b7\u5f97\u53cc\u500d\u5347\u7ea7"),this.buyBtn.interactable=!1,this.resetQuickClick(),this.onBuySuccess(!0),this.doubleUpgradeNode.active=!0,this.doubleUpgradeNode.getChildByName("btn_close").active=!1,this.scheduleOnce(function(){this.doubleUpgradeNode.getChildByName("btn_close").active=!0},2),void(this.buyBtn.interactable=!0);this.resetQuickClick()}}else this._level0=Number(this._shopItem[this._selectedItemId].level),this._level1=this._level0+1,this._originTime=this._nowTime=(new Date).getTime(),this._rate=Number(this._shopItem[this._selectedItemId].doubleUpgradeRate),this._frequency=this._rate/10,cc.log("\u5f00\u59cb\u8ba1\u6570",this._level0,this._level1,this._originTime);this.onBuySuccess()},resetQuickClick:function(){cc.log("\u505c\u6b62\u8ba1\u6570"),this._level0=this._level1=this._originTime=null},hideDoubleUpgradeNode:function(){cc.audioComponent.play("button"),this.doubleUpgradeNode.active=!1,cc.loading.getCustomData()&&"upgradeGuidelines"==cc.loading.getCustomData().cmd&&u.newGuidelinesCount>=0&&u.newGuidelinesCount<3&&cc.eventCenter.emit("changeGuidelines",3)},onShareFriend:function(){cc.audioComponent.play("button"),a.default.shareToSociety({shareType:2,buttonKey:"xuanyaoyixia"},this.hideDoubleUpgradeNode.bind(this))},onBuySuccess:function(e){var t;cc.log("\u8d2d\u4e70\u6210\u529f"),cc.log("this._userGameData.bikeUpgrade",u._userGameData.bikeUpgrade[this._bikeId].property),cc.log("this._userGameData.bikeUpgrade",u._userGameData.bikeUpgrade[this._bikeId].upgrade),e?(t=!0,cc.log("upgrade"),u.setBikeUpgrade(this._bikeId,this._selectedItemId)):t=u.setPropertyUpgrade(this._bikeId,this._selectedItemId),u.saveData(),cc.log("this._userGameData.bikeUpgrade",u._userGameData.bikeUpgrade[this._bikeId].property),cc.log("this._userGameData.bikeUpgrade",u._userGameData.bikeUpgrade[this._bikeId].upgrade),t&&(cc.audioComponent.play("upgrade"),this.levelUp.node.active=!0,this.levelUp.setAnimation(0,"await1",!1),cc.audioComponent.play("coinsChanged")),u.lastUpgradeTime=new Date,u.saveData(),this.refreshDescription(),this.updateShopItem(this._selectedItemId),cc.log(242,this._shopItem[this._selectedItemId]),this.setBuyButtonState()},onLoad:function(){this._idx=0,this.canDoubleUpgrade=!0,this.doubleUpgradeNode.active=!1,this.levelUp.node.active=!1,this.levelUp.setCompleteListener(function(){this.levelUp.node.active=!1}.bind(this)),cc.loading.getCustomData()&&"upgradeGuidelines"==cc.loading.getCustomData().cmd&&(this.discountBtn.getChildByName("icon_video").active=!1),this.node.getChildByName("btn_close").active=!0;var e=u.getCurBikeAndUpgradeData();cc.log("gameDataCenter.getCurBikeAndUpgradeData()",e)},start:function(){cc.log("upgrade"),this.isControl=!1,this.node.getChildByName("control").on(cc.Node.EventType.TOUCH_MOVE,this.onControlMove,this),this.node.getChildByName("control").on(cc.Node.EventType.TOUCH_END,this.onControlEnd,this),this.node.getChildByName("control").on(cc.Node.EventType.TOUCH_CANCEL,this.onControlEnd,this),this.showIcon(u.curUseBike)},onClose:function(){cc.audioComponent.play("button"),this.node.emit("onClose"),this.node.destroy()},onControlEnd:function(){this.isControl=!1},onControlMove:function(e){this.isControl||(this.isControl=!0,e.touch.getStartLocation().x-e.touch._point.x>0?this.onNext():this.onPrev())},onEnable:function(){-1==u.newGuidelinesCount&&l==c.default.toutiao&&r.default.show("main")},onDisable:function(){l==c.default.toutiao&&(r.default.hide(),-1==u.newGuidelinesCount&&window.InterstitialAd.createInterstitialAdByAdId("main"))}}),cc._RF.pop()},{"../sdk/banner":void 0,ChanneConfig:void 0,GameDataCenter:"GameDataCenter",TabPanel:"TabPanel",buttonConfig:void 0,crypto:56,share:void 0,statistics:void 0,videoAd:void 0}],diamondLabel:[function(e,t,i){"use strict";cc._RF.push(t,"8c7c29jXyxG+K//bR0m+0tf","diamondLabel");var n=e("GameDataCenter").getInstance();cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.isMini=!0,this.updateTotalDiamonds()},start:function(){cc.eventCenter.on("total_diamonds_change",this.updateTotalDiamonds,this)},updateTotalDiamonds:function(){var e=n.totalDiamonds;if(this.isMini){var t=e<1e3?e:e<1e4?Math.floor(e/100)/10+"k":Math.floor(e/1e3)/10+"w";this.node.getComponent(cc.Label).string=t+""}else this.node.getComponent(cc.Label).string=e+""}}),cc._RF.pop()},{GameDataCenter:"GameDataCenter"}],feedbac:[function(e,t,i){"use strict";cc._RF.push(t,"441edh/mOFK+okFMHJw7nIV","feedbac"),cc.Class({extends:cc.Component,properties:{},start:function(){},onClose:function(){cc.audioComponent.play("button"),this.button&&this.button.destroy(),this.node.removeFromParent()}}),cc._RF.pop()},{}],gainModel:[function(e,t,i){"use strict";cc._RF.push(t,"54c9agcgMlNx5nlJPHXYEEu","gainModel");r(e("buttonConfig"));var n=r(e("share")),a=r(e("videoAd")),o=(r(e("statistics")),r(e("login")),r(e("banner"))),s=r(e("ChanneConfig"));function r(e){return e&&e.__esModule?e:{default:e}}function c(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var h=e("GameDataCenter").getInstance(),d=s.default.channelId;cc.Class({extends:cc.Component,properties:{bikeNode:cc.Node,otherNode:cc.Node,effectNode:cc.Node,doubleBtn:cc.Node,goToMapBtn:cc.Node,receiveBtn:cc.Node,shareBtn:cc.Node,npcNode:cc.Node,cardPrefab:cc.Prefab,isShowGain:-1,npcGirlSprite:cc.SpriteFrame},setData:function(e,t,i,n){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.type=e,this.gainData=t,this.name=i,this.wheelData=n,this.isCard=a},onLoad:function(){if(this.npcNode.active=!1,0==this.type){this.bikeNode.active=!0,this.otherNode.active=!1,this.effectNode.active=!1,this.doubleBtn.active=!1,this.goToMapBtn.active=!0,this.receiveBtn.active=!1,this.shareBtn.active=!1;var e=this.bikeNode.getChildByName("icon"),t=this.bikeNode.getChildByName("name");cc.loader.loadRes("bike/bike"+this.name,cc.SpriteFrame,function(t,i){t||(e.getComponent(cc.Sprite).spriteFrame=i)}),cc.loader.loadRes("bike/bike_name_"+this.name,cc.SpriteFrame,function(e,i){e||(t.getComponent(cc.Sprite).spriteFrame=i)}),this.npcNode.active=1==this.wheelData,-1!=h.rankLevel&&(this.npcNode.getChildByName("role").getComponent(cc.Sprite).spriteFrame=this.npcGirlSprite)}else if(1==this.type){var i=this.isCard;this.bikeNode.active=!1,this.otherNode.active=!0,this.effectNode.active=!1,this.doubleBtn.active=!i,this.receiveBtn.active=!1,this.goToMapBtn.active=!1,this.shareBtn.active=!1;e=this.otherNode.getChildByName("icon");var n=this.otherNode.getChildByName("num");if(this.isCard)e.getComponent(cc.Sprite).spriteFrame=null,e.setScale(1),(s=cc.instantiate(this.cardPrefab)).getComponent("CardItem").setItemData(!0,3,this.gainData,"",this.name,!1),e.addChild(s),s.getComponent(cc.Animation).play(),s.getComponent(cc.Animation).on("finished",function(){s.setPosition(cc.v2(0,-80)),this.receiveBtn.active=!0},this),n.getComponent(cc.Label).string=this.name;else e.getComponent(cc.Sprite).spriteFrame=this.gainData,e.setScale(2),n.getComponent(cc.Label).string=this.name}else if(2==this.type){this.bikeNode.active=!1,this.otherNode.active=!1,this.effectNode.active=!0,this.doubleBtn.active=!1,this.goToMapBtn.active=!0,this.receiveBtn.active=!1,this.shareBtn.active=!1;e=this.effectNode.getChildByName("icon"),t=this.effectNode.getChildByName("name");var a=this.effectNode.getChildByName("k002");cc.loader.loadRes(this.gainData.moto,cc.SpriteFrame,function(t,i){t||(e.getComponent(cc.Sprite).spriteFrame=i)}),cc.loader.loadRes(this.gainData.name,cc.SpriteFrame,function(e,i){e||(t.getComponent(cc.Sprite).spriteFrame=i)}),a&&cc.loader.loadRes(this.gainData.effect,sp.SkeletonData,function(e,t){if(!e){var i=a.getComponent(sp.Skeleton);i.skeletonData=t,i.animation="await1"}})}else if(3==this.type){i="3"==this.gainData.awards.awardType;this.bikeNode.active=!1,this.otherNode.active=!0,this.effectNode.active=!1,this.doubleBtn.active=!1,this.receiveBtn.active=!1,this.goToMapBtn.active=!1,this.shareBtn.active=!0;e=this.otherNode.getChildByName("icon"),n=this.otherNode.getChildByName("num");cc.loader.loadRes(this.gainData.res,cc.SpriteFrame,function(t,i){t||(e.getComponent(cc.Sprite).spriteFrame=i)}),i&&e.setScale(.8),n.getComponent(cc.Label).string=this.name;var o=c({awardType:this.gainData.awards.awardType,totalNum:this.gainData.awards.totalNum,isDouble:this.gainData.isDouble,name:this.gainData.name,fragment:this.gainData.type,id:this.gainData.id},"totalNum",this.gainData.awards.totalNum);this.onGainSuccess(o)}else if(4==this.type){this.bikeNode.active=!1,this.otherNode.active=!0,this.effectNode.active=!1,this.doubleBtn.active=!1,this.receiveBtn.active=!1,this.goToMapBtn.active=!1,this.shareBtn.active=!1;var s;e=this.otherNode.getChildByName("icon"),n=this.otherNode.getChildByName("num");e.getComponent(cc.Sprite).spriteFrame=null,e.setScale(1),(s=cc.instantiate(this.cardPrefab)).getComponent("CardItem").setItemData(!0,3,this.gainData,"",this.name,!1),e.addChild(s),s.getComponent(cc.Animation).play(),s.getComponent(cc.Animation).on("finished",function(){s.setPosition(cc.v2(0,-80)),this.shareBtn.active=!0,this.scheduleOnce(function(){this.node.getChildByName("btn_close").active=!0},2)},this),n.getComponent(cc.Label).string=this.name}else if(5==this.type){this.bikeNode.active=!1,this.otherNode.active=!0,this.effectNode.active=!1,this.doubleBtn.active=!1,this.receiveBtn.active=!1,this.goToMapBtn.active=!1,this.shareBtn.active=!0;e=this.otherNode.getChildByName("icon"),n=this.otherNode.getChildByName("num");e.getComponent(cc.Sprite).spriteFrame=this.gainData,e.setScale(2.5),n.getComponent(cc.Label).string=this.name}this.node.getChildByName("btn_close").active=!1,4!=this.type&&this.scheduleOnce(function(){this.node.getChildByName("btn_close").active=!0},2)},start:function(){cc.audioComponent.play("gain_model")},onGoToGame:function(){cc.audioComponent.play("button"),this.node.emit("onMap"),this.node.destroy()},onReceive:function(e){var t=function(){if(this.wheelData){var t=this.wheelData.awards.length>1?this.isCard?this.wheelData.awards[0]:this.wheelData.awards[1]:this.wheelData.awards[0],i={awardType:t.awardType,totalNum:t.totalNum,isDouble:e,name:this.wheelData.name,awardId:t.awardId,fragment:this.wheelData.fragment?this.wheelData.fragment.type:0,id:this.wheelData.fragment?this.wheelData.fragment.id:0,bikeName:this.wheelData.fragment?this.wheelData.fragment.name:""};this.onGainSuccess(i),0==this.isShowGain?cc.eventCenter.emit("show_coins_animation"):1==this.isShowGain&&cc.eventCenter.emit("show_diamonds_animation")}h.saveData(),this.close()}.bind(this);"3"==this.wheelData.awards[0].awardType?t():2==e?a.default.show("gongxihuode",t):t()},onGainSuccess:function(e){if("0"==e.awardType)h.totalCoins+=e.totalNum*e.isDouble,this.isShowGain=0,cc.toast.show(cc.gameConfig.gameString.gainLabel+e.totalNum*e.isDouble+cc.gameConfig.gameString.coinLabel,1);else if("1"==e.awardType)h.totalDiamonds+=e.totalNum*e.isDouble,this.isShowGain=1,cc.toast.show(cc.gameConfig.gameString.gainLabel+e.totalNum*e.isDouble+cc.gameConfig.gameString.diamondLabel,1);else if("2"==e.awardType)h.setDaoJuNum(0,e.awardId,e.totalNum*e.isDouble),cc.toast.show(cc.gameConfig.gameString.gainLabel+e.totalNum*e.isDouble+"\u4e2a"+e.name,1);else if("3"==e.awardType){0==e.fragment?h.setBikeFragment(e.id,e.totalNum):h.setEffectFragment(e.id,e.totalNum);var t=cc.gameConfig.gameString.gainCardTips.replace("X",e.bikeName);cc.toast.show(t,1)}},onShare:function(){cc.audioComponent.play("button"),n.default.shareToSociety({shareType:2,buttonKey:"xuanyaoyixia"},function(){3==this.type?(0==this.isShowGain?cc.eventCenter.emit("show_coins_animation"):1==this.isShowGain&&cc.eventCenter.emit("show_diamonds_animation"),cc.loading.getCustomData()&&"upgradeGuidelines"==cc.loading.getCustomData().cmd&&3==this.type&&h.newGuidelinesCount>=0&&h.newGuidelinesCount<=7&&cc.eventCenter.emit("changeGuidelines",7),this.node.emit("onClose")):4==this.type&&this.node.emit("onClose"),this.close()}.bind(this))},onClose:function(e,t){cc.audioComponent.play("button"),0==this.isShowGain?cc.eventCenter.emit("show_coins_animation"):1==this.isShowGain&&cc.eventCenter.emit("show_diamonds_animation"),cc.loading.getCustomData()&&"upgradeGuidelines"==cc.loading.getCustomData().cmd&&3==this.type&&h.newGuidelinesCount>=0&&h.newGuidelinesCount<=7&&cc.eventCenter.emit("changeGuidelines",7),0==this.type?(this.node.emit("showNewGain"),this.close()):1==this.type?this.onReceive(parseInt(t)):2==this.type?this.close():3==this.type||4==this.type?(this.node.emit("onClose"),this.close()):5==this.type&&this.close()},close:function(){this.node.destroy()},onEnable:function(){0==h.newGuidelinesCount&&d==s.default.toutiao&&o.default.show("gongxihuode")},onDisable:function(){d==s.default.toutiao&&o.default.hide()}}),cc._RF.pop()},{ChanneConfig:void 0,GameDataCenter:"GameDataCenter",banner:void 0,buttonConfig:void 0,login:void 0,share:void 0,statistics:void 0,videoAd:void 0}],infoAuthorze:[function(e,t,i){"use strict";cc._RF.push(t,"cf8cfSADVhMKZO0j9Te2/pi","infoAuthorze");var n=function(e){return e&&e.__esModule?e:{default:e}}(e("login"));var a=e("GameDataCenter").getInstance();cc.Class({extends:cc.Component,properties:{},start:function(){},onAuthorze:function(){n.default.login(this.setUserInfo.bind(this))},setUserInfo:function(e){a.isAuthorze=e,cc.toast.show("\u6388\u6743"+(e?"\u6210\u529f":"\u5931\u8d25"),1),this.close()},onClose:function(){cc.audioComponent.play("button"),this.close()},close:function(){a.isAuthorze=!0,this.node.emit("onClose"),this.node.destroy()}}),cc._RF.pop()},{GameDataCenter:"GameDataCenter",login:void 0}],matchFightPanel:[function(e,t,i){"use strict";cc._RF.push(t,"ba79dKNC5xOxozIWqMuJyhp","matchFightPanel");var n=s(e("banner")),a=s(e("ChanneConfig")),o=s(e("buttonConfig"));function s(e){return e&&e.__esModule?e:{default:e}}var r=a.default.channelId;cc.Class({extends:cc.Component,properties:{cutLeft:cc.Button,cutRight:cc.Button,matchPrefab:cc.Prefab,fightPrefab:cc.Prefab,closeBtn:cc.Button},onLoad:function(){var e=cc.instantiate(this.matchPrefab),t=cc.instantiate(this.fightPrefab);this.node.getChildByName("slot").addChild(t),this.node.getChildByName("slot").addChild(e),this.roomid||this.isInviteApp?(this.node.getChildByName("slot").getChildByName("matchPrefab").active=!1,this.node.getChildByName("click_left").active=!0,this.node.getChildByName("click_right").active=!1):(this.node.getChildByName("slot").getChildByName("fightPrefab").active=!1,this.node.getChildByName("click_left").active=!1,this.node.getChildByName("click_right").active=!0),e.on("offClose",this.offClose,this),e.on("close",this.close,this),t.on("offClose",this.offClose,this),t.on("close",this.close,this)},acceptInvite:function(e){this.roomid=e},inviteApp:function(){this.isInviteApp=!0},start:function(){this.roomid&&this.node.getChildByName("slot").getChildByName("fightPrefab").emit("acceptInvite",this.roomid),this.isInviteApp&&this.node.getChildByName("slot").getChildByName("fightPrefab").emit("onInviteApp")},onLeft:function(){this.node.getChildByName("slot").getChildByName("fightPrefab").emit("onClose",1)},left:function(){this.node.getChildByName("click_right").active=!0,this.node.getChildByName("click_left").active=!1,this.node.getChildByName("slot").getChildByName("matchPrefab").active=!0,this.node.getChildByName("slot").getChildByName("fightPrefab").active=!1,this.node.getChildByName("slot").getChildByName("matchPrefab").emit("onInit")},onRight:function(){this.node.getChildByName("slot").getChildByName("matchPrefab").emit("onClose",-1)},right:function(){this.node.getChildByName("click_right").active=!1,this.node.getChildByName("click_left").active=!0,this.node.getChildByName("slot").getChildByName("matchPrefab").active=!1,this.node.getChildByName("slot").getChildByName("fightPrefab").active=!0,this.node.getChildByName("slot").getChildByName("fightPrefab").emit("onInit")},close:function(e){switch(e){case 0:this.node.destroy();break;case-1:this.right();break;case 1:this.left()}},onClose:function(){cc.audioComponent.play("button"),this.node.getChildByName("slot").getChildByName("matchPrefab").active&&this.node.getChildByName("slot").getChildByName("matchPrefab").emit("onClose",0),this.node.getChildByName("slot").getChildByName("fightPrefab").active&&this.node.getChildByName("slot").getChildByName("fightPrefab").emit("onClose",0)},offClose:function(e){this.closeBtn.interactable=e,this.node.getChildByName("slot").getChildByName("matchPrefab").interactable=e,this.node.getChildByName("slot").getChildByName("fightPrefab").interactable=e},onDestroy:function(){cc.log("onDestroy5551")},onEnable:function(){9==r?n.default.show("main1"):n.default.show("main"),o.default.isSceneOpen("bannerAdPos")&&n.default.setBannerAdPos(-20)},onDisable:function(){n.default.hide(),n.default.setBannerAdPos()}}),cc._RF.pop()},{ChanneConfig:void 0,banner:void 0,buttonConfig:void 0}],moreCoins:[function(e,t,i){"use strict";cc._RF.push(t,"ec505zMLN1PhKZz5woryMDv","moreCoins");var n=c(e("buttonConfig")),a=c(e("share")),o=c(e("videoAd")),s=c(e("banner")),r=c(e("ChanneConfig"));function c(e){return e&&e.__esModule?e:{default:e}}var h=r.default.channelId,d=e("GameDataCenter").getInstance();cc.Class({extends:cc.Component,properties:{itemsList:cc.Node,exchangeSprite:cc.SpriteFrame,watchSprite:cc.SpriteFrame,receiveSprite:cc.SpriteFrame,isHide:!1},loadMoreCoinsList:function(){if(this.itemsList)for(var e=0,t=0;e<this.itemsList.children.length;e++){var i=this.itemsList.children[e];if(i.children.length>1){var n=this.moreCoinsData[t];i.getChildByName("id").getComponent(cc.Label).string=n.id,i.getChildByName("title").getComponent(cc.Label).string=n.title,i.getChildByName("btn").getChildByName("bg").getComponent(cc.Sprite).spriteFrame=-1!=n.consume?this.exchangeSprite:this.watchSprite,n.count>0&&d._userGameData.moreCoinsArr[t]>=n.count&&(this.itemsList.children[t].getChildByName("btn").getComponent(cc.Button).interactable=!1,cc.uiCenter.setState(this.itemsList.children[t].getChildByName("btn").getChildByName("bg").getComponent(cc.Sprite),0));var a=new cc.Component.EventHandler;a.target=this.node,a.component="moreCoins",a.handler="onExchangeCoins",a.customEventData=t.toString(),i.getChildByName("btn").getComponent(cc.Button).clickEvents.push(a),t++}}},onExchangeCoins:function(e,t){cc.audioComponent.play("button"),t=parseInt(t);var i=this.moreCoinsData[parseInt(t)];if(-1!=i.consume&&d.totalDiamonds<i.consume)return cc.toast.show(cc.gameConfig.gameString.diamonds_not_enough,1),void cc.uiCenter.showMoreDiamonds();-1==i.consume?this.onWatchVideo(t,i):(i.count>0&&d._userGameData.moreCoinsArr[t]<i.count&&(d._userGameData.moreCoinsArr[t]+=1,d._userGameData.moreCoinsArr[t]>=i.count&&(this.itemsList.children[t].getChildByName("btn").getComponent(cc.Button).interactable=!1,cc.uiCenter.setState(this.itemsList.children[t].getChildByName("btn").getChildByName("bg").getComponent(cc.Sprite),0))),d.totalDiamonds-=i.consume,d.totalCoins+=i.award,this.node.getChildByName("infoPanel").emit("show_coins_animation"),cc.toast.show(cc.gameConfig.gameString.gainLabel+i.award+cc.gameConfig.gameString.coinLabel))},onWatchVideo:function(e,t){var i=function(){d._userGameData.moreCoinsArr[e]+=1,this.itemsList.children[e].getChildByName("btn").getChildByName("bg").getComponent(cc.Sprite).spriteFrame=this.receiveSprite}.bind(this);d._userGameData.moreCoinsArr[e]>=1?(d._userGameData.moreCoinsArr[e]=0,d.totalCoins+=t.award,d.saveData(),this.node.getChildByName("infoPanel").emit("show_coins_animation"),cc.toast.show(cc.gameConfig.gameString.gainLabel+t.award+cc.gameConfig.gameString.coinLabel),this.itemsList.children[e].getChildByName("btn").getChildByName("bg").getComponent(cc.Sprite).spriteFrame=this.watchSprite):"share"==n.default.getState("gengduojini",0)?a.default.shareToSociety({shareType:1,buttonKey:"gengduojini"},i):o.default.show("gengduojini",i)},onLoad:function(){this.moreCoinsData=cc.gameConfig.moreCoinsData,this.moreCoinsData&&this.loadMoreCoinsList(),this.node.getChildByName("btn_close").active=!1,this.schedule(function(){this.node.getChildByName("btn_close").active=!0},2)},start:function(){},onClose:function(){cc.audioComponent.play("button"),this.node.emit("onClose"),this.node.destroy()},onEnable:function(){h==r.default.toutiao&&s.default.show("main")},onDisable:function(){h==r.default.toutiao&&(s.default.hide(),-1==d.newGuidelinesCount&&window.InterstitialAd.createInterstitialAdByAdId("main"))}}),cc._RF.pop()},{ChanneConfig:void 0,GameDataCenter:"GameDataCenter",banner:void 0,buttonConfig:void 0,share:void 0,videoAd:void 0}],moreDiamonds:[function(e,t,i){"use strict";cc._RF.push(t,"cee31yWH3BJv4geTHKBXa3C","moreDiamonds");s(e("share"));var n=s(e("videoAd")),a=s(e("banner")),o=s(e("ChanneConfig"));function s(e){return e&&e.__esModule?e:{default:e}}var r=o.default.channelId,c=e("GameDataCenter").getInstance(),h=[1,3,5],d=[10,20,50];cc.Class({extends:cc.Component,properties:{videoCountLabel:{default:[],type:cc.Label},watchBtn:{default:[],type:cc.Node},watchSprite:cc.SpriteFrame,receiveSprite:cc.SpriteFrame,isHide:!1},onLoad:function(){var e=this.getWatchDays(c.lastFreeDiamonds);cc.log(e),c.lastFreeDiamonds?e>1&&this.resetWatch():this.resetWatch(),this.node.getChildByName("btn_close").active=!1,this.schedule(function(){this.node.getChildByName("btn_close").active=!0},2)},start:function(){this.showWatchCount(),this.setButtonState()},onGetDiamonds:function(e,t){t=parseInt(t);var i=!1,a=0,o=h[t];c._userGameData.moreDiamondsArr[t]>=o&&-1!=c._userGameData.moreDiamondsArr[t]&&(i=!0,a=d[t],t>0?c._userGameData.moreDiamondsArr[t]=-1:c._userGameData.moreDiamondsArr[t]-=h[t],c.saveData()),i?(c.totalDiamonds+=a,c.saveData(),this.node.getChildByName("infoPanel").emit("show_diamonds_animation"),cc.toast.show(cc.gameConfig.gameString.gainLabel+a+cc.gameConfig.gameString.diamondLabel),this.showWatchCount(),this.setButtonState()):(cc.log("video"),n.default.show("gengduozuanshi",this.getDiamondsCount.bind(this)))},getDiamondsCount:function(){for(var e=0;e<c._userGameData.moreDiamondsArr.length;e++){var t=h[e];c._userGameData.moreDiamondsArr[e]<t&&-1!=c._userGameData.moreDiamondsArr[e]&&(c._userGameData.moreDiamondsArr[e]++,c.saveData())}this.showWatchCount(),this.setButtonState()},showWatchCount:function(){for(var e=0;e<this.videoCountLabel.length;e++){var t=h[e],i=c._userGameData.moreDiamondsArr[e]<0?t:c._userGameData.moreDiamondsArr[e];this.videoCountLabel[e].string="("+i+"/"+t+")"}},setButtonState:function(){for(var e=0;e<this.watchBtn.length;e++){var t=c._userGameData.moreDiamondsArr[e]<0?0:1;c._userGameData.moreDiamondsArr[e]>=h[e]?this.watchBtn[e].getChildByName("bg").getComponent(cc.Sprite).spriteFrame=this.receiveSprite:this.watchBtn[e].getChildByName("bg").getComponent(cc.Sprite).spriteFrame=this.watchSprite,this.watchBtn[e].getComponent(cc.Button).interactable=t,cc.uiCenter.setState(this.watchBtn[e].getChildByName("bg").getComponent(cc.Sprite),t),t?this.watchBtn[e].getComponent(cc.Animation).play():this.watchBtn[e].getComponent(cc.Animation).stop()}},getWatchDays:function(e){var t=(new Date).setHours(0,0,0,0)-new Date(e).setHours(0,0,0,0);return parseInt(t/864e5)},resetWatch:function(){c.lastFreeDiamonds=new Date,c._userGameData.moreDiamondsArr=[0,0,0],c.saveData()},onClose:function(){cc.audioComponent.play("button"),this.node.emit("onClose"),this.node.destroy()},onEnable:function(){r==o.default.toutiao&&a.default.show("main")},onDisable:function(){r==o.default.toutiao&&window.InterstitialAd.createInterstitialAdByAdId("main")}}),cc._RF.pop()},{ChanneConfig:void 0,GameDataCenter:"GameDataCenter",banner:void 0,share:void 0,videoAd:void 0}],moreGames:[function(e,t,i){"use strict";cc._RF.push(t,"9998dDK+AxK0aIOMox3dVCf","moreGames");var n=function(e){return e&&e.__esModule?e:{default:e}}(e("ChanneConfig"));var a=e("GameDataCenter").getInstance(),o=n.default.channelId;cc.Class({extends:cc.Component,properties:{iconSprites:{default:[],type:cc.SpriteFrame},iconNode:{default:null,type:cc.Node}},start:function(){(Boolean(navigator.userAgent.match(/iphone|ipod/gi))||-1!=a.newGuidelinesCount||a.gameSocoreCount<3)&&this.node.destroy(),o==n.default.toutiao&&(this._index=0,this.iconNode.getComponent(cc.Sprite).spriteFrame=this.iconSprites[this._index],this.schedule(function(){this._index++,this._index>=this.iconSprites.length&&(this._index=0),this.iconNode.getComponent(cc.Sprite).spriteFrame=this.iconSprites[this._index]},3),this.node.getChildByName("icon").runAction(cc.repeatForever(cc.sequence(cc.rotateTo(.2,45).easing(cc.easeBackOut()),cc.rotateTo(.1,0),cc.rotateTo(.2,-45).easing(cc.easeBackOut()),cc.rotateTo(.1,0),cc.delayTime(.5)),10)),tt.onNavigateToMiniProgram(function(e){console.log(e.errCode),console.log(e.errMsg)}))},showMoreGames:function(){if(o==n.default.toutiao)try{tt.showMoreGamesModal({appLaunchOptions:[{appId:"ttbc4ccaf12366b9e5"},{appId:"tt3b054db8a42f46c9"},{appId:"ttc21eb4a35d342053"},{appId:"tt88defe6317f471df"},{appId:"ttff4989f46063cd3f"},{appId:"tt854cf3f11a6610f8"}],success:function(e){console.log("success",e.errMsg)},fail:function(e){console.log("fail",e.errMsg),cc.toast.show("fail\u62b1\u6b49\uff0c\u4e0d\u652f\u6301\u8be5\u529f\u80fd",1.5)}})}catch(n){var e=tt.getSystemInfoSync(),t=e.SDKVersion,i=e.appName;console.log(t),t.split(".")[1]<33?cc.toast.show("\u5f53\u524d\u7248\u672c\u4e2d\u6b64\u529f\u80fd\u4e0d\u53ef\u7528,\u8bf7\u66f4\u65b0\u7248\u672c",1.5):"XiGua"==i?cc.toast.show("\u62b1\u6b49\uff0c\u897f\u74dc\u89c6\u9891\u4e0d\u652f\u6301\u6b64\u529f\u80fd",1.5):cc.toast.show("\u62b1\u6b49\uff0c\u60a8\u7684\u7248\u672c\u6682\u4e0d\u652f\u6301\u8be5\u529f\u80fd",1.5)}}}),cc._RF.pop()},{ChanneConfig:void 0,GameDataCenter:"GameDataCenter"}],rankScene:[function(e,t,i){"use strict";cc._RF.push(t,"dbaa3LTooREeosI12K6AFKS","rankScene");var n=s(e("banner")),a=s(e("login")),o=(s(e("share")),s(e("statistics")));function s(e){return e&&e.__esModule?e:{default:e}}cc.Class({extends:cc.Component,properties:{type:""},onLoad:function(){"isGroup"==this.type?window.openDataContext.openGroupRanking(window.openDataContext.shareTicket,895,532):window.openDataContext.openTotalRanking(895,532)},start:function(){0},onClose:function(){cc.audioComponent.play("button"),console.log("1\u5173\u95ed\u6392\u884c\u699c\u5f39\u7a97"),this.node.destroy(),this.node.emit("onClose")},onShare:function(){cc.audioComponent.play("button"),o.default.setSceneEvent("\u6392\u884c\u699c","\u70b9\u51fb","\u4e3b\u754c\u9762-\u6392\u884c\u699c-\u770b\u8c01\u66f4\u5feb"),console.log("\u5206\u4eab\u770b\u8c01\u66f4\u5feb")},onEnable:function(){this.banner=n.default.show("main"),a.default.hideLogin()},onDisable:function(){n.default.hide(),a.default.showLogin()}}),cc._RF.pop()},{banner:void 0,login:void 0,share:void 0,statistics:void 0}],turnplateScene:[function(e,t,i){"use strict";cc._RF.push(t,"cf1fcp9sGFMAotI0jlkL/0J","turnplateScene");var n=c(e("buttonConfig")),a=(c(e("share")),c(e("videoAd"))),o=(c(e("statistics")),c(e("login")),c(e("banner"))),s=c(e("Turnplate")),r=c(e("ChanneConfig"));function c(e){return e&&e.__esModule?e:{default:e}}var h=e("GameDataCenter").getInstance(),d=r.default.channelId;cc.Class({extends:cc.Component,properties:{wheelItems:{default:null,type:s.default},centreItem:cc.Node,drawBtn:cc.Node,gainModel:cc.Prefab,tipsLabel:cc.Label,notNode:cc.Node},onLoad:function(){cc.log("....onload"),this.gearNum=cc.gameConfig.wheelData.length,this.isTurn=!1,this.index=0,this.notNode.active=!1,this.buttonChange(),this.node.getChildByName("btn_close").active=!1,this.schedule(function(){this.node.getChildByName("btn_close").active=!0},2)},shareOrVideoBtn:function(){},turn:function(){var e=this,t=this.getTurnTimes();cc.audioComponent.play("turnplate");var i=cc.repeat(cc.sequence(cc.delayTime(.2),cc.callFunc(this.run,this)),t).easing(cc.easeInOut(2)),n=cc.sequence(i,cc.callFunc(function(){cc.audioComponent.stopAllEffects(),e.scheduleOnce(e.getPlatePrize,1)},this));this.node.runAction(n)},run:function(){console.log("turn"),this.wheelItems.wheelItemArr[this.index].getChildByName("selected").active=!1,this.index=(this.index+1)%this.wheelItems.wheelItemArr.length,this.wheelItems.wheelItemArr[this.index].getChildByName("selected").active=!0,this.setCenterIcon()},getTurnTimes:function(){for(var e=h.getBikeDataFragment(),t=!1,i=!1,n=0;n<e.length;n++)if(!e[n].buyed&&e[n].fragment<e[n].cost){0==n&&(i=!0),t=!0;break}var a,o=t?100:108,s=cc.gameConfig.wheelData,r=Math.ceil(Math.random()*o);console.log("random number: "+r);for(var c=0,d=0;c<s.length;c++){var u=c==s.length-1?t?d+s[c].awards[0].weight:d+s[c].awards[1].weight:d+s[c].awards[0].weight;if(d<=r&&r<u){a=c;break}d=u}i&&h._userGameData.turnTableCount%3==0&&(a=s.length-1),this.targetID=a,console.log("this.targetId",this.targetID);var l=this.targetID-this.index+24;return cc.log("\u8f6c\u52a8\u6b21\u6570:",l),l},onGo:function(){cc.loading.getCustomData()&&"plateGuidelines"==cc.loading.getCustomData().cmd&&-1==h.newGuidelinesCount&&h.freeTurnNum<1&&(h.saveData(),cc.eventCenter.emit("changeGuidelines",8,!1));var e=function(){this.isTurn||(cc.audioComponent.play("button"),h._userGameData.turnTableCount+=1,this.notNode.active=!0,this.isTurn=!0,this.drawBtn.getComponent(cc.Button).interactable=!1,this.drawBtn.getComponent(cc.Animation).stop(),cc.uiCenter.setState(this.drawBtn.getChildByName("bg").getComponent(cc.Sprite),0),cc.uiCenter.setState(this.drawBtn.getChildByName("icon_video").getComponent(cc.Sprite),0),this.turn())}.bind(this);console.log("gameDataCenter.freeTurnNum",h.freeTurnNum),h.freeTurnNum<1?e():a.default.show("xingyunzhuanpan",e)},setCenterIcon:function(){var e=this.centreItem.getChildByName("icon").getComponent(cc.Sprite);if(e.node.children.length>0&&e.node.removeAllChildren(),7==this.index){var t=cc.instantiate(this.wheelItems.wheelItemArr[this.index].getChildByName("icon").children[0]);e.node.addChild(t),e.spriteFrame=null}else{var i=this.wheelItems.wheelItemArr[this.index].getChildByName("icon").getComponent(cc.Sprite).spriteFrame;e.spriteFrame=i}},getPlatePrize:function(){this.drawBtn.getComponent(cc.Button).interactable=!0,cc.uiCenter.setState(this.drawBtn.getChildByName("bg").getComponent(cc.Sprite),1),cc.uiCenter.setState(this.drawBtn.getChildByName("icon_video").getComponent(cc.Sprite),1),h.freeTurnNum<1?h.freeTurnNum++:h.videoTurnNum++,h.lastFreeTimeOfTurnTable=new Date,h.saveData();var e=this.wheelItems.wheelItemArr[this.index].wheelData;if(4==e.awards[0].awardType)cc.toast.show(e.name,1);else if(3==e.awards[0].awardType){console.log("test getBikeDataFragment",h.getBikeDataFragment());for(var t=cc.instantiate(this.gainModel),i=h.getBikeDataFragment(),n=null,a=0;a<i.length;a++)if(!i[a].buyed&&i[a].fragment<i[a].cost){n={type:0,id:i[a].id-1,res:"award/card_"+(i[a].id-1),name:i[a].name};break}n||(n={type:2,res:e.res}),e.fragment=n;var o=n.res,s=n.type<2?this.wheelItems.wheelItemArr[this.index].wheelData.awards[0].totalNum:this.wheelItems.wheelItemArr[this.index].wheelData.awards[1].totalNum,r=this;cc.loader.loadRes(o,cc.SpriteFrame,function(i,a){i||(t.getComponent("gainModel").setData(1,a,s,e,n.type<2),r.node.addChild(t))})}else{t=cc.instantiate(this.gainModel);var c=this.wheelItems.wheelItemArr[this.index].getChildByName("icon").getComponent(cc.Sprite).spriteFrame;s=this.wheelItems.wheelItemArr[this.index].wheelData.awards[0].totalNum;t.getComponent("gainModel").setData(1,c,s,e),this.node.addChild(t)}this.notNode.active=!1,this.isTurn=!1,this.buttonChange()},buttonChange:function(){var e;(new Date).setHours(0,0,0,0)-new Date(h.lastFreeTimeOfTurnTable).setHours(0,0,0,0)>=cc.gameConfig.config.shareTotalLeftTime&&this.resetTurnTable(),this.shareOrVideoBtn(),!(e=(n.default.isShow("zhuanpanmianfeichoujiang"),h.freeTurnNum<1))&&(e=h.videoTurnNum<3),this.tipsLabel.node.active=!0,this.drawBtn.getComponent(cc.Animation).stop(),h.freeTurnNum<1?(this.drawBtn.getChildByName("icon_video").active=!1,this.drawBtn.getComponent(cc.Button).interactable=e,this.drawBtn.getComponent(cc.Animation).play(),this.tipsLabel.string="\u4eca\u65e5\u514d\u8d39\u4e00\u6b21"):(this.drawBtn.getChildByName("icon_video").active=!0,this.drawBtn.getComponent(cc.Animation).play(),this.tipsLabel.node.active=!1)},resetTurnTable:function(){cc.log("\u62bd\u5956\u5df2\u8fc7\u4e00\u5929\u6216\u4ee5\u4e0a\uff0c\u6e050"),h.freeTurnNum=0,h.videoTurnNum=0,h.saveData()},start:function(){},update:function(e){},onBack:function(){cc.audioComponent.play("button"),this.node.destroy()},onClose:function(){cc.audioComponent.play("button"),this.scheduleOnce(function(){cc.audioComponent.stopAllEffects()},.3),this.node.destroy()},onEnable:function(){-1!=h.newGuidelinesCount||cc.loading.getCustomData()&&"plateGuidelines"==cc.loading.getCustomData().cmd||d==r.default.toutiao&&o.default.show("main")},onDisable:function(){d==r.default.toutiao&&(o.default.hide(),-1==h.newGuidelinesCount&&window.InterstitialAd.createInterstitialAdByAdId("main"))}}),cc._RF.pop()},{ChanneConfig:void 0,GameDataCenter:"GameDataCenter",Turnplate:"Turnplate",banner:void 0,buttonConfig:void 0,login:void 0,share:void 0,statistics:void 0,videoAd:void 0}],usersRank:[function(e,t,i){"use strict";cc._RF.push(t,"a576deoj29NsLTk7GSmGazE","usersRank"),cc.Class({extends:cc.Component,properties:{userName:{default:null,type:cc.Label},userScore:{default:null,type:cc.Label},userNum:{default:null,type:cc.Label}},start:function(){},init:function(e){this.userNum.string=e.number,this.userName.string=e.name,this.userScore.string="\u7b2c"+e.score+"\u5173"}}),cc._RF.pop()},{}]},{},["AddCoin","AddDesktop","BikeShop","BoxAward","CallAndRecall","CallItem","ChangeBike","CheckIn","CoinLabel","CreatUserIcon","CreatUserName","Director","DisplayText","Experience","ExperienceAeard","ExperienceItem","Fcdb","FightScene","FlauntAward","FreeGain","FreeGainDaoju","FreeGainModel","GameRecommended","GameRecommended2","GetAward","GetTimeAward","GoMatch","IconTop","InfoPanel","Inventory","LicenseTips","MainGuidelines","MainScene","Map","MatchRival","MatchScene","MatchSelect","MyLicense","MyNaneLabel","MyPortrait","MysteriousBike","NewGuidelinesAward","NewGuidelinesTips","OpenPrefab","PerspectiveController","Portrait","PropShop","RankRules","RedPacket","RedPacketItem","Shop","ShopScene","SpecialEffectShop","Star","TabPanel","TestBike","TestScene","Turnplate","Upgrade","UpgradeTips","Achievement","List","ListItem","AmusementGame","CardItem","GameAward","MysticalBox","AudioBtn","AudioComponent","GameConfig","GameDataCenter","UiCenter","UiComponent","diamondLabel","feedbac","gainModel","infoAuthorze","GameMap","GameMode","matchFightPanel","moreCoins","moreDiamonds","moreGames","NpcInteract","RankGame","RankOverAward","RankOverTips","rankScene","GameOverRanking","RankLevel","RankingItem","TotalRanking","TotalRankingItem","GameRecorder","SharePage","turnplateScene","usersRank"]);