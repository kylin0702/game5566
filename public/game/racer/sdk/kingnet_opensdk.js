function showMpQrCode(){var e=document.getElementById("h5kymp-mask");if(e)e.style.display="block",document.getElementById("h5kymp-img").style.display="block";else{loadCssCode("#h5kymp-mask{position:fixed;z-index:10000;top:0;left:0;height:100%;width:100%;background:#000;display:block;opacity:.5}#h5kymp-img{z-index:10001;position:absolute;text-align:center;left:50%;top:50%;transform:translate(-50%,-50%)}");var o=document.createElement("div");o.id="h5kymp-mask",o.onclick=function(){document.getElementById("h5kymp-mask").style.display="none",document.getElementById("h5kymp-img").style.display="none"},document.body.appendChild(o),o=document.createElement("h5kymp-img"),o.id="h5kymp-img",document.body.appendChild(o),document.getElementById("h5kymp-img").innerHTML='<img src="https://image.h5ky.com/dsp/qrcode_for_plus.jpg" />'}}function loadCssCode(e){var o=document.createElement("style");o.type="text/css",o.rel="stylesheet",o.appendChild(document.createTextNode(e));var n=document.getElementsByTagName("head")[0];n.appendChild(o)}function loadPlatJs(e,o){var n=document.createElement("script");n.setAttribute("type","text/javascript"),n.setAttribute("src",e),n.onload=o,document.getElementsByTagName("head")[0].appendChild(n)}var version="1.0.30";"function"!=typeof Object.assign&&(Object.assign=function(e){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");e=Object(e);for(var o=1;o<arguments.length;o++){var n=arguments[o];if(null!=n)for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e});var success=function(e,o,n){void 0!==e&&e.success&&e.success({msg:o,info:n})},fail=function(e,o,n){void 0!==e&&e.fail&&e.fail({msg:o,info:n})},get_url_param=function(){var e={},o=location.href;console.log(o);var n=o.indexOf("?");o=o.substr(n+1);for(var i=o.split("&"),t=0;t<i.length;t++)if(n=i[t].indexOf("="),n>0){var s=i[t].substring(0,n),a=i[t].substr(n+1);e[s]=decodeURIComponent(a)}return console.log(e),e},xml_http_request=function(e){if(void 0!==e)if(void 0!==e.url){"method"in e||(e.method="GET"),"header"in e||(e.header={},e.header["content-type"]="application/x-www-form-urlencoded");var o=e.url;if("GET"==e.method||"get"==e.method){e.header["content-type"]="application/x-www-form-urlencoded";var n="";if(e.hasOwnProperty("data"))for(var i in e.data)n+=i,n+="=",n+=encodeURIComponent(e.data[i]),n+="&";o=e.url+"?"+n}var t=new XMLHttpRequest;if(t.open(e.method,o,!0),e.hasOwnProperty("header"))for(var i in e.header)t.setRequestHeader(i,e.header[i]);if(t.onreadystatechange=function(){4==t.readyState&&(t.status>=200&&t.status<300||304==t.status?e.success&&e.success({data:JSON.parse(t.responseText),header:t.getAllResponseHeaders(),statusCode:t.status}):e.fail&&e.fail({data:null,header:t.getAllResponseHeaders(),statusCode:t.status}))},"POST"==e.method||"post"==e.method)if(e.hasOwnProperty("data")){n=null;if("application/json"==e.header["content-type"])n=JSON.stringify(e.data);else{for(var i in n="",e.data)n+=i,n+="=",n+=encodeURIComponent(e.data[i]),n+="&";n=n.substring(0,n.length-1)}t.send(n)}else t.send();else t.send()}else fail(e,"url不存在",null)},request_payment_create_order=function(e,o,n){if(void 0!==e)if(void 0!==e.openid)if(void 0!==e.itemid)if(void 0!==e.item)if(void 0!==e.money){if(kingnet_opensdk.cur_platform==kingnet_opensdk.platform.OPPO){if(void 0===e.appVersion)return void n("appVersion缺失");if(void 0===e.engineVersion)return void n("engineVersion缺失")}if(void 0!==e.opensdk_sign){var i="https://opensdk.h5ky.com/api/order/"+kingnet_opensdk.get_platform_for_server()+"/"+kingnet_opensdk.appid;if(kingnet_opensdk.cur_platform==kingnet_opensdk.platform.XIAOMI){if(!e.session)return void n("session缺失");i+="?session=",i+=e.session}var t={};t.openid=e.openid,t.item=e.item,e.itemid&&(t.itemid=e.itemid),e.item_desc&&(t.item_desc=e.item_desc),e.count&&(t.count=e.count),t.money=e.money,e.country&&(t.country=e.country),e.currency&&(t.currency=e.currency),e.callback_url&&(t.callback_url=e.callback_url),kingnet_opensdk.cur_platform==kingnet_opensdk.platform.OPPO&&(t.appVersion=e.appVersion,t.engineVersion=e.engineVersion),e.custom&&(t.custom=e.custom),e.sid&&(t.sid=e.sid),e.sname&&(t.sname=e.sname),e.roleid&&(t.roleid=e.roleid),e.role_name&&(t.role_name=e.role_name),e.dev_orderid&&(t.dev_orderid=e.dev_orderid),t.opensdk_sign=e.opensdk_sign,kingnet_opensdk.request({url:i,data:t,method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},success:function(e){0==e.data.code?o&&o(e):n&&n(e)},fail:function(e){n&&n(e)}})}else n("opensdk_sign缺失")}else n("money缺失");else n("item缺失");else n("itemid缺失");else n("openid缺失");else n&&n("object为空")},kingnet_opensdk={},sdk_weixinx={init:function(e){success(e,"初始化成功",null)},login:function(e){if(wx){var o=!1;e&&e.is_get_user_info&&(o=e.is_get_user_info),o?wx.getSetting({success(o){if(o.authSetting){var n=o.authSetting["scope.userInfo"];if(!0===n)wx.login({success(o){o.code?wx.getUserInfo({withCredentials:!0,success(n){var i=JSON.parse(JSON.stringify(n));i.code=o.code,success(e,"登录成功",JSON.stringify(i))},fail(o){fail(e,"wx.getUserInfo失败",o)}}):fail(e,"登录失败",o)},fail:function(o){fail(e,"登录失败",o)}});else{var i=null;if(e.user_button_info)i=wx.createUserInfoButton(e.user_button_info);else{var t=wx.getSystemInfoSync(),s=t.screenWidth/2,a=s/4,d=t.screenWidth/2-s/2,r=3*t.screenHeight/4,_=a,l=a/2;i=wx.createUserInfoButton({type:"text",text:"登录",style:{left:d,top:r,width:s,height:a,lineHeight:_,backgroundColor:"#ff0000",color:"#ffffff",textAlign:"center",fontSize:l,borderRadius:4}})}i?(i.hide(),wx.login({success(o){o.code?(i.show(),i.onTap(function(n){var t=JSON.parse(JSON.stringify(n));t.code=o.code,success(e,"登录成功",JSON.stringify(t)),i.destroy()})):fail(e,"登录失败",o)},fail:function(o){fail(e,"登录失败",o)}})):fail(e,"wx.createUserInfoButton失败",o)}}else fail(e,"wx.getSetting失败",o)},fail(o){fail(e,"wx.getSetting失败",o)}}):wx.login({success(o){if(o.code){var n={};n.code=o.code,success(e,"登录成功",JSON.stringify(n))}else fail(e,"登录失败",o)},fail:function(o){fail(e,"登录失败",o)}})}else fail(e,"没有wx对象",null)},request:function(e){"undefined"!=typeof wx&&wx.request(e)},get_platform_for_server:function(){return"weixinx"},show_video_object:null,videoAd:null,on_video_close:function(e){e.isEnded?sdk_weixinx.show_video_object&&sdk_weixinx.show_video_object.onfinish&&sdk_weixinx.show_video_object.onfinish():sdk_weixinx.show_video_object&&sdk_weixinx.show_video_object.onclose&&sdk_weixinx.show_video_object.onclose()},on_video_error:function(e){sdk_weixinx.show_video_object&&sdk_weixinx.show_video_object.onerror&&sdk_weixinx.show_video_object.onerror(e)},on_video_load:function(e){sdk_weixinx.show_video_object&&sdk_weixinx.show_video_object.onload&&sdk_weixinx.show_video_object.onload()},show_video:function(e){if("undefined"!=typeof wx){var o=e.appinfo.plat_adids.video,n=o[Math.round(Math.random()*(o.length-1))];sdk_weixinx.videoAd&&(sdk_weixinx.videoAd.offClose(sdk_weixinx.on_video_close),sdk_weixinx.videoAd.offError(sdk_weixinx.on_video_error),sdk_weixinx.videoAd.offLoad(sdk_weixinx.on_video_load)),sdk_weixinx.videoAd=wx.createRewardedVideoAd({adUnitId:n}),sdk_weixinx.videoAd?(sdk_weixinx.show_video_object=e,sdk_weixinx.videoAd.onClose(sdk_weixinx.on_video_close),sdk_weixinx.videoAd.onError(sdk_weixinx.on_video_error),sdk_weixinx.videoAd.onLoad(sdk_weixinx.on_video_load),sdk_weixinx.videoAd.show().then(()=>{console.log("广告显示成功")}).catch(e=>{sdk_weixinx.show_video_object&&sdk_weixinx.show_video_object.onerror&&sdk_weixinx.show_video_object.onerror(e)})):e&&e.onerror&&e.onerror("createRewardedVideoAd失败 return null")}},banner:null,show_banner:function(e){if("undefined"!=typeof wx){var o=e.appinfo.plat_adids.banner,n=o[Math.round(Math.random()*(o.length-1))];this.banner&&(this.banner.destroy(),this.banner=null);var i=wx.getSystemInfoSync(),t=i.screenWidth;if(e&&e.width&&(t=e.width,t<300&&(t=300),t>i.screenWidth&&(t=i.screenWidth)),wx.createBannerAd&&(this.banner=wx.createBannerAd({adUnitId:n,style:{left:0,top:0,width:t}})),this.banner){var s=this,a=function(o){console.log(o),e&&e.onerror&&e.onerror(o),s.banner.offError(a)};this.banner.onError(a);var d=function(o){if(console.log(o),s.banner){var n=0,t=0;e&&(n=e.left?e.left:(i.screenWidth-o.width)/2,t=e.top?e.top:i.screenHeight-o.height),s.banner.width=o.width,s.banner.height=o.height,s.banner.style.top=t,s.banner.style.left=n}s.banner.offResize(d)};this.banner.onResize(d);var r=function(e){s.banner.show(),s.banner.offLoad(r)};this.banner.onLoad(r)}else e&&e.onerror&&e.onerror("createBannerAd失败 return null")}},hide_banner:function(e){this.banner&&this.banner.hide()}},sdk_oppox={init:function(e){kingnet_opensdk.get_appinfo({success:function(o){qg.initAdService({appId:kingnet_opensdk.appinfo.plat_appid,isDebug:!1,success:function(e){console.log("initAdService success")},fail:function(e){console.log("initAdService success"),console.log(e)}}),success(e,"初始化成功",o.data)},fail:function(o){fail(e,"获取appinfo失败",o)}})},login:function(e){if("undefined"!=typeof qg)if(kingnet_opensdk.appinfo){var o=kingnet_opensdk.appinfo.plat_package_name;qg.login({pkgName:o,success:function(n){var i={};i.uid=n.uid,i.token=n.token,i.nickName=n.nickName,i.avatar=n.avatar,i.sex=n.sex,i.birthday=n.birthday,i.phoneNum=n.phoneNum,i.location=n.location,i.pkgName=o,success(e,"登录成功",JSON.stringify(i))},fail:function(o){fail(e,"登录失败",o)}})}else fail(e,"appinfo为空,请确认是否已经初始化成功",res)},request_payment:function(e){"undefined"!=typeof qg&&request_payment_create_order(e,function(o){var n={};n.orderInfo=o.data.data,n.success=function(o){success(e,"支付成功",o)},n.fail=function(o){fail(e,"支付失败",o)},console.log(o),qg.pay(n)},function(o){fail(e,"创建订单失败",o)})},request:function(e){xml_http_request(e)},get_platform_for_server:function(){return"oppox"},show_video_object:null,videoAd:null,on_video_close:function(e){e.isEnded?sdk_oppox.show_video_object&&sdk_oppox.show_video_object.onfinish&&sdk_oppox.show_video_object.onfinish():sdk_oppox.show_video_object&&sdk_oppox.show_video_object.onclose&&sdk_oppox.show_video_object.onclose()},on_video_error:function(e){sdk_oppox.show_video_object&&sdk_oppox.show_video_object.onerror&&sdk_oppox.show_video_object.onerror(e)},on_video_load:function(e){sdk_oppox.show_video_object&&sdk_oppox.show_video_object.onload&&sdk_oppox.show_video_object.onload(),sdk_oppox.videoAd&&sdk_oppox.videoAd.show()},show_video:function(e){if("undefined"!=typeof qg){var o=e.appinfo.plat_adids.video,n=o[Math.round(Math.random()*(o.length-1))];sdk_oppox.videoAd&&(sdk_oppox.videoAd.offClose(sdk_oppox.on_video_close),sdk_oppox.videoAd.offError(sdk_oppox.on_video_error),sdk_oppox.videoAd.offLoad(sdk_oppox.on_video_load)),sdk_oppox.videoAd=qg.createRewardedVideoAd({adUnitId:n}),sdk_oppox.videoAd?(sdk_oppox.show_video_object=e,sdk_oppox.videoAd.onClose(sdk_oppox.on_video_close),sdk_oppox.videoAd.onError(sdk_oppox.on_video_error),sdk_oppox.videoAd.onLoad(sdk_oppox.on_video_load),sdk_oppox.videoAd.load()):e&&e.onerror&&e.onerror("createRewardedVideoAd失败 return null")}},show_interstitial_ad:function(e){if("undefined"!=typeof qg){var o=e.appinfo.plat_adids.screen,n=o[Math.round(Math.random()*(o.length-1))],i=qg.createInsertAd({posId:n});if(i){var t=function(){console.log("插屏广告加载成功"),e&&e.onload&&e.onload(),i.show(),i.offLoad(t)};i.onLoad(t);var s=function(o){i.destroy(),console.log(o),e&&e.onerror&&e.onerror(o),nterstitialAd.offError(s)};i.onError(s),i.load()}else e&&e.onerror&&e.onerror("createInsertAd失败 return null")}},bannerAd:null,show_banner:function(e){if("undefined"!=typeof qg){var o=e.appinfo.plat_adids.banner,n=o[Math.round(Math.random()*(o.length-1))];if(this.bannerAd=qg.createBannerAd({posId:n}),this.bannerAd){var i=this,t=function(o){console.log(o),e&&e.onerror&&e.onerror(o),i.bannerAd.offError(t)};this.bannerAd.onError(t),this.bannerAd.show()}else e&&e.onerror&&e.onerror("createBannerAd失败 return null")}},hide_banner:function(e){"undefined"!=typeof qg&&this.bannerAd&&this.bannerAd.hide()}},sdk_vivox={last_time:null,init:function(e){success(e,"初始化成功",null)},login:function(e){"undefined"!=typeof qg&&qg.authorize({type:"code",success:function(o){success(e,"授权成功",JSON.stringify(o)),console.log(JSON.stringify(o))},fail:function(o){console.log("authorize fail"),console.log(JSON.stringify(o)),fail(e,"授权失败",o)}})},request_payment:function(e){},request:function(e){xml_http_request(e)},get_platform_for_server:function(){return"vivox"},show_interstitial_ad:function(e){if("undefined"!=typeof qg)if(qg.getSystemInfoSync().platformVersionCode<1031)e&&e.onerror&&e.onerror("不支持广告");else{var o=e.appinfo.plat_adids.screen,n=o[Math.round(Math.random()*(o.length-1))],i=qg.createInterstitialAd({posId:n});if(i){var t=function(){console.log("插屏广告加载成功"),e&&e.onload&&e.onload(),i.offLoad(t)};i.onLoad(t);var s=function(o){console.log(o),e&&e.onerror&&e.onerror(o),i.offError(s)};i.onError(s);var a=function(){console.log("插屏广告关闭"),e&&e.onclose&&e.onclose(),i.offClose(a)};i.onClose(a),i.show().catch(function(e){i.load().then(function(){i.show()})})}else e&&e.onerror&&e.onerror("createInsertAd失败 return null")}},bannerAd:null,show_banner:function(e){if("undefined"!=typeof qg)if(qg.getSystemInfoSync().platformVersionCode<1031)e&&e.onerror&&e.onerror("不支持广告");else{this.bannerAd&&(this.bannerAd.destroy(),this.bannerAd=null);var o=e.appinfo.plat_adids.banner,n=o[Math.round(Math.random()*(o.length-1))];if(this.bannerAd=qg.createBannerAd({posId:n,style:{}}),this.bannerAd){var i=this,t=function(o){console.log(o),e&&e.onerror&&e.onerror(o),i.bannerAd.offError(t)};this.bannerAd.onError(t);var s=function(){console.log("Banner广告加载成功"),e&&e.onload&&e.onload(),i.bannerAd.show(),i.bannerAd.offLoad(s)};this.bannerAd.onLoad(s)}else e&&e.onerror&&e.onerror("createBannerAd失败 return null")}},hide_banner:function(e){"undefined"!=typeof qg&&this.bannerAd&&this.bannerAd.hide()},show_video_object:null,videoAd:null,on_video_load:function(){sdk_vivox.show_video_object&&sdk_vivox.show_video_object.onload&&sdk_vivox.show_video_object.onload(),sdk_vivox.videoAd&&sdk_vivox.videoAd.show().then(()=>{sdk_vivox.last_time=(new Date).getTime(),console.log("激励视频广告显示成功")}).catch(e=>{sdk_vivox.show_video_object.onerror(e)})},on_video_close:function(e){e.isEnded?sdk_vivox.show_video_object&&sdk_vivox.show_video_object.onfinish&&sdk_vivox.show_video_object.onfinish():sdk_vivox.show_video_object&&sdk_vivox.show_video_object.onclose&&sdk_vivox.show_video_object.onclose()},on_video_error:function(e){sdk_vivox.show_video_object&&sdk_vivox.show_video_object.onerror&&sdk_vivox.show_video_object.onerror(e)},show_video:function(e){if("undefined"!=typeof qg)if(qg.getSystemInfoSync().platformVersionCode<1041)e&&e.onerror&&e.onerror("不支持激励视频广告");else{sdk_vivox.videoAd&&(sdk_vivox.videoAd.offClose(sdk_vivox.on_video_close),sdk_vivox.videoAd.offError(sdk_vivox.on_video_error),sdk_vivox.videoAd.offLoad(sdk_vivox.on_video_load));var o=(new Date).getTime();if(sdk_vivox.last_time&&o-sdk_vivox.last_time<61e3)e.onerror("请稍后再播放视频广告");else{var n=!1;if(!sdk_vivox.videoAd){var i=e.appinfo.plat_adids.video,t=i[Math.round(Math.random()*(i.length-1))];if(sdk_vivox.videoAd=qg.createRewardedVideoAd({posId:t}),!sdk_vivox.videoAd)return void(e&&e.onerror&&e.onerror("createRewardedVideoAd error"));n=!0}sdk_vivox.show_video_object=e,sdk_vivox.videoAd.onLoad(sdk_vivox.on_video_load),sdk_vivox.videoAd.onClose(sdk_vivox.on_video_close),sdk_vivox.videoAd.onError(sdk_vivox.on_video_error),n||sdk_vivox.videoAd.load()}}}},sdk_iqiyi={init:function(e){"undefined"!=typeof window?(sdk_iqiyi.video_finish_callback=null,window.addEventListener("message",function(e){if(e.data){var o=JSON.parse(e.data);o&&"onRewardVideoComplete"==o.back_adpos&&sdk_iqiyi.video_finish_callback&&sdk_iqiyi.video_finish_callback()}}),sdk_iqiyi.hide_loading_page(),success(e,"初始化成功",null)):fail(e,"window对象不存在",null)},login:function(e){var o=get_url_param();success(e,"登录成功",JSON.stringify(o))},request_payment:function(e){request_payment_create_order(e,function(e){window.parent.postMessage(e.data.data.query,"http://togame.iqiyi.com")},function(o){fail(e,"创建订单失败",o)})},request:function(e){xml_http_request(e)},get_platform_for_server:function(){return"iqiyi"},show_banner:function(e){var o={adpos:"apiBannerAd",bAdType:"show"};window.parent.postMessage(JSON.stringify(o),"*")},hide_banner:function(e){var o={adpos:"apiBannerAd",bAdType:"dismiss"};window.parent.postMessage(JSON.stringify(o),"*")},show_video:function(e){e&&(this.video_finish_callback=e.onfinish);var o={adpos:"apiVideoAd"};window.parent.postMessage(JSON.stringify(o),"*")},report_js_loaded:function(){var e={type:"dataCount",msg:"server"};window.top.postMessage(e,"*")},report_game_loaded:function(){var e={position:"game_load",data:"success"};window.parent.postMessage(e,"http://togame.iqiyi.com")},report_create_role:function(e){var o={type:"dataCount",msg:"role"};window.top.postMessage(o,"*"),success(e,"上报成功",null)},report_enter_game:function(){var e={type:"dataCount",msg:"start"};window.top.postMessage(e,"*")},hide_loading_page:function(){var e={position:"game_load",data:"success"};window.parent.postMessage(e,"*")}},sdk_baidux={init:function(e){success(e,"初始化成功",null)},login:function(e){if(swan){var o=!1;e&&e.is_get_user_info&&(o=e.is_get_user_info),o?swan.getSetting({success(o){if(o.authSetting){var n=o.authSetting["scope.userInfo"];if(!0===n)swan.login({success(o){o.code?swan.getUserInfo({withCredentials:!0,success(n){var i=JSON.parse(JSON.stringify(n));i.code=o.code,success(e,"登录成功",JSON.stringify(i))},fail(o){fail(e,"swan.getUserInfo失败",o)}}):fail(e,"登录失败",o)},fail:function(o){fail(e,"登录失败",o)}});else{var i=null;if(e.user_button_info)i=swan.createUserInfoButton(e.user_button_info);else{var t=swan.getSystemInfoSync(),s=t.screenWidth/2,a=s/4,d=t.screenWidth/2-s/2,r=3*t.screenHeight/4,_=a,l=a/2;i=swan.createUserInfoButton({type:"text",text:"登录",style:{left:d,top:r,width:s,height:a,lineHeight:_,backgroundColor:"#ff0000",color:"#ffffff",textAlign:"center",fontSize:l,borderRadius:4}})}i?(i.hide(),swan.login({success(o){o.code?(i.show(),i.onTap(function(n){var t=JSON.parse(JSON.stringify(n));t.code=o.code,success(e,"登录成功",JSON.stringify(t)),i.destroy()})):fail(e,"登录失败",o)},fail:function(o){fail(e,"登录失败",o)}})):fail(e,"swan.createUserInfoButton失败",o)}}else fail(e,"swan.getSetting失败",o)},fail(o){fail(e,"swan.getSetting失败",o)}}):swan.login({success(o){if(o.code){var n={};n.code=o.code,success(e,"登录成功",JSON.stringify(n))}else fail(e,"登录失败",o)},fail:function(o){fail(e,"登录失败",o)}})}else fail(e,"没有swan对象",null)},request_payment:function(e){request_payment_create_order(e,function(o){var n={};n.orderInfo=o.data.data,n.success=function(o){success(e,"支付成功",o)},n.fail=function(o){fail(e,"支付失败",o)},console.log(o),swan.requestPolymerPayment(n)},function(o){fail(e,"创建订单失败",o)})},request:function(e){swan.request(e)},get_platform_for_server:function(){return"baidux"},show_video_object:null,videoAd:null,on_video_close:function(e){e.isEnded?sdk_baidux.show_video_object&&sdk_baidux.show_video_object.onfinish&&sdk_baidux.show_video_object.onfinish():sdk_baidux.show_video_object&&sdk_baidux.show_video_object.onclose&&sdk_baidux.show_video_object.onclose()},on_video_error:function(e){sdk_baidux.show_video_object&&sdk_baidux.show_video_object.onerror&&sdk_baidux.show_video_object.onerror(e)},on_video_load:function(e){sdk_baidux.show_video_object&&sdk_baidux.show_video_object.onload&&sdk_baidux.show_video_object.onload()},show_video:function(e){if("undefined"!=typeof swan){var o=e.appinfo.plat_adids.video,n=o[Math.round(Math.random()*(o.length-1))],i=e.appinfo.plat_appid;sdk_baidux.videoAd&&(sdk_baidux.videoAd.offClose(sdk_baidux.on_video_close),sdk_baidux.videoAd.offError(sdk_baidux.on_video_error),sdk_baidux.videoAd.offLoad(sdk_baidux.on_video_load)),sdk_baidux.videoAd=swan.createRewardedVideoAd({adUnitId:n,appSid:i}),sdk_baidux.videoAd?(sdk_baidux.show_video_object=e,sdk_baidux.videoAd.onClose(sdk_baidux.on_video_close),sdk_baidux.videoAd.onError(sdk_baidux.on_video_error),sdk_baidux.videoAd.onLoad(sdk_baidux.on_video_load),sdk_baidux.videoAd.show().then(()=>{console.log("广告显示成功")}).catch(e=>{sdk_baidux.show_video_object&&sdk_baidux.show_video_object.onerror&&sdk_baidux.show_video_object.onerror(e)})):e&&e.onerror&&e.onerror("createRewardedVideoAd失败 return null")}},banner:null,show_banner:function(e){if("undefined"!=typeof swan){var o=e.appinfo.plat_adids.banner,n=o[Math.round(Math.random()*(o.length-1))];this.banner&&(this.banner.destroy(),this.banner=null);var i=swan.getSystemInfoSync(),t=i.screenWidth;if(e&&e.width&&(t=e.width,t<300&&(t=300),t>i.screenWidth&&(t=i.screenWidth)),swan.createBannerAd&&(this.banner=swan.createBannerAd({adUnitId:n,style:{left:0,top:0,width:t}})),this.banner){var s=this,a=function(o){console.log(o),e&&e.onerror&&e.onerror(o),s.banner.offError(a)};this.banner.onError(a);var d=function(o){if(console.log(o),s.banner){var n=0,t=0;e&&(n=e.left?e.left:(i.screenWidth-o.width)/2,t=e.top?e.top:i.screenHeight-o.height),s.banner.width=o.width,s.banner.height=o.height,s.banner.style.top=t,s.banner.style.left=n}s.banner.offResize(d)};this.banner.onResize(d);var r=function(e){s.banner.show(),s.banner.offLoad(r)};this.banner.onLoad(r)}else e&&e.onerror&&e.onerror("createBannerAd失败 return null")}},hide_banner:function(e){this.banner&&this.banner.hide()}},sdk_toutiaox={init:function(e){success(e,"初始化成功",null)},login:function(e){if(tt){var o=!1;e&&e.is_get_user_info&&(o=e.is_get_user_info),o?tt.getSetting({success(o){if(o.authSetting){var n=o.authSetting["scope.userInfo"];!0===n?tt.login({success(o){o.code?tt.getUserInfo({withCredentials:!0,success(n){var i=JSON.parse(JSON.stringify(n));i.code=o.code,i.anonymousCode=o.anonymousCode,success(e,"登录成功",JSON.stringify(i))},fail(o){fail(e,"tt.getUserInfo失败",o)}}):fail(e,"登录失败",o)},fail:function(o){fail(e,"登录失败",o)}}):tt.authorize({scope:"scope.userInfo",success(){tt.login({success(o){o.code?tt.getUserInfo({withCredentials:!0,success(n){var i=JSON.parse(JSON.stringify(n));i.code=o.code,i.anonymousCode=o.anonymousCode,success(e,"登录成功",JSON.stringify(i))},fail(o){fail(e,"tt.getUserInfo失败",o)}}):fail(e,"登录失败",o)},fail:function(o){fail(e,"登录失败",o)}})},fail(){tt.login({success(o){if(o.code){var n={};n.code=o.code,n.anonymousCode=o.anonymousCode,success(e,"登录成功",JSON.stringify(n))}else fail(e,"登录失败",o)},fail:function(o){fail(e,"登录失败",o)}})}})}else fail(e,"tt.getSetting失败",o)},fail(o){fail(e,"tt.getSetting失败",o)}}):tt.login({success(o){if(o.code){var n={};n.code=o.code,n.anonymousCode=o.anonymousCode,success(e,"登录成功",JSON.stringify(n))}else fail(e,"登录失败",o)},fail:function(o){fail(e,"登录失败",o)}})}else fail(e,"没有tt对象",null)},request_payment:function(e){function o(t){var s="https://opensdk.h5ky.com/api/buy/"+kingnet_opensdk.get_platform_for_server()+"/"+kingnet_opensdk.appid,a=t;tt.request({url:s,data:a,method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},success(t){0==t.data.code?success(e,"支付成功",t):2002==t.data.code?tt.requestGamePayment({mode:"game",env:0,currencyType:"CNY",platform:"android",buyQuantity:t.data.data.sugg,zoneId:1,success:function(e){o(n.params)},fail:function(o){fail(e,"request_payment失败",o)}}):2003==t.data.code?i<3?(o(n.params),i++):fail(e,"扣币成功，发货失败",t):fail(e,"充值失败",t)},fail(o){fail(e,"充值失败",o)}})}var n=this,i=0;request_payment_create_order(e,function(e){n.params=e.data.data.params,o(e.data.data.params)},function(o){fail(e,"创建订单失败",o)})},request:function(e){tt.request(e)},get_platform_for_server:function(){return"toutiaox"},banner:null,show_banner:function(e){if("undefined"!=typeof tt){var o=e.appinfo.plat_adids.banner,n=o[Math.round(Math.random()*(o.length-1))];this.banner&&(this.banner.destroy(),this.banner=null);var i=128;e&&e.width&&(i=e.width,i<128&&(i=128),i>208&&(i=208));var t=i/16*9,s=tt.getSystemInfoSync(),a=(s.screenWidth-i)/2,d=s.screenHeight-t;if(e&&(e.left&&(a=e.left),e.top&&(d=e.top)),tt.createBannerAd&&(this.banner=tt.createBannerAd({adUnitId:n,style:{left:a,top:d,width:i}})),this.banner){var r=this,_=function(o){console.log(o),e&&e.onerror&&e.onerror(o),r.banner.offError(_)};this.banner.onError(_);var l=function(e){console.log(e),r.banner&&(r.banner.style.top=d,r.banner.style.left=a),r.banner.offResize(l)};this.banner.onResize(l);var c=function(e){r.banner.show(),r.banner.offLoad(c)};this.banner.onLoad(c)}else e&&e.onerror&&e.onerror("createBannerAd失败 return null")}},hide_banner:function(e){this.banner&&this.banner.hide()},show_video_object:null,videoAd:null,on_video_close:function(e){e.isEnded?sdk_toutiaox.show_video_object&&sdk_toutiaox.show_video_object.onfinish&&sdk_toutiaox.show_video_object.onfinish():sdk_toutiaox.show_video_object&&sdk_toutiaox.show_video_object.onclose&&sdk_toutiaox.show_video_object.onclose()},on_video_error:function(e){sdk_toutiaox.show_video_object&&sdk_toutiaox.show_video_object.onerror&&sdk_toutiaox.show_video_object.onerror(e)},on_video_load:function(e){sdk_toutiaox.show_video_object&&sdk_toutiaox.show_video_object.onload&&sdk_toutiaox.show_video_object.onload()},show_video:function(e){if(tt.createRewardedVideoAd){var o=e.appinfo.plat_adids.video,n=o[Math.round(Math.random()*(o.length-1))];if(sdk_toutiaox.videoAd&&(sdk_toutiaox.videoAd.offClose(sdk_toutiaox.on_video_close),sdk_toutiaox.videoAd.offError(sdk_toutiaox.on_video_error),sdk_toutiaox.videoAd.offLoad(sdk_toutiaox.on_video_load)),sdk_toutiaox.videoAd=tt.createRewardedVideoAd({adUnitId:n}),!sdk_toutiaox.videoAd)return void(e&&e.onerror&&e.onerror("createRewardedVideoAd失败 return null"));sdk_toutiaox.show_video_object=e,sdk_toutiaox.videoAd.onClose(sdk_toutiaox.on_video_close),sdk_toutiaox.videoAd.onError(sdk_toutiaox.on_video_error),sdk_toutiaox.videoAd.onLoad(sdk_toutiaox.on_video_load),sdk_toutiaox.videoAd.show().then(()=>{console.log("广告显示成功")}).catch(e=>{sdk_toutiaox.show_video_object&&sdk_toutiaox.show_video_object.onerror&&sdk_toutiaox.show_video_object.onerror(e)})}},start_record_game:function(e){if(void 0!==e.duration){var o=tt.getGameRecorderManager();o.onStart(o=>{console.log("录屏开始"),e&&e.onstart&&e.onstart(o)}),o.start({duration:e.duration})}else fail(e,"duration缺失",null)},stop_record_game:function(e){var o=tt.getGameRecorderManager();o.onStop(o=>{console.log(o.videoPath),e&&e.onstop&&e.onstop(o)}),o.stop()},record_game_clip:function(e){var o=tt.getGameRecorderManager();o.recordClip(e)},record_game_clip_video:function(e){var o=tt.getGameRecorderManager();o.clipVideo(e)},share_app_message:function(e){tt.shareAppMessage(e)}},sdk_h5ky={init:function(e){var o=navigator.userAgent;o.indexOf("H5KY(GPA")>-1?this.app=!0:this.app=!1,/micromessenger/i.test(o.toLowerCase())?this.wechat=!0:this.wechat=!1;var n=document.createElement("script");n.setAttribute("type","text/javascript"),n.onload=function(){success(e,"初始化成功",null)},this.app?n.setAttribute("src","https://static.h5ky.com/apkstatic/js/game/h5kyapp-game-jssdk-2.0.14.js"):n.setAttribute("src","https://static.h5ky.com/h5ky/js/h5ky-sdk1.1.js"),document.getElementsByTagName("head")[0].appendChild(n)},login:function(e){if(this.app)kyg.login({},function(o){void 0!==o.data?success(e,"登录成功",JSON.stringify(o.data)):fail(e,"登录失败",{})});else{var o=get_url_param();success(e,"登录成功",JSON.stringify(o))}},request_payment:function(e){this.app?kyg.getUserInfo({},function(o){if(0===o.status){var n=o.data;request_payment_create_order(e,function(e){e.data.data.uid=n.uid,e.data.data.token=n.token,e.data.data.udid=n.udid,e.data.data.ad_id=n.ad_id,kyg.pay.show(e.data.data)},function(o){fail(e,"创建订单失败",o)})}else kyg.toast.show(o.msg)}):request_payment_create_order(e,function(e){H5KY_SDK.pay2(e.data.data)},function(o){fail(e,"创建订单失败",o)})},get_app_gift:function(e){var o={stat:0,wechat:!1};this.app?(o.stat=1,success(e,"获取成功",o)):(this.wechat&&(o.wechat=!0),o.wechat?H5KY_SDK.isSubscribe(function(n){o.stat=n,success(e,"获取成功",o)}):success(e,"获取成功",o))},down_app:function(e){showMpQrCode(),success(e,"调用成功",null)},request:function(e){xml_http_request(e)},get_platform_for_server:function(){return"h5ky"},report_create_role:function(e){if(void 0!==e)if(void 0!==e.role){var o="1";e.openid&&(o=e.openid);var n=e.role,i=n,t="1";e.role_name&&(i=e.role_name),e.server&&(t=e.server);var s={openid:o,role:n,role_name:i,server:t,event:"create"};this.app?kyg.reportCreateRole(s,function(){success(e,"上报成功",null)}):(H5KY_SDK.statistics(s),success(e,"上报成功",null))}else fail(e,"role字段为空",null);else console.log("object为空")}},sdk_qimao={init:function(e){sdk_qimao.video_finish_callback=null,window.video_callback_from_app=function(){sdk_qimao.video_finish_callback&&sdk_qimao.video_finish_callback()},sdk_qimao.hide_loading_page(),success(e,"初始化成功",null)},login:function(e){var o=get_url_param();success(e,"登录成功",JSON.stringify(o))},request:function(e){xml_http_request(e)},get_platform_for_server:function(){return"qimao"},show_video:function(e){var o="unknow";e&&(this.video_finish_callback=e.onfinish,e.source&&(o=e.source));var n='qmgame://watch_game_ad?param={"call_back":"video_callback_from_app","type":"'+o+'","ad_type":"jlsp"}';window.open(n,"_self")},hide_loading_page:function(){window.setTimeout(function(){window.open("qmgame://game_loading_hide","_self")},50)},show_banner:function(e){window.open("qmgame://show_down_ad","_self")},hide_banner:function(e){window.open("qmgame://hide_down_ad","_self")}},sdk_qqx={init:function(e){success(e,"初始化成功",null)},login:function(e){if(qq){var o=!1;e&&e.is_get_user_info&&(o=e.is_get_user_info),o?qq.getSetting({success(o){if(o.authSetting){var n=o.authSetting["scope.userInfo"];if(!0===n)qq.login({success(o){o.code?qq.getUserInfo({withCredentials:!0,success(n){var i=JSON.parse(JSON.stringify(n));i.code=o.code,success(e,"登录成功",JSON.stringify(i))},fail(o){fail(e,"qq.getUserInfo失败",o)}}):fail(e,"登录失败",o)},fail:function(o){fail(e,"登录失败",o)}});else{var i=null;if(e.user_button_info)i=qq.createUserInfoButton(e.user_button_info);else{var t=qq.getSystemInfoSync(),s=t.screenWidth/2,a=s/4,d=t.screenWidth/2-s/2,r=3*t.screenHeight/4,_=a,l=a/2;i=qq.createUserInfoButton({type:"text",text:"登录",style:{left:d,top:r,width:s,height:a,lineHeight:_,backgroundColor:"#ff0000",color:"#ffffff",textAlign:"center",fontSize:l,borderRadius:4}})}i?(i.hide(),qq.login({success(o){o.code?(i.show(),i.onTap(function(n){var t=JSON.parse(JSON.stringify(n));t.code=o.code,success(e,"登录成功",JSON.stringify(t)),i.destroy()})):fail(e,"登录失败",o)},fail:function(o){fail(e,"登录失败",o)}})):fail(e,"qq.createUserInfoButton失败",o)}}else fail(e,"qq.getSetting失败",o)},fail(o){fail(e,"qq.getSetting失败",o)}}):qq.login({success(o){if(o.code){var n={};n.code=o.code,success(e,"登录成功",JSON.stringify(n))}else fail(e,"登录失败",o)},fail:function(o){fail(e,"登录失败",o)}})}else fail(e,"没有qq对象",null)},request:function(e){qq.request(e)},get_platform_for_server:function(){return"qqx"},show_video_object:null,videoAd:null,on_video_close:function(e){e.isEnded?sdk_qqx.show_video_object&&sdk_qqx.show_video_object.onfinish&&sdk_qqx.show_video_object.onfinish():sdk_qqx.show_video_object&&sdk_qqx.show_video_object.onclose&&sdk_qqx.show_video_object.onclose()},on_video_error:function(e){sdk_qqx.show_video_object&&sdk_qqx.show_video_object.onerror&&sdk_qqx.show_video_object.onerror(e)},on_video_load:function(e){sdk_qqx.show_video_object&&sdk_qqx.show_video_object.onload&&sdk_qqx.show_video_object.onload()},show_video:function(e){if("undefined"!=typeof qq){var o=e.appinfo.plat_adids.video,n=o[Math.round(Math.random()*(o.length-1))];sdk_qqx.videoAd&&(sdk_qqx.videoAd.offClose(sdk_qqx.on_video_close),sdk_qqx.videoAd.offError(sdk_qqx.on_video_error),sdk_qqx.videoAd.offLoad(sdk_qqx.on_video_load)),sdk_qqx.videoAd=qq.createRewardedVideoAd({adUnitId:n}),sdk_qqx.videoAd?(sdk_qqx.show_video_object=e,sdk_qqx.videoAd.onClose(sdk_qqx.on_video_close),sdk_qqx.videoAd.onError(sdk_qqx.on_video_error),sdk_qqx.videoAd.onLoad(sdk_qqx.on_video_load),sdk_qqx.videoAd.show().then(()=>{console.log("广告显示成功")}).catch(e=>{sdk_qqx.show_video_object&&sdk_qqx.show_video_object.onerror&&sdk_qqx.show_video_object.onerror(e)
})):e&&e.onerror&&e.onerror("createRewardedVideoAd失败 return null")}},banner:null,show_banner:function(e){if("undefined"!=typeof qq){var o=e.appinfo.plat_adids.banner,n=o[Math.round(Math.random()*(o.length-1))];this.banner&&(this.banner.destroy(),this.banner=null);var i=qq.getSystemInfoSync(),t=i.screenWidth;if(e&&e.width&&(t=e.width,t<300&&(t=300),t>i.screenWidth&&(t=i.screenWidth)),qq.createBannerAd&&(this.banner=qq.createBannerAd({adUnitId:n,style:{left:0,top:0,width:t}})),this.banner){var s=this,a=function(o){console.log(o),e&&e.onerror&&e.onerror(o),s.banner.offError(a)};this.banner.onError(a);var d=function(o){if(console.log(o),s.banner){var n=0,t=0;e&&(n=e.left?e.left:(i.screenWidth-o.width)/2,t=e.top?e.top:i.screenHeight-o.height),s.banner.width=o.width,s.banner.height=o.height,s.banner.style.top=t,s.banner.style.left=n}s.banner.offResize(d)};this.banner.onResize(d);var r=function(e){s.banner.show(),s.banner.offLoad(r)};this.banner.onLoad(r)}else e&&e.onerror&&e.onerror("createBannerAd失败 return null")}},hide_banner:function(e){this.banner&&this.banner.hide()}},sdk_xiaomi={init:function(e){var o=document.createElement("script");o.setAttribute("type","text/javascript"),o.setAttribute("defer","defer"),o.onload=function(){window.hy_wy_sdk.ready({zIndex:9999,pin:0},function(){success(e,"初始化成功",null)})},o.setAttribute("src","https://static.g.mi.com/game/h5sdk/h5-wy-sdk-v.1.0.2.min.js"),document.getElementsByTagName("head")[0].appendChild(o)},login:function(e){if("undefined"!=typeof hy_wy_sdk){var o=hy_wy_sdk.getBaseData(),n=JSON.parse(JSON.stringify(o));this.session=o.session,success(e,"登录成功",JSON.stringify(n))}else fail(e,"hy_wy_sdk对象不存在",null)},request_payment:function(e){"undefined"!=typeof hy_wy_sdk?(e.session=this.session,request_payment_create_order(e,function(o){var n=o.data.data;console.log(n),hy_wy_sdk.pay(n),hy_wy_sdk.payResult(function(o){console.log(o),success(e,"支付成功",o)})},function(o){fail(e,"创建订单失败",o)})):fail(e,"hy_wy_sdk对象不存在",null)},request:function(e){xml_http_request(e)},get_platform_for_server:function(){return"xiaomi"},refresh:function(){"undefined"!=typeof hy_wy_sdk&&hy_wy_sdk.reload()}},sdk_huaweix={init:function(e){kingnet_opensdk.get_appinfo({success:function(o){success(e,"初始化成功",o.data)},fail:function(o){fail(e,"获取appinfo失败",o)}})},login:function(e){"undefined"!=typeof hbs?kingnet_opensdk.appinfo?hbs.gameLogin({forceLogin:1,appid:kingnet_opensdk.appinfo.plat_appid,success:function(o){var n=JSON.parse(JSON.stringify(o));success(e,"登录成功",JSON.stringify(n))},fail(o,n){var i={data:o,code:n,appid:kingnet_opensdk.appinfo.plat_appid};fail(e,"登录失败",i)}}):fail(e,"appinfo为空,请确认是否已经初始化成功",res):fail(e,"hbs对象不存在",null)},request_payment:function(e){"undefined"!=typeof hbs?request_payment_create_order(e,function(o){var n={};n.orderInfo=o.data.data,n.success=function(o){success(e,"支付成功",o)},n.fail=function(o){fail(e,"支付失败",o)},console.log(o),hbs.hwPay(n)},function(o){fail(e,"创建订单失败",o)}):fail(e,"hbs对象不存在",null)},request:function(e){xml_http_request(e)},get_platform_for_server:function(){return"huaweix"}},sdk_fkylc={request_payment_object:null,init:function(e){var o=document.createElement("script");o.setAttribute("type","text/javascript"),o.onload=function(){void 0!==window.HORTOR_AGENT?kingnet_opensdk.get_appinfo({success:function(o){var n=kingnet_opensdk.appinfo.plat_appid,i=window.HORTOR_AGENT;i.init();var t={gameId:n,pay:{success:function(e){success(sdk_fkylc.request_payment_object,"支付成功",e)},cancel:function(e){fail(sdk_fkylc.request_payment_object,"支付取消",e)}}};t.share={timeline:{title:e.share.title,imgUrl:e.share.imgUrl,success:e.share.success,cancel:e.share.cancel},friend:{title:e.share.title,desc:e.share.desc,imgUrl:e.share.imgUrl,success:e.share.success,cancel:e.share.cancel}},e.share.custom&&(t.share.shareCustomParam=e.share.custom),i.config(t),success(e,"初始化成功",o.data)},fail:function(o){fail(e,"获取appinfo失败",o)}}):fail(e,"window.HORTOR_AGENT对象不存在",null)},o.setAttribute("src","https://cdn.hortor.net/sdk/sdk_agent.min.js"),document.getElementsByTagName("head")[0].appendChild(o)},login:function(e){if(void 0!==window.HORTOR_AGENT){var o=get_url_param();sdk_fkylc.url_param=o,success(e,"登录成功",JSON.stringify(o))}else fail(e,"window.HORTOR_AGENT对象不存在",null)},request_payment:function(e){void 0!==window.HORTOR_AGENT?request_payment_create_order(e,function(o){var n=o.data.data;console.log(n);var i=window.HORTOR_AGENT;i.pay(n),sdk_fkylc.request_payment_object=e},function(o){fail(e,"创建订单失败",o)}):fail(e,"window.HORTOR_AGENT对象不存在",null)},request:function(e){xml_http_request(e)},get_platform_for_server:function(){return"fkylc"},set_share_friend:function(e){if(void 0!==e)if(void 0!==e.title)if(void 0!==e.desc)if(void 0!==e.img_url)if(void 0!==window.HORTOR_AGENT){var o=window.HORTOR_AGENT,n={};n.title=e.title,n.desc=e.desc,n.imgUrl=e.img_url,e.on_share_success&&(n.success=e.on_share_success),e.on_share_cancel&&(n.cancel=e.on_share_cancel),o.config({share:{friend:n}}),success(e,"设置成功",null)}else fail(e,"window.HORTOR_AGENT对象不存在",null);else fail(e,"object.img_url为空",null);else fail(e,"object.desc为空",null);else fail(e,"object.title为空",null);else fail(e,"object为空",null)},set_share_timeline:function(e){if(void 0!==e)if(void 0!==e.title)if(void 0!==e.img_url)if(void 0!==window.HORTOR_AGENT){var o=window.HORTOR_AGENT,n={};n.title=e.title,n.imgUrl=e.img_url,e.on_share_success&&(n.success=e.on_share_success),e.on_share_cancel&&(n.cancel=e.on_share_cancel),o.config({share:{timeline:n}}),success(e,"设置成功",null)}else fail(e,"window.HORTOR_AGENT对象不存在",null);else fail(e,"object.img_url为空",null);else fail(e,"object.title为空",null);else fail(e,"object为空",null)},set_share_params:function(e){if(void 0!==e)if(void 0!==e.data)if(void 0!==window.HORTOR_AGENT){var o=window.HORTOR_AGENT,n={};for(var i in e.data)n["cp_"+i]=e.data[i];o.config({share:{shareCustomParam:n}}),success(e,"设置成功",null)}else fail(e,"window.HORTOR_AGENT对象不存在",null);else fail(e,"object.data为空",null);else fail(e,"object为空",null)},show_DR_code:function(){if(void 0!==window.HORTOR_AGENT){var e=window.HORTOR_AGENT;e.showQRCode()}},get_is_subscribe:function(){return!!sdk_fkylc.url_param&&("true"===sdk_fkylc.url_param.isSubscribe||"1"===sdk_fkylc.url_param.isSubscribe)},report_create_role:function(e){if(void 0!==e)if(void 0!==e.openid){var o=e.openid,n=o,i="1";e.role_name&&(n=e.role_name),e.server&&(i=e.server);var t={openid:o,role_name:n,serverid:i,event:"create_role"},s="https://opensdk.h5ky.com/api/statistic/"+kingnet_opensdk.get_platform_for_server()+"/"+kingnet_opensdk.appid;kingnet_opensdk.request({url:s,method:"POST",data:t,success:function(o){0==o.data.code?success(e,"上报成功",o):fail(e,"上报失败",o)},fail:function(o){fail(e,"上报失败",o)}})}else fail(e,"openid字段为空",null);else console.log("object为空")},realname_authentication:function(e){if(void 0!==e)if(void 0!==e.data)if(void 0!==window.HORTOR_AGENT){var o=window.HORTOR_AGENT;o.realnameAuthentication(function(o,n){e.data(n)}),success(e,"调用成功",null)}else fail(e,"window.HORTOR_AGENT对象不存在",null);else fail(e,"object.data为空",null);else fail(e,"object为空",null)},is_bind_tel_number:function(e){if(void 0!==window.HORTOR_AGENT){var o=window.HORTOR_AGENT;o.isBindTelNumber(function(o){if(200==o.status){var n={};n.resault=o.msg,success(e,"获取成功",n)}else fail(e,"获取失败",o.msg)})}else fail(e,"window.HORTOR_AGENT对象不存在",null)},open_bind_tel_modal:function(e){if(void 0!==e)if(void 0!==e.data)if(void 0!==window.HORTOR_AGENT){var o=window.HORTOR_AGENT;o.openBindTelModal(function(o){e.data(o)}),success(e,"调用成功",null)}else fail(e,"window.HORTOR_AGENT对象不存在",null);else fail(e,"object.data为空",null);else fail(e,"object为空",null)}},sdk_aiwy={request_payment_object:null,init:function(e){var o=document.createElement("script");o.setAttribute("type","text/javascript"),o.onload=function(){void 0!==window.AWY_SDK?kingnet_opensdk.get_appinfo({success:function(o){var n=kingnet_opensdk.appinfo.plat_appid,i=window.AWY_SDK;i.config(n,function(o){e.share.success(o)},function(e){success(sdk_aiwy.request_payment_object,"支付成功",e)}),i.shareTitle(e.share.title),i.shareDesc(e.share.desc),i.shareIcon(e.share.imgUrl),e.share.custom&&i.shareParams(e.share.custom),success(e,"初始化成功",o.data)},fail:function(o){fail(e,"获取appinfo失败",o)}}):fail(e,"window.AWY_SDK对象不存在",null)},o.setAttribute("src","https://cdn.11h5.com/static/js/sdk.min.js"),document.getElementsByTagName("head")[0].appendChild(o)},login:function(e){if(void 0!==window.AWY_SDK){var o=get_url_param();success(e,"登录成功",JSON.stringify(o))}else fail(e,"window.AWY_SDK对象不存在",null)},request_payment:function(e){void 0!==window.AWY_SDK?request_payment_create_order(e,function(o){var n=o.data.data;console.log(n);var i=window.AWY_SDK;i.pay(n),sdk_aiwy.request_payment_object=e},function(o){fail(e,"创建订单失败",o)}):fail(e,"window.AWY_SDK对象不存在",null)},request:function(e){xml_http_request(e)},get_platform_for_server:function(){return"aiwy"},report_create_role:function(e){if(void 0!==e)if(void 0!==e.openid){var o=e.openid,n=o,i="1";e.role_name&&(n=e.role_name),e.server&&(i=e.server);var t={openid:o,role_name:n,serverid:i,event:"create_role"},s="https://opensdk.h5ky.com/api/statistic/"+kingnet_opensdk.get_platform_for_server()+"/"+kingnet_opensdk.appid;kingnet_opensdk.request({url:s,method:"POST",data:t,success:function(o){0==o.data.code?success(e,"上报成功",o):fail(e,"上报失败",o)},fail:function(o){fail(e,"上报失败",o)}})}else fail(e,"openid字段为空",null);else console.log("object为空")},logout:function(){if(void 0!==window.AWY_SDK){var e=window.AWY_SDK;e.logout()}},refresh:function(){if(void 0!==window.AWY_SDK){var e=window.AWY_SDK;e.refresh()}},show_DR_code:function(){if(void 0!==window.AWY_SDK){var e=window.AWY_SDK;e.showFocus()}},show_share_guide:function(){if(void 0!==window.AWY_SDK){var e=window.AWY_SDK;e.showShare()}},set_share_desc:function(e){if(void 0!==e)if(void 0!==e.data)if(void 0!==window.AWY_SDK){var o=window.AWY_SDK;o.shareDesc(e.data),success(e,"设置成功",null)}else fail(e,"window.AWY_SDK对象不存在",null);else fail(e,"object.data为空",null);else fail(e,"object为空",null)},set_share_title:function(e){if(void 0!==e)if(void 0!==e.data)if(void 0!==window.AWY_SDK){var o=window.AWY_SDK;o.shareTitle(e.data),success(e,"设置成功",null)}else fail(e,"window.AWY_SDK对象不存在",null);else fail(e,"object.data为空",null);else fail(e,"object为空",null)},set_share_icon:function(e){if(void 0!==e)if(void 0!==e.data)if(void 0!==window.AWY_SDK){var o=window.AWY_SDK;o.shareIcon(e.data),success(e,"设置成功",null)}else fail(e,"window.AWY_SDK对象不存在",null);else fail(e,"object.data为空",null);else fail(e,"object为空",null)},set_share_params:function(e){if(void 0!==e)if(void 0!==e.data)if(void 0!==window.AWY_SDK){var o=window.AWY_SDK;o.shareParams(e.data),success(e,"设置成功",null)}else fail(e,"window.AWY_SDK对象不存在",null);else fail(e,"object.data为空",null);else fail(e,"object为空",null)},get_url_params:function(){if(void 0!==window.AWY_SDK){var e=window.AWY_SDK;return e.getURLVar("param name")}},get_is_mobile:function(){if(void 0!==window.AWY_SDK){var e=window.AWY_SDK;return e.isMobile()}},get_is_IOS:function(){if(void 0!==window.AWY_SDK){var e=window.AWY_SDK;return e.isiOS()}},get_is_aiwy_APP:function(){if(void 0!==window.AWY_SDK){var e=window.AWY_SDK;return e.isAvuAPP()}},save_game_to_desktop:function(){if(void 0!==window.AWY_SDK){var e=window.AWY_SDK;e.saveGameDesktop()}},get_is_launch_from_desktop:function(){if(void 0!==window.AWY_SDK){var e=window.AWY_SDK;return e.isDesktopApp()}},verify:function(e){if(void 0!==e)if(void 0!==e.data)if(void 0!==window.AWY_SDK){var o=window.AWY_SDK;o.verify(function(o){e.data(o)}),success(e,"调用成功",null)}else fail(e,"window.AWY_SDK对象不存在",null);else fail(e,"object.data为空",null);else fail(e,"object为空",null)},server_login_stat:function(e){void 0!==e?void 0!==e.serverid?void 0!==e.newuser?void 0!==window.AWY_SDK?(sdk.serverLoginStat({serverid:e.serverid,newuser:e.newuser}),success(e,"调用成功",null)):fail(e,"window.AWY_SDK对象不存在",null):fail(e,"object.newuser为空",null):fail(e,"object.serverid为空",null):fail(e,"object为空",null)},chat_monitor_params:null,chat_monitor:function(e){if(void 0!==e)if(void 0!==e.openid)if(void 0!==e.type)if(void 0!==e.serverid)if(void 0!==e.nick)if(void 0!==e.fromch)if(void 0!==e.touid)if(void 0!==e.tonick)if(void 0!==e.toch)if(void 0!==e.msg)if(void 0!==window.AWY_SDK){var o=function(){if(sdk_aiwy.chat_monitor_params){var o="https://chat-monitor.11h5.com/chat/",n={cmd:"record"};n.type=e.type,n.gameid=sdk_aiwy.chat_monitor_params.gameid,n.serverid=e.serverid,n.uid=e.openid,n.nick=e.nick,n.fromch=e.fromch,n.touid=e.touid,n.tonick=e.tonick,n.toch=e.toch,n.msg=e.msg,n.ip=sdk_aiwy.chat_monitor_params.ip,n.sign=sdk_aiwy.chat_monitor_params.signs[n.type.toString()],kingnet_opensdk.request({url:o,method:"GET",data:n,success:function(o){0==o.data.error?success(e,"聊天监控成功",o):fail(e,"聊天监控失败",o)},fail:function(o){fail(e,"聊天监控失败",o)}})}};if(sdk_aiwy.chat_monitor_params)o();else{var n="https://opensdk.h5ky.com/api/chatMonitorParam/"+kingnet_opensdk.get_platform_for_server()+"/"+kingnet_opensdk.appid;kingnet_opensdk.request({url:n,method:"POST",data:{openid:e.openid},success:function(n){0==n.data.code?(sdk_aiwy.chat_monitor_params=n.data.data,o()):fail(e,"获取聊天监控参数失败",n)},fail:function(o){fail(e,"获取聊天监控参数失败",o)}})}}else fail(e,"window.AWY_SDK对象不存在",null);else fail(e,"object.msg为空",null);else fail(e,"object.toch为空",null);else fail(e,"object.tonick为空",null);else fail(e,"object.touid为空",null);else fail(e,"object.fromch为空",null);else fail(e,"object.nick为空",null);else fail(e,"object.serverid为空",null);else fail(e,"object.type为空",null);else fail(e,"object.openid为空",null);else fail(e,"object为空",null)}},sdk_p9g={obj:null,params:null,init:function(e){loadPlatJs("https://game.9g.com/js/lib.v2.js",function(){if(void 0!==window.Game9G){var o=get_url_param();sdk_p9g.params=o,sdk_p9g.obj=new Game9G({gameid:o.gameid,channel:param.channel,token:param.token}),sdk_p9g.obj.ready(function(e){}),success(e,"初始化成功",{})}else fail(e,"window.Game9G对象不存在",null)})},login:function(e){sdk_p9g.obj&&sdk_p9g.params?success(e,"初始化成功",sdk_p9g.params):fail(e,"清先初始化",null)},report_create_role:function(e){sdk_p9g.obj.createRole({server_id:e.server,server_name:e.server,role_id:e.role,nickname:e.role_name},function(){e.success&&success(e,"上报成功",{})})},request_payment:function(e){sdk_p9g.obj?request_payment_create_order(e,function(e){var o=e.data.data;sdk_p9g.obj.pay(o)},function(o){fail(e,"创建订单失败",o)}):fail(e,"清先初始化",null)}};kingnet_opensdk.platform={WEIXINX:1,OPPOX:2,VIVOX:3,IQIYI:4,BAIDUX:5,TOUTIAOX:6,H5KY:7,QIMAO:8,QQX:9,XIAOMI:10,HUAWEIX:11,FKYLC:12,AIWY:13,P9G:14},kingnet_opensdk.get_platform_sdk=function(){var e=null;switch(this.cur_platform){case this.platform.WEIXINX:e=sdk_weixinx;break;case this.platform.OPPOX:e=sdk_oppox;break;case this.platform.VIVOX:e=sdk_vivox;break;case this.platform.IQIYI:e=sdk_iqiyi;break;case this.platform.BAIDUX:e=sdk_baidux;break;case this.platform.TOUTIAOX:e=sdk_toutiaox;break;case this.platform.H5KY:e=sdk_h5ky;break;case this.platform.QIMAO:e=sdk_qimao;break;case this.platform.QQX:e=sdk_qqx;break;case this.platform.XIAOMI:e=sdk_xiaomi;break;case this.platform.HUAWEIX:e=sdk_huaweix;break;case this.platform.FKYLC:e=sdk_fkylc;break;case this.platform.AIWY:e=sdk_aiwy;break;case this.platform.P9G:e=sdk_p9g}return e},kingnet_opensdk.apply=function(e,o){if(this.initialized){var n=this.get_platform_sdk();if(n)if(e in n){var i=n[e];if("function"==typeof i){var t=i.bind(n);t(o)}}else fail(o,"不支持此能力",null);else fail(o,"不支持此平台",null)}else fail(o,"请先初始化",null)},kingnet_opensdk.request=function(e){this.apply("request",e)},kingnet_opensdk.appinfo=null,kingnet_opensdk.get_appinfo=function(e){var o="https://opensdk.h5ky.com/api/appInfo/"+this.get_platform_for_server()+"/"+this.appid;this.request({url:o,method:"GET",header:{"content-type":"application/x-www-form-urlencoded"},success:function(o){0==o.data.code?(kingnet_opensdk.appinfo=o.data.data,kingnet_opensdk.appinfo.plat_appid||(kingnet_opensdk.appinfo.plat_appid=""),kingnet_opensdk.appinfo.plat_package_name||(kingnet_opensdk.appinfo.plat_package_name=""),kingnet_opensdk.appinfo.plat_adids||(kingnet_opensdk.appinfo.plat_adids={}),kingnet_opensdk.appinfo.plat_adids.banner||(kingnet_opensdk.appinfo.plat_adids.banner=[]),kingnet_opensdk.appinfo.plat_adids.screen||(kingnet_opensdk.appinfo.plat_adids.screen=[]),kingnet_opensdk.appinfo.plat_adids.video||(kingnet_opensdk.appinfo.plat_adids.video=[]),e&&e.success&&e.success(o)):e&&e.fail&&e.fail(o)},fail:function(o){e&&e.fail&&e.fail(o)}})},kingnet_opensdk.insure_appinfo_apply=function(e,o){kingnet_opensdk.appinfo?(void 0===o&&(o={}),o.appinfo=kingnet_opensdk.appinfo,kingnet_opensdk.apply(e,o)):kingnet_opensdk.get_appinfo({success:function(n){void 0===o&&(o={}),o.appinfo=kingnet_opensdk.appinfo,kingnet_opensdk.apply(e,o)},fail:function(e){fail(o,"获取appinfo失败",null)}})},kingnet_opensdk.show_banner=function(e){this.insure_appinfo_apply("show_banner",e)},kingnet_opensdk.hide_banner=function(e){this.apply("hide_banner",e)},kingnet_opensdk.show_interstitial_ad=function(e){this.insure_appinfo_apply("show_interstitial_ad",e)},kingnet_opensdk.show_video=function(e){this.insure_appinfo_apply("show_video",e)},kingnet_opensdk.get_app_gift=function(e){this.apply("get_app_gift",e)},kingnet_opensdk.down_app=function(e){this.apply("down_app",e)},kingnet_opensdk.cur_platform=null,kingnet_opensdk.appid=null,kingnet_opensdk.initialized=!1,kingnet_opensdk.get_sys_info=function(){return{sdk_version:version,platform:this.cur_platform,appid:this.appid}},kingnet_opensdk.init=function(e){void 0!==e&&(void 0!==e.platform?void 0!==e.appid?(this.appid=e.appid,this.cur_platform=e.platform,kingnet_opensdk.initialized=!0,e.share=Object.assign({title:"",desc:"",imgUrl:"",custom:null,success:function(){console.log("share success not seted")},cancel:function(){console.log("share cancel not seted")}},e.share),this.apply("init",e)):fail(e,"appid不存在",null):fail(e,"平台标识不存在",null))},kingnet_opensdk.clear=function(e){this.cur_platform=null,this.appid=null,this.initialized=!1,success(e,"清理成功",null)},kingnet_opensdk.login=function(e){this.apply("login",e)},kingnet_opensdk.get_platform_for_server=function(){var e="",o=this.get_platform_sdk();return o&&o.get_platform_for_server&&(e=o.get_platform_for_server()),e},kingnet_opensdk.request_payment=function(e){this.apply("request_payment",e)},kingnet_opensdk.start_record_game=function(e){this.apply("start_record_game",e)},kingnet_opensdk.stop_record_game=function(e){this.apply("stop_record_game",e)},kingnet_opensdk.record_game_clip=function(e){this.apply("record_game_clip",e)},kingnet_opensdk.record_game_clip_video=function(e){this.apply("record_game_clip_video",e)},kingnet_opensdk.share_app_message=function(e){this.apply("share_app_message",e)},kingnet_opensdk.report_js_loaded=function(e){this.apply("report_js_loaded",e)},kingnet_opensdk.report_game_loaded=function(e){this.apply("report_game_loaded",e)},kingnet_opensdk.report_create_role=function(e){this.apply("report_create_role",e)},kingnet_opensdk.report_enter_game=function(e){this.apply("report_enter_game",e)},kingnet_opensdk.logout=function(){var e=this.get_platform_sdk();e&&e.logout()},kingnet_opensdk.refresh=function(){var e=this.get_platform_sdk();e&&e.refresh()},kingnet_opensdk.show_DR_code=function(){var e=this.get_platform_sdk();e&&e.show_DR_code()},kingnet_opensdk.show_share_guide=function(){var e=this.get_platform_sdk();e&&e.show_share_guide()},kingnet_opensdk.set_share_desc=function(e){this.apply("set_share_desc",e)},kingnet_opensdk.set_share_title=function(e){this.apply("set_share_title",e)},kingnet_opensdk.set_share_icon=function(e){this.apply("set_share_icon",e)},kingnet_opensdk.set_share_params=function(e){this.apply("set_share_params",e)},kingnet_opensdk.get_url_params=function(){var e=this.get_platform_sdk();return e?e.get_url_params():null},kingnet_opensdk.get_is_mobile=function(){var e=this.get_platform_sdk();if(e)return e.get_is_mobile()},kingnet_opensdk.get_is_IOS=function(){var e=this.get_platform_sdk();if(e)return e.get_is_IOS()},kingnet_opensdk.get_is_aiwy_APP=function(){var e=this.get_platform_sdk();if(e)return e.get_is_aiwy_APP()},kingnet_opensdk.save_game_to_desktop=function(){var e=this.get_platform_sdk();e&&e.save_game_to_desktop()},kingnet_opensdk.get_is_launch_from_desktop=function(){var e=this.get_platform_sdk();if(e)return e.get_is_launch_from_desktop()},kingnet_opensdk.verify=function(e){this.apply("verify",e)},kingnet_opensdk.server_login_stat=function(e){this.apply("server_login_stat",e)},kingnet_opensdk.chat_monitor=function(e){this.apply("chat_monitor",e)},kingnet_opensdk.set_share_friend=function(e){this.apply("set_share_friend",e)},kingnet_opensdk.set_share_timeline=function(e){this.apply("set_share_timeline",e)},kingnet_opensdk.get_is_subscribe=function(){var e=this.get_platform_sdk();if(e)return e.get_is_subscribe()},kingnet_opensdk.realname_authentication=function(e){this.apply("realname_authentication",e)},kingnet_opensdk.is_bind_tel_number=function(e){this.apply("is_bind_tel_number",e)},kingnet_opensdk.open_bind_tel_modal=function(e){this.apply("open_bind_tel_modal",e)},"undefined"!=typeof module&&module.exports&&(module.exports=kingnet_opensdk);